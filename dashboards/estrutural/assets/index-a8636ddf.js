import{c as Z,j as e,C as J,E as X,O as K,u as Y,H as ee,a as se,b as ae,R as H,M as G,d as k,V as I,e as oe,f as te}from"./three-fb9a568c.js";import{r as N,R as le}from"./vendor-57209f9c.js";(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))p(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&p(f)}).observe(document,{childList:!0,subtree:!0});function h(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function p(i){if(i.ep)return;i.ep=!0;const n=h(i);fetch(i.href,n)}})();const $=Z((t,g)=>({itens:[],resumo:{valorTotal:0,maoDeObraTotal:0,materiaisTotal:0,areaTotal:0,custoPorM2:0},setItens:h=>{t({itens:h}),g().calcularResumo()},calcularResumo:()=>{const{itens:h}=g();if(h.length===0){t({resumo:{valorTotal:0,maoDeObraTotal:0,materiaisTotal:0,areaTotal:0,custoPorM2:0}});return}const p=h.filter(c=>c.isEtapaTotal),i=p.reduce((c,j)=>c+j.total,0),n=p.reduce((c,j)=>c+j.maoDeObra,0),f=p.reduce((c,j)=>c+j.materiais,0);console.log("ğŸ” Debug do Store - Itens principais:",p.map(c=>({id:c.id,descricao:c.descricao,total:c.total,maoDeObra:c.maoDeObra,materiais:c.materiais}))),console.log("ğŸ” Debug do Store - Totais calculados:",{valorTotal:i,maoDeObraTotal:n,materiaisTotal:f});const y=h.reduce((c,j)=>c+(j.area||0),0),l=y>0?i/y:0;t({resumo:{valorTotal:i,maoDeObraTotal:n,materiaisTotal:f,areaTotal:y,custoPorM2:l}})}})),P=[{id:"1",codigo:"1",nome:"FundaÃ§Ã£o",descricao:"FundaÃ§Ã£o",categoria:"FundaÃ§Ã£o",subcategoria:"Total",unidade:"",quantidade:0,valorUnitario:0,maoDeObra:10846.1,materiais:28394.92,total:39241.02,area:149,peso:30.81,isEtapaTotal:!0,elementos3D:"1.1_.031,1.1_.032,1.1_.033,1.1_.034,1.1_.035,1.1_.036,1.1_.037,1.1_.038,1.1_.039,1.1_.040,1.1_.041,1.1_.042,1.1_.043,1.1_.044,1.1_.045,1.2_.003,1.2_.011,1.2_.012,1.2_.013"},{id:"1.1",codigo:"1.1",nome:"Vigas",descricao:"Vigas",categoria:"FundaÃ§Ã£o",subcategoria:"Vigas",unidade:"mÂ³",quantidade:98.6,valorUnitario:197.1,maoDeObra:5374.03,materiais:14049.96,total:19423.99,area:149,peso:15.25,isEtapaTotal:!1,elementos3D:"1.1_.031,1.1_.032,1.1_.033,1.1_.034,1.1_.035,1.1_.036,1.1_.037,1.1_.038,1.1_.039,1.1_.040,1.1_.041,1.1_.042,1.1_.043,1.1_.044,1.1_.045"},{id:"1.2",codigo:"1.2",nome:"Pilares",descricao:"Pilares",categoria:"FundaÃ§Ã£o",subcategoria:"Pilares",unidade:"mÂ³",quantidade:1.4,valorUnitario:6641.16,maoDeObra:2394.23,materiais:6903.39,total:9297.62,area:149,peso:7.3,isEtapaTotal:!1,elementos3D:"1.2_.003,1.2_.011,1.2_.012,1.2_.013"},{id:"1.3",codigo:"1.3",nome:"FundaÃ§Ãµes",descricao:"FundaÃ§Ãµes",categoria:"FundaÃ§Ã£o",subcategoria:"FundaÃ§Ãµes",unidade:"mÂ³",quantidade:5.4,valorUnitario:1948.04,maoDeObra:3077.84,materiais:7441.57,total:10519.41,area:149,peso:8.26,isEtapaTotal:!1,elementos3D:"1.3_.001,1.3_.002,1.3_.003"},{id:"2",codigo:"2",nome:"TÃ©rreo",descricao:"TÃ©rreo",categoria:"TÃ©rreo",subcategoria:"Total",unidade:"",quantidade:0,valorUnitario:0,maoDeObra:10925.65,materiais:36442.67,total:47368.32,area:149,peso:37.2,isEtapaTotal:!0,elementos3D:"2.1_.001,2.1_.002,2.1_.003,2.2_.001,2.2_.002,2.2_.003,2.3_.001,2.3_.002,2.3_.003"},{id:"2.1",codigo:"2.1",nome:"Vigas",descricao:"Vigas",categoria:"TÃ©rreo",subcategoria:"Vigas",unidade:"mÂ³",quantidade:6.2,valorUnitario:2802.94,maoDeObra:3894.85,materiais:13483.37,total:17378.22,area:149,peso:13.65,isEtapaTotal:!1,elementos3D:"2.1_.001,2.1_.002,2.1_.003"},{id:"2.2",codigo:"2.2",nome:"Pilares",descricao:"Pilares",categoria:"TÃ©rreo",subcategoria:"Pilares",unidade:"mÂ³",quantidade:3.8,valorUnitario:5887.16,maoDeObra:6113.01,materiais:16258.2,total:22371.21,area:149,peso:17.57,isEtapaTotal:!1,elementos3D:"2.2_.001,2.2_.002,2.2_.003"},{id:"2.3",codigo:"2.3",nome:"Lajes",descricao:"Lajes",categoria:"TÃ©rreo",subcategoria:"Lajes",unidade:"mÂ³",quantidade:6.7,valorUnitario:1137.15,maoDeObra:917.79,materiais:6701.1,total:7618.89,area:149,peso:5.98,isEtapaTotal:!1,elementos3D:"2.3_.001,2.3_.002,2.3_.003"},{id:"3",codigo:"3",nome:"Pavimento Superior",descricao:"Pavimento Superior",categoria:"Pavimento Superior",subcategoria:"Total",unidade:"",quantidade:0,valorUnitario:0,maoDeObra:11125.92,materiais:29611.27,total:40737.19,area:149,peso:31.99,isEtapaTotal:!0,elementos3D:"3.1_.001,3.1_.002,3.1_.003,3.2_.001,3.2_.002,3.2_.003"},{id:"3.1",codigo:"3.1",nome:"Vigas",descricao:"Vigas",categoria:"Pavimento Superior",subcategoria:"Vigas",unidade:"mÂ³",quantidade:5.9,valorUnitario:2425.53,maoDeObra:5035.07,materiais:13644.76,total:18679.83,area:149,peso:14.67,isEtapaTotal:!1,elementos3D:"3.1_.001,3.1_.002,3.1_.003"},{id:"3.2",codigo:"3.2",nome:"Pilares",descricao:"Pilares",categoria:"Pavimento Superior",subcategoria:"Pilares",unidade:"mÂ³",quantidade:3.8,valorUnitario:5804.57,maoDeObra:6090.85,materiais:15966.51,total:22057.36,area:149,peso:17.32,isEtapaTotal:!1,elementos3D:"3.2_.001,3.2_.002,3.2_.003"}],ne=async()=>{try{console.log("ğŸš€ ===== INICIANDO CARREGAMENTO DE DADOS ====="),console.log("ğŸ“ Carregando dados reais da planilha 5DEST.csv..."),console.log("ğŸŒ URL base:",window.location.origin),console.log("ğŸ“‚ Caminho atual:",window.location.pathname);const t=["/5DEST.csv","./5DEST.csv","5DEST.csv"];let g=null,h="";for(const n of t)try{if(console.log(`Tentando carregar CSV de: ${n}`),g=await fetch(n),g.ok){h=n;break}}catch(f){console.log(`Falha ao carregar de ${n}:`,f)}if(!g||!g.ok)throw new Error(`Erro ao carregar 5DEST.csv de qualquer caminho. Status: ${g==null?void 0:g.status}`);console.log(`âœ… CSV carregado com sucesso de: ${h}`),console.log("ğŸ“Š Status da resposta CSV:",g.status),console.log("ğŸ“‹ Headers da resposta:",Object.fromEntries(g.headers.entries()));const p=await g.text();console.log("ğŸ“„ CSV carregado, processando dados..."),console.log("ğŸ“ Primeiras 500 caracteres do CSV:",p.substring(0,500)),console.log("ğŸ“ Tamanho total do CSV:",p.length);const i=re(p);if(i.length===0)throw console.error("Nenhum dado processado. ConteÃºdo CSV:",p),new Error("Nenhum dado vÃ¡lido encontrado na planilha CSV");return console.log("âœ… Dados reais carregados:",i.length,"itens"),console.log("ğŸ“Š Total geral:",i.filter(n=>n.isEtapaTotal).reduce((n,f)=>n+f.total,0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),i}catch(t){return console.error("âŒ Erro ao carregar dados da planilha:",t),console.log("ğŸ”„ Usando dados incorporados como fallback..."),console.log("âœ… Dados incorporados carregados:",P.length,"itens"),console.log("ğŸ“Š Total geral:",P.filter(g=>g.isEtapaTotal).reduce((g,h)=>g+h.total,0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),P}},re=t=>{var n,f,y,l,c,j,b,d,r;console.log("ğŸ“Š ===== PROCESSANDO CSV 5DEST (VERSÃƒO CORRIGIDA) ====="),console.log("ğŸ“„ Processando CSV 5DEST...");const g=t.split(`
`);console.log("ğŸ“ Total de linhas:",g.length),console.log("ğŸ“‹ Primeiras 5 linhas:",g.slice(0,5));const h=[];if(g.length>0){const a=g[0];console.log("ğŸ“‹ CABEÃ‡ALHO DETECTADO:",a);const x=a.split(";").map(s=>s.trim());console.log("ğŸ“Š COLUNAS DO CABEÃ‡ALHO:",x.map((s,o)=>`${o}: ${s}`));const u=x.findIndex(s=>s.toLowerCase().includes("elementos")||s.toLowerCase().includes("3d")||s==="Elementos3D");console.log(`ğŸ¯ Coluna Elementos3D encontrada na posiÃ§Ã£o: ${u}`)}for(let a=1;a<g.length;a++){const x=g[a].trim();if(a<=5&&console.log(`Linha ${a}:`,x),!x||x.startsWith(";")||x.includes("Total sem BDI")||x.includes("Total Geral"))continue;const u=x.split(";");if(console.log(`ğŸ“Š Linha ${a} - Colunas (${u.length}):`,u.map((s,o)=>`${o}: "${s.trim()}"`)),u.length>=8){const s=(n=u[0])==null?void 0:n.trim(),o=(f=u[1])==null?void 0:f.trim(),m=(y=u[2])==null?void 0:y.trim(),v=parseFloat(((l=u[3])==null?void 0:l.replace(",","."))||"0"),A=((c=u[4])==null?void 0:c.trim())||"0",w=((j=u[5])==null?void 0:j.trim())||"0",M=((b=u[6])==null?void 0:b.trim())||"0",z=((d=u[7])==null?void 0:d.trim())||"0",T=((r=u[8])==null?void 0:r.trim())||"",R=parseFloat(A.replace(/\./g,"").replace(",",".")||"0"),V=parseFloat(w.replace(/\./g,"").replace(",",".")||"0"),_=parseFloat(M.replace(/\./g,"").replace(",",".")||"0"),Q=parseFloat(z.replace("%","").replace(",",".")||"0");if(s==="1.1")if(console.log("ğŸ—ï¸ ===== ITEM 1.1 (VIGAS) DETECTADO ====="),console.log("ğŸ—ï¸ Item:",s),console.log("ğŸ—ï¸ DescriÃ§Ã£o:",o),console.log("ğŸ—ï¸ Elementos3D RAW:",`"${T}"`),console.log("ğŸ—ï¸ Elementos3D LENGTH:",T.length),console.log("ğŸ—ï¸ Possui vÃ­rgulas?",T.includes(",")),T&&T.includes(",")){const S=T.split(",").map(L=>L.trim()).filter(L=>L!=="");console.log("ğŸ—ï¸ Elementos3D ARRAY:",S),console.log("ğŸ—ï¸ Quantidade de elementos:",S.length),console.log("ğŸ—ï¸ Primeiro elemento:",`"${S[0]}"`),console.log("ğŸ—ï¸ Ãšltimo elemento:",`"${S[S.length-1]}"`)}else console.log("ğŸ—ï¸ âš ï¸ Elementos3D nÃ£o contÃ©m vÃ­rgulas ou estÃ¡ vazio!");if(T&&T.trim()!==""&&console.log(`ğŸ“‹ Item ${s} possui elementos3D:`,`"${T}"`),!s||s==="")continue;let O="FundaÃ§Ã£o",D="Outros",C=!1;if(s==="1"||s==="2"||s==="3"?(C=!0,s==="1"?(O="FundaÃ§Ã£o",D="Total"):s==="2"?(O="TÃ©rreo",D="Total"):s==="3"&&(O="Pavimento Superior",D="Total")):s.startsWith("1.")?(O="FundaÃ§Ã£o",s==="1.1"?D="Vigas":s==="1.2"?D="Pilares":s==="1.3"&&(D="FundaÃ§Ãµes")):s.startsWith("2.")?(O="TÃ©rreo",s==="2.1"?D="Vigas":s==="2.2"?D="Pilares":s==="2.3"&&(D="Lajes")):s.startsWith("3.")&&(O="Pavimento Superior",s==="3.1"?D="Vigas":s==="3.2"?D="Pilares":s==="3.3"&&(D="Lajes")),a<10&&console.log(`ValidaÃ§Ã£o linha ${a}:`,{item:s,descricao:o,quantidade:v,totalFinal:_,isEtapaTotal:C,condicao:s&&o&&(v>0||_>0||C)}),s&&o&&(v>0||_>0||C)){let S=R,L=V;C?(S=0,L=0):(S=R,L=V),h.push({id:s,codigo:s,nome:o.length>50?o.substring(0,50)+"...":o,descricao:o,categoria:O,subcategoria:D,unidade:m,quantidade:v,valorUnitario:v>0?_/v:0,maoDeObra:S,materiais:L,total:_,area:149,peso:Q,isEtapaTotal:C,elementos3D:T})}}}["1","2","3"].forEach(a=>{const x=h.find(u=>u.id===a);if(x){const u=h.filter(m=>m.id.startsWith(a+".")),s=u.reduce((m,v)=>m+v.maoDeObra,0),o=u.reduce((m,v)=>m+v.materiais,0);x.maoDeObra=s,x.materiais=o,console.log(`ğŸ“Š Etapa ${a} (${x.descricao}): M.O. = ${s.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}, MAT. = ${o.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}`)}});const i=h.filter(a=>a.elementos3D&&a.elementos3D.trim()!=="");return console.log("ğŸ“Š ===== RESUMO FINAL ====="),console.log("ğŸ“‹ Total de itens processados:",h.length),console.log("ğŸ”— Itens com elementos3D:",i.length),console.log("ğŸ“‹ Lista de itens com elementos3D:"),i.forEach(a=>{console.log(`   ${a.id}: ${a.elementos3D}`)}),console.log("âœ… Dados processados da planilha 5DEST:",h.length,"itens"),h};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),E=(t,g)=>{const h=N.forwardRef(({color:p="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:f,className:y="",children:l,...c},j)=>N.createElement("svg",{ref:j,...ie,width:i,height:i,stroke:p,strokeWidth:f?Number(n)*24/Number(i):n,className:["lucide",`lucide-${ce(t)}`,y].join(" "),...c},[...g.map(([b,d])=>N.createElement(b,d)),...Array.isArray(l)?l:[l]]));return h.displayName=`${t}`,h};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=E("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=E("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=E("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=E("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=E("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=E("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=E("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=E("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=E("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=E("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=E("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=E("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=E("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=E("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=E("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=E("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ve=({dashboardName:t})=>{const g=()=>{window.location.href="https://lote10x30-10apartamentos.vercel.app/"};return e.jsxs("div",{className:"flex items-center justify-between bg-white shadow-sm border-b border-gray-200 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:g,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md transition-colors",title:"Voltar ao Hub de Projetos",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Voltar ao Hub"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"h-5 w-5 text-blue-600"}),e.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:t})]})]}),e.jsx("button",{onClick:g,className:"sm:hidden p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md transition-colors",title:"Voltar ao Hub",children:e.jsx(q,{className:"h-5 w-5"})})]})},Ee=()=>e.jsx("header",{className:"bg-gradient-to-r from-black via-yellow-600 to-black text-white shadow-lg border-b-2 border-yellow-400",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-3 sm:py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/BIMTECH.jpg",alt:"BIMTECH Logo",className:"h-10 w-10 sm:h-12 sm:w-12 object-contain flex-shrink-0 rounded-lg bg-white p-1"}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 px-3 sm:px-4 py-1 sm:py-2 rounded-lg shadow-lg",children:e.jsx("h1",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold text-black",children:"Bonfim ImobiliÃ¡ria e Engenharia"})})]}),e.jsx("div",{className:"flex-1"}),e.jsx("div",{className:"flex items-center flex-shrink-0 ml-2",children:e.jsxs("a",{href:"https://wa.me/5569992561830?text=OlÃ¡! Gostaria de saber mais sobre o projeto Lote 10x30 - 10 Apartamentos",target:"_blank",rel:"noopener noreferrer",className:"bg-green-500 hover:bg-green-600 text-white p-2 sm:p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110 hover:shadow-green-500/50 group",title:"Fale conosco no WhatsApp",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),e.jsx("div",{className:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs px-2 sm:px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap hidden sm:block",children:"Fale conosco"})]})})]}),e.jsx("div",{className:"text-center mt-3 sm:mt-4",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl shadow-lg inline-block max-w-full",children:e.jsx("h2",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold text-black",children:"Lote 10x30 - 10 Apartamentos"})})})]})}),we=({activeTab:t,onTabChange:g})=>{var f,y;const[h,p]=N.useState(!1),i=[{id:"resumo",label:"Resumo",fullLabel:"Resumo Executivo",icon:e.jsx(me,{className:"h-4 w-4"}),description:"VisÃ£o geral dos custos e indicadores"},{id:"5d",label:"5D",fullLabel:"Visualizador 5D",icon:e.jsx(pe,{className:"h-4 w-4"}),description:"3D + OrÃ§amento integrados"}],n=l=>{g(l),p(!1)};return e.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"lg:hidden",children:[e.jsxs("button",{onClick:()=>p(!h),className:"w-full flex items-center justify-between px-3 sm:px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:`p-1 rounded-lg ${t==="resumo"?"bg-green-100 text-green-600":"text-gray-400"}`,children:(f=i.find(l=>l.id===t))==null?void 0:f.icon}),e.jsx("span",{className:"font-medium text-gray-900 text-sm sm:text-base",children:(y=i.find(l=>l.id===t))==null?void 0:y.fullLabel})]}),h?e.jsx(ye,{className:"h-5 w-5 text-gray-500"}):e.jsx(fe,{className:"h-5 w-5 text-gray-500"})]}),h&&e.jsx("div",{className:"border-t border-gray-200 bg-gray-50",children:i.map(l=>{const c=t===l.id;return e.jsxs("button",{onClick:()=>n(l.id),className:`w-full flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-3 text-left hover:bg-gray-100 transition-colors ${c?"bg-green-50 text-green-700":"text-gray-700"}`,children:[e.jsx("div",{className:`p-1 rounded-lg ${c?"bg-green-100 text-green-600":"text-gray-400"}`,children:l.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm sm:text-base",children:l.fullLabel}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:l.description})]})]},l.id)})})]}),e.jsx("div",{className:"hidden lg:block border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:i.map(l=>{const c=t===l.id;return e.jsxs("button",{onClick:()=>g(l.id),className:`
                  group relative py-4 text-center text-sm font-medium hover:text-green-600 focus:z-10
                  ${c?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"}
                `,children:[e.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[e.jsx("div",{className:`
                    p-2 rounded-lg transition-colors
                    ${c?"bg-green-100 text-green-600":"text-gray-400 group-hover:text-gray-500"}
                  `,children:l.icon}),e.jsx("span",{className:"font-medium",children:l.label}),e.jsx("span",{className:`
                    text-xs max-w-full truncate
                    ${c?"text-green-600":"text-gray-400"}
                  `,children:l.description})]}),c&&e.jsx("span",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-green-600"})]},l.id)})})})]})},W=()=>{const{resumo:t}=$(),g=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),h=f=>`${f.toFixed(2)} mÂ²`,p=f=>g(f);if(!t)return e.jsx("div",{className:"bg-white rounded-lg shadow-card p-6",children:e.jsx("div",{className:"text-center text-gray-500",children:"Carregando resumo executivo..."})});const i=298,n=t.valorTotal/i;return e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-card p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-700 mb-4 sm:mb-6",children:"ğŸ“Š Resumo Executivo - Lote 10x30 - 10 Apartamentos"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 sm:p-6 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:e.jsx(he,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-800",children:"Valor Total"}),e.jsx("p",{className:"text-xs sm:text-sm text-green-600",children:"Custo total do projeto"})]})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-700 mb-2",children:g(t.valorTotal)}),e.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Projeto completo"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(U,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"MÃ£o de Obra"}),e.jsx("p",{className:"text-sm text-blue-600",children:"Custos de mÃ£o de obra"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:g(t.maoDeObraTotal)}),e.jsxs("div",{className:"text-sm text-blue-600",children:[t.valorTotal>0?(t.maoDeObraTotal/t.valorTotal*100).toFixed(1):0,"% do total"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:e.jsx(F,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Materiais"}),e.jsx("p",{className:"text-sm text-orange-600",children:"Custos de materiais"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-orange-700 mb-2",children:g(t.materiaisTotal)}),e.jsxs("div",{className:"text-sm text-orange-600",children:[t.valorTotal>0?(t.materiaisTotal/t.valorTotal*100).toFixed(1):0,"% do total"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:e.jsx(be,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-800",children:"Ãrea Total"}),e.jsx("p",{className:"text-sm text-purple-600",children:"Ãrea construÃ­da total"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-purple-700 mb-2",children:h(i)}),e.jsx("div",{className:"text-sm text-purple-600",children:"149 mÂ² por pavimento (2 pavimentos)"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 rounded-lg border border-indigo-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-indigo-600 rounded-lg",children:e.jsx(xe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-indigo-800",children:"Total por mÂ²"}),e.jsx("p",{className:"text-sm text-indigo-600",children:"Custo total por metro quadrado"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-indigo-700 mb-2",children:p(n)}),e.jsx("div",{className:"text-sm text-indigo-600",children:"por metro quadrado"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(U,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"M.O. por mÂ²"}),e.jsx("p",{className:"text-sm text-blue-600",children:"MÃ£o de obra por metro quadrado"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:p(t.maoDeObraTotal/i)}),e.jsx("div",{className:"text-sm text-blue-600",children:"por metro quadrado"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:e.jsx(F,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Mat. por mÂ²"}),e.jsx("p",{className:"text-sm text-orange-600",children:"Materiais por metro quadrado"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-orange-700 mb-2",children:p(t.materiaisTotal/i)}),e.jsx("div",{className:"text-sm text-orange-600",children:"por metro quadrado"})]})]}),e.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ğŸ“ˆ DistribuiÃ§Ã£o Percentual dos Custos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"MÃ£o de Obra:"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:[t.valorTotal>0?(t.maoDeObraTotal/t.valorTotal*100).toFixed(1):0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Materiais:"}),e.jsxs("span",{className:"font-semibold text-orange-600",children:[t.valorTotal>0?(t.materiaisTotal/t.valorTotal*100).toFixed(1):0,"%"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Total por mÂ²:"}),e.jsx("span",{className:"font-semibold text-indigo-600",children:p(n)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Ãrea total:"}),e.jsx("span",{className:"font-semibold text-purple-600",children:h(i)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"M.O. por mÂ²:"}),e.jsx("span",{className:"font-semibold text-blue-600",children:p(t.maoDeObraTotal/i)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Mat. por mÂ²:"}),e.jsx("span",{className:"font-semibold text-orange-600",children:p(t.materiaisTotal/i)})]})]})]})]})]})})},De=({itens:t,selectedItems:g,onItemSelect:h,onCategorySelect:p,onToggleVisibility:i,hiddenElements:n=new Set})=>{const[f,y]=N.useState([]),l=s=>s.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),c=s=>`${s.toLocaleString("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1})}%`,j=s=>s.toLocaleString("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1}),b=t.filter(s=>s.isEtapaTotal),d=t.filter(s=>!s.isEtapaTotal),r=s=>{console.log("ğŸ–±ï¸ ===== ITEM CLICADO NA PLANILHA ====="),console.log("ğŸ“‹ Item clicado:",{id:s.id,descricao:s.descricao,isEtapaTotal:s.isEtapaTotal}),y(o=>o.includes(s.id)?o.filter(m=>m!==s.id):[...o,s.id]),console.log("ğŸ¯ Selecionando item para highlight no 3D:",s.id),h(s),s.isEtapaTotal&&p&&(console.log("ğŸ—ï¸ Categoria principal clicada - chamando onCategorySelect:",s.id),p(s.id))},a=s=>f.includes(s),x=s=>!s.elementos3D||!i?!1:s.elementos3D.split(",").map(m=>m.trim()).some(m=>n.has(m)),u=(s,o)=>{s.stopPropagation(),i&&i(o)};return t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Ne,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Carregando dados da planilha..."})]}):e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"space-y-2",children:b.map(s=>{const o=d.filter(m=>{var v;return(v=m.codigo)==null?void 0:v.startsWith(s.codigo||"")});return e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-bold text-blue-900 text-sm",children:[s.codigo," - ",s.descricao]}),e.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"Categoria Principal"})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-sm font-bold text-blue-800",children:["R$ ",l(s.total)]}),e.jsx("div",{className:"text-xs text-blue-600",children:c(s.peso)})]})]})}),o.map(m=>{const v=g.includes(m.id),A=a(m.id),w=x(m);return e.jsxs("div",{onClick:()=>r(m),className:`p-3 rounded-lg border cursor-pointer transition-all duration-200 ${v?"bg-orange-100 border-orange-300 shadow-md":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"font-medium text-sm text-gray-800",children:[m.codigo," - ",m.descricao]}),i&&m.elementos3D&&e.jsx("button",{onClick:M=>u(M,m),className:`p-1 rounded transition-colors duration-200 ${w?"text-red-500 hover:text-red-700 hover:bg-red-50":"text-green-500 hover:text-green-700 hover:bg-green-50"}`,title:w?"Mostrar elementos 3D":"Ocultar elementos 3D",children:w?e.jsx(ue,{className:"h-4 w-4"}):e.jsx(B,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[m.unidade||"mÂ³"," â€¢ Quantidade: ",m.quantidade?j(m.quantidade):"N/A"]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-sm font-semibold text-blue-600",children:["R$ ",l(m.total)]}),e.jsx("div",{className:"text-xs text-gray-500",children:c(m.peso)})]})]}),A&&e.jsx("div",{className:"mt-3 pt-3 border-t border-orange-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Quantidade:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[m.quantidade?j(m.quantidade):"N/A"," ",m.unidade||"mÂ³"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Valor Unit.:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",m.valorUnitario?l(m.valorUnitario):"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"M.O.:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",m.maoDeObra?l(m.maoDeObra):"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Materiais:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",m.materiais?l(m.materiais):"N/A"]})]})]})})]},m.id)})]},s.id)})}),e.jsx("div",{className:"mt-6 bg-gray-100 border border-gray-300 rounded-lg p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:"Totais Gerais"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"M.O. Total:"}),e.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",l(b.reduce((s,o)=>s+(o.maoDeObra||0),0))]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Materiais Total:"}),e.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",l(b.reduce((s,o)=>s+(o.materiais||0),0))]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Geral:"}),e.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",l(b.reduce((s,o)=>s+o.total,0))]})]})]})]})}),e.jsx("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-100 border border-blue-300 rounded"}),e.jsx("span",{children:"Categoria Principal"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-50 border border-orange-300 rounded"}),e.jsx("span",{children:"Item Selecionado"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-100 border border-gray-300 rounded"}),e.jsx("span",{children:"Clique para expandir"})]}),i&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(B,{className:"h-3 w-3 text-green-500"}),e.jsx("span",{children:"Ocultar/Mostrar 3D"})]})]})})]})};function Te(){const{progress:t}=Y();return e.jsx(ee,{center:!0,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando modelo 3D..."}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[Math.round(t),"%"]})]})})}function Se({highlightedElements:t,hiddenElements:g,onElementsExtracted:h,onElementClick:p}){const i=N.useRef(null),{scene:n}=se("/Estrutural.glb"),f=N.useMemo(()=>{const l=document.createElement("canvas");l.width=256,l.height=256;const c=l.getContext("2d");c.fillStyle="#3a3a3a",c.fillRect(0,0,256,256);const j=c.getImageData(0,0,256,256),b=j.data;for(let r=0;r<b.length;r+=4){const a=(Math.random()-.5)*20;b[r]=Math.max(0,Math.min(255,b[r]+a)),b[r+1]=Math.max(0,Math.min(255,b[r+1]+a)),b[r+2]=Math.max(0,Math.min(255,b[r+2]+a))}c.putImageData(j,0,0);for(let r=0;r<20;r++)c.fillStyle=`rgba(50, 50, 50, ${Math.random()*.4})`,c.beginPath(),c.arc(Math.random()*256,Math.random()*256,Math.random()*15+3,0,Math.PI*2),c.fill();const d=new ae(l);return d.wrapS=H,d.wrapT=H,d.repeat.set(2,2),d},[]);N.useEffect(()=>{if(n&&h){const l=[],c={};n.traverse(o=>{if(o.name&&o.name.trim()!==""){if(l.push(o.name),o.name.match(/^(\d+\.\d+)$/)){const v=o.name;c[v]||(c[v]=[]),c[v].push(o),console.log(`ğŸ“ COLECÃ‡ÃƒO PAI IDENTIFICADA: "${v}"`)}(o.name==="1.1"||o.name==="1.2"||o.name==="2.1"||o.name==="2.2"||o.name==="2.3"||o.name==="3.1"||o.name==="3.2")&&console.log(`ğŸ“ COLECÃ‡ÃƒO PAI ENCONTRADA: "${o.name}"`)}if(o instanceof G){const m=new k({map:f,color:"#3a3a3a",roughness:.8,metalness:.1,normalScale:new I(.5,.5)});o.userData.originalMaterial||(o.userData.originalMaterial=o.material),o.material=m,console.log(`ğŸ—ï¸ Textura de concreto aplicada em: ${o.name}`)}}),window.glbCollections=c,console.log("ğŸ“ ===== COLECÃ‡Ã•ES IDENTIFICADAS ====="),console.log("ğŸ“ Total de subcoleÃ§Ãµes:",Object.keys(c).length),Object.entries(c).forEach(([o,m])=>{console.log(`ğŸ“ SubcoleÃ§Ã£o "${o}": ${m.length} objetos`)}),console.log("ğŸ“¦ ===== ELEMENTOS 3D EXTRAÃDOS ====="),console.log("ğŸ“¦ Total de elementos:",l.length),console.log("ğŸ“¦ Primeiros 10 elementos:",l.slice(0,10)),console.log("ğŸ“¦ Elementos com underscore:",l.filter(o=>o.includes("_")).slice(0,10));const j=l.filter(o=>o.startsWith("1.1_"));console.log("ğŸ“¦ ===== ELEMENTOS 1.1_ (VIGAS) ====="),console.log("ğŸ“¦ Quantidade de elementos 1.1_:",j.length),console.log("ğŸ“¦ Lista completa dos elementos 1.1_:",j.sort());const b=l.filter(o=>o.includes("1.1_")||o.includes("1.2_")||o.includes("2.1_")||o.includes("2.2_")||o.includes("2.3_")||o.includes("3.1_")||o.includes("3.2_"));console.log("ğŸ—ï¸ ===== TODAS AS SUBCOLEÃ‡Ã•ES ====="),console.log("ğŸ—ï¸ Total de subcoleÃ§Ãµes:",b.length),console.log("ğŸ—ï¸ Lista todas subcoleÃ§Ãµes:",b.sort()),window.glbSubcolecoes=b;const d=l.filter(o=>o.startsWith("1.2_"));console.log("ğŸ“¦ ===== ELEMENTOS 1.2_ (PILARES) ====="),console.log("ğŸ“¦ Quantidade de elementos 1.2_:",d.length),console.log("ğŸ“¦ Lista completa dos elementos 1.2_:",d.sort());const r=l.filter(o=>o.startsWith("2.1_"));console.log("ğŸ“¦ ===== ELEMENTOS 2.1_ (VIGAS TÃ‰RREO) ====="),console.log("ğŸ“¦ Quantidade de elementos 2.1_:",r.length),console.log("ğŸ“¦ Lista completa dos elementos 2.1_:",r.sort());const a=l.filter(o=>o.startsWith("2.2_"));console.log("ğŸ“¦ ===== ELEMENTOS 2.2_ (PILARES TÃ‰RREO) ====="),console.log("ğŸ“¦ Quantidade de elementos 2.2_:",a.length),console.log("ğŸ“¦ Lista completa dos elementos 2.2_:",a.sort());const x=l.filter(o=>o.startsWith("2.3_"));console.log("ğŸ“¦ ===== ELEMENTOS 2.3_ (LAJES TÃ‰RREO) ====="),console.log("ğŸ“¦ Quantidade de elementos 2.3_:",x.length),console.log("ğŸ“¦ Lista completa dos elementos 2.3_:",x.sort());const u=l.filter(o=>o.startsWith("3.1_"));console.log("ğŸ“¦ ===== ELEMENTOS 3.1_ (VIGAS SUPERIOR) ====="),console.log("ğŸ“¦ Quantidade de elementos 3.1_:",u.length),console.log("ğŸ“¦ Lista completa dos elementos 3.1_:",u.sort());const s=l.filter(o=>o.startsWith("3.2_"));console.log("ğŸ“¦ ===== ELEMENTOS 3.2_ (PILARES SUPERIOR) ====="),console.log("ğŸ“¦ Quantidade de elementos 3.2_:",s.length),console.log("ğŸ“¦ Lista completa dos elementos 3.2_:",s.sort()),console.log("ğŸ“¦ ===== TODOS OS ELEMENTOS (ORDENADOS) ====="),console.log("ğŸ“¦ Lista completa ordenada:",l.sort()),h(l)}},[n,h]),N.useEffect(()=>{if(console.log("ğŸ¨ ===== INICIANDO HIGHLIGHTING ====="),console.log("ğŸ¨ Elementos para destacar:",t.length),console.log("ğŸ¨ Lista completa:",t),console.log("ğŸ¨ Scene disponÃ­vel:",!!n),console.log("ğŸ¨ Scene children count:",n?n.children.length:0),t.some(l=>l.startsWith("1.1_"))){const l=t.filter(c=>c.startsWith("1.1_"));console.log("ğŸ—ï¸ ===== DESTACANDO ELEMENTOS 1.1_ (VIGAS) ====="),console.log("ğŸ—ï¸ Quantidade de elementos 1.1_ a destacar:",l.length),console.log("ğŸ—ï¸ Lista dos elementos 1.1_ a destacar:",l.sort())}if(n&&(console.log("ğŸ” ===== DEBUG SCENE ====="),console.log("ğŸ” Scene name:",n.name),console.log("ğŸ” Scene type:",n.type),console.log("ğŸ” Scene children:",n.children.map(l=>({name:l.name,type:l.type})))),n){let l=0,c=0,j=[];const b=window.glbCollections||{};console.log("ğŸ“ ===== USANDO COLECÃ‡Ã•ES PAI PARA HIGHLIGHTING ====="),console.log("ğŸ“ ColeÃ§Ãµes pai disponÃ­veis:",Object.keys(b)),console.log("ğŸ¨ ===== DEBUG HIGHLIGHTING ====="),console.log("ğŸ¨ Elementos para destacar:",t),console.log("ğŸ¨ Quantidade de elementos para destacar:",t.length),n.traverse(a=>{if(a instanceof G){c++;const x=g.has(a.name);if(a.visible=!x,x){console.log(`ğŸ‘ï¸ Elemento ocultado: ${a.name}`);return}let u=!1,s="";for(const o of t)if(b[o]&&b[o].some(v=>v===a)){u=!0,s=o;break}if(u||(u=t.includes(a.name)),a.name&&(a.name.includes("11_")||a.name.includes("1.1_")||a.name.includes("12_")||a.name.includes("21_")||a.name.includes("22_"))&&(console.log(`ğŸ” MESH ESTRUTURAL ENCONTRADO: ${a.name} - Highlighted: ${u} - ColeÃ§Ã£o Pai: ${s}`),console.log(`ğŸ” Elementos destacados incluem ${a.name}?`,t.includes(a.name))),u)if(l++,j.push(a.name),a.name.startsWith("1.1_")||s.startsWith("1.1")?console.log(`ğŸ—ï¸ VIGA DESTACADA: ${a.name} - ColeÃ§Ã£o Pai: ${s} - PosiÃ§Ã£o:`,a.position):console.log(`ğŸŸ  DESTACANDO: ${a.name} - ColeÃ§Ã£o Pai: ${s}`),a.material){a.userData.originalMaterial||(a.userData.originalMaterial=a.material.clone(),console.log(`ğŸ’¾ Material original salvo para: ${a.name}`));const o=new k({map:f,color:16737792,emissive:3346688,metalness:0,roughness:.2,normalScale:new I(.5,.5)});a.material=o,a.material.map&&(a.material.map.needsUpdate=!0),a.name.startsWith("1.1_")||s.startsWith("1.1")?console.log(`ğŸ—ï¸ VIGA LARANJA APLICADA: ${a.name} - Cor: #ff6600`):(console.log(`ğŸŸ  MATERIAL LARANJA APLICADO: ${a.name}`),console.log("ğŸŸ  Cor aplicada: #ff6600 (laranja)"),console.log("ğŸŸ  Textura mantida: concreto escuro"))}else console.log(`âš ï¸ Material nÃ£o encontrado para: ${a.name}`);else{const o=new k({map:f,color:"#3a3a3a",roughness:.8,metalness:.1,normalScale:new I(.5,.5)});a.material=o,console.log(`ğŸ”„ Material de concreto escuro restaurado para: ${a.name}`)}}}),console.log("ğŸ¨ ===== RESULTADO HIGHLIGHTING ====="),console.log(`ğŸ¨ Total de meshes: ${c}`),console.log(`ğŸ¨ Meshes destacados: ${l}`),console.log("ğŸ¨ Elementos encontrados:",j),console.log("ğŸ¨ Elementos nÃ£o encontrados:",t.filter(a=>!j.includes(a)));const d=j.filter(a=>a.startsWith("1.1_")),r=t.filter(a=>a.startsWith("1.1_")&&!j.includes(a));(d.length>0||r.length>0)&&(console.log("ğŸ—ï¸ ===== RESUMO VIGAS (1.1_) ====="),console.log(`ğŸ—ï¸ Vigas encontradas e destacadas: ${d.length}`),console.log("ğŸ—ï¸ Lista das vigas destacadas:",d.sort()),console.log(`ğŸ—ï¸ Vigas nÃ£o encontradas: ${r.length}`),r.length>0&&console.log("ğŸ—ï¸ Lista das vigas nÃ£o encontradas:",r.sort()))}else console.log("âŒ Scene nÃ£o disponÃ­vel para highlighting")},[n,t,g]),oe(l=>{i.current&&(i.current.rotation.y=Math.sin(l.clock.elapsedTime*.1)*.1)});const y=l=>{l.stopPropagation();const c=l.object.name;console.log("ğŸ–±ï¸ Elemento clicado:",c),p&&p(c)};return e.jsx("group",{ref:i,children:e.jsx("primitive",{object:n,onClick:y,onPointerOver:l=>{l.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:l=>{l.stopPropagation(),document.body.style.cursor="auto"}})})}function Oe(t){const[g,h]=N.useState([]),[p,i]=N.useState([]),[n,f]=N.useState([]),[y,l]=N.useState(new Set);N.useEffect(()=>{(async()=>{try{const a=await(await fetch("/mapeamento-elementos.json")).json();window.mapeamentoElementos=a,console.log("ğŸ—ºï¸ Mapeamento de elementos carregado:",a)}catch(r){console.log("âš ï¸ Erro ao carregar mapeamento:",r)}})()},[]),N.useEffect(()=>{console.log("ğŸ” ===== DEBUG DADOS PLANILHA ====="),console.log("ğŸ“Š Total de itens 5D:",t.length),window.itens5D=t,window.debugData={itens:t,timestamp:new Date().toISOString()},t.slice(0,5).forEach((r,a)=>{console.log(`ğŸ“‹ Item ${a+1}:`,{id:r.id,codigo:r.codigo,descricao:r.descricao,elementos3D:r.elementos3D,allKeys:Object.keys(r)})});const d=t.some(r=>r.elementos3D&&r.elementos3D.trim()!=="");console.log("ğŸ”— Itens com elementos3D:",d),d||(console.log('âš ï¸ ATENÃ‡ÃƒO: Nenhum item possui a coluna "elementos3D" preenchida!'),console.log("ğŸ’¡ Verifique se a coluna existe na planilha CSV e se os dados foram carregados corretamente"))},[t]),N.useEffect(()=>{if(n.length>0){console.log("ğŸ¯ ===== DEBUG ELEMENTOS GLB ====="),console.log("ğŸ“¦ Total de elementos GLB:",n.length),console.log("ğŸ”¤ Primeiros 20 elementos GLB:",n.slice(0,20)),window.glbElements=n,window.debugData={...window.debugData,glbElements:n,glbTimestamp:new Date().toISOString()};const d={withNumbers:n.filter(r=>/\d/.test(r)),withUnderscore:n.filter(r=>r.includes("_")),withDots:n.filter(r=>r.includes(".")),collections:n.filter(r=>r.toLowerCase().includes("collection")||r.toLowerCase().includes("colecao"))};Object.entries(d).forEach(([r,a])=>{a.length>0&&console.log(`ğŸ”¸ Elementos ${r}:`,a.slice(0,10))})}},[n]);const c=N.useCallback(()=>{console.log("ğŸ” ===== ANALISANDO PADRÃ•ES DE NOMENCLATURA GLB =====");const d={};return n.forEach(r=>{const a=r.match(/^(\d+)_/);if(a){const x=a[1];d[x]||(d[x]=[]),d[x].push(r)}}),console.log("ğŸ“Š PadrÃµes encontrados:",Object.keys(d)),console.log("ğŸ“Š Detalhes dos padrÃµes:",d),d},[n]),j=N.useCallback(d=>{const r=d.split(".");if(r.length===2){const a=r[0]+r[1];return console.log(`ğŸ”„ Mapeando item ${d} â†’ padrÃ£o GLB: ${a}`),a}return d},[]),b=N.useCallback(d=>{const r=d.id,a=d.codigo,x=d.descricao||"",u=d.elementos3D||"";console.log("ğŸ” ===== BUSCANDO CORRESPONDÃŠNCIAS ====="),console.log("ğŸ“‹ Item:",{id:r,codigo:a,descricao:x,elementos3D:u}),console.log("ğŸ“¦ Total de elementos GLB disponÃ­veis:",n.length),console.log("ğŸ“¦ Primeiros 10 elementos GLB:",n.slice(0,10));let s=[];const o=c(),m=j(r);if(console.log(`ğŸ¯ Procurando padrÃ£o GLB: ${m}`),console.log("ğŸ¯ PadrÃµes disponÃ­veis:",Object.keys(o)),o[m])return s=o[m],console.log(`âœ… MAPEAMENTO AUTOMÃTICO: ${s.length} elementos encontrados para ${r} (padrÃ£o ${m})`),console.log("âœ… Lista dos elementos:",s),s;console.log(`âš ï¸ PadrÃ£o exato ${m} nÃ£o encontrado, tentando padrÃµes similares...`);const v=Object.keys(o).filter(w=>w.includes(m)||m.includes(w));if(v.length>0)return console.log("ğŸ” PadrÃµes similares encontrados:",v),v.forEach(w=>{s=[...s,...o[w]]}),console.log(`âœ… MAPEAMENTO SIMILAR: ${s.length} elementos encontrados para ${r}`),console.log("âœ… Lista dos elementos:",s),s;console.log("âš ï¸ Nenhum padrÃ£o encontrado, tentando busca por texto...");const A=n.filter(w=>w.toLowerCase().includes(r.toLowerCase())||w.toLowerCase().includes(r.replace(".","").toLowerCase()));return A.length>0?(s=A,console.log(`âœ… BUSCA POR TEXTO: ${s.length} elementos encontrados para ${r}`),console.log("âœ… Lista dos elementos:",s),s):(console.log(`âŒ Nenhum elemento encontrado para ${r}`),[])},[n]);return{selectedItems:g,highlightedElements:p,setGlbElements:f,setHighlightedElements:i,findMatchingElements:b,handleItemSelect:N.useCallback(d=>{const r=d.id;console.log("ğŸ–±ï¸ ===== ITEM SELECIONADO ====="),console.log("ğŸ“‹ Item completo:",d),h(()=>{const a=[r];console.log("ğŸ”„ SeleÃ§Ã£o atualizada (apenas item atual):",a);const x=b(d);return console.log("ğŸ¨ ===== APLICANDO HIGHLIGHTING ====="),console.log("ğŸ¨ Total de elementos para destacar:",x.length),console.log("ğŸ¨ Lista de elementos:",x),x.length>0?(console.log(`ğŸ¯ ${x.length} elementos serÃ£o destacados em LARANJA`),console.log("ğŸŸ  Elementos:",x.join(", ")),console.log("ğŸŸ  ===== DESTAQUE LARANJA ATIVADO =====")):(console.log("âš ï¸ NENHUM elemento encontrado para destacar!"),console.log("ğŸ’¡ Verifique:"),console.log('   1. Se a coluna "elementos3D" estÃ¡ preenchida na planilha'),console.log("   2. Se os nomes dos elementos coincidem com os do modelo GLB"),console.log("   3. Se o modelo GLB foi carregado corretamente"),console.log("ğŸ“‹ Item atual:",{id:d.id,descricao:d.descricao,elementos3D:d.elementos3D})),i(x),window.highlightedElements=x,window.debugData={...window.debugData,highlightedElements:x,selectedItem:d,highlightTimestamp:new Date().toISOString()},a})},[b]),toggleElementVisibility:N.useCallback(d=>{const r=d.id;console.log("ğŸ‘ï¸ Alternando visibilidade para item:",r);const a=b(d);console.log("ğŸ”— Elementos para ocultar/mostrar:",a),a.some(u=>y.has(u))?(l(u=>{const s=new Set(u);return a.forEach(o=>s.delete(o)),s}),console.log("ğŸ‘ï¸ Elementos mostrados:",a)):(l(u=>{const s=new Set(u);return a.forEach(o=>s.add(o)),s}),console.log("ğŸ‘ï¸ Elementos ocultados:",a))},[b,y]),hiddenElements:y}}function Le(){const{itens:t}=$(),[g,h]=N.useState(!1),[p,i]=N.useState(null),{selectedItems:n,highlightedElements:f,hiddenElements:y,setGlbElements:l,setHighlightedElements:c,handleItemSelect:j,toggleElementVisibility:b}=Oe(t);N.useEffect(()=>{t.length===0?h(!0):(h(!1),i(null),console.log("âœ… Dados da planilha 5DEST.csv carregados no Viewer5D:",t.length,"itens"),console.log("ğŸ“‹ Primeiros itens:",t.slice(0,5).map(a=>({id:a.id,descricao:a.descricao,quantidade:a.quantidade,total:a.total,elementos3D:a.elementos3D}))))},[t]);const d=N.useCallback(a=>{l(a),console.log("ğŸ¯ Elementos 3D carregados:",a.length)},[l]),r=a=>{console.log("ğŸ—ï¸ Destacando elementos da categoria:",a);const x=[],u=a+"_";for(let s=1;s<=50;s++){const o=`${u}.${s.toString().padStart(3,"0")}`;x.push(o)}console.log("ğŸ¯ Elementos encontrados para destacar:",x),c(x)};return g?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Carregando Dashboard 5D"}),e.jsx("p",{className:"text-gray-500",children:"Preparando modelo 3D e dados orÃ§amentÃ¡rios..."})]})}):p?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg",children:[e.jsx("div",{className:"text-red-500 text-3xl mb-4",children:"âš ï¸"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Erro no Carregamento"}),e.jsx("p",{className:"text-gray-600",children:p})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Projeto Estrutural 3D",f.length>0&&e.jsxs("span",{className:"ml-2 bg-orange-400 text-orange-900 px-2 py-1 rounded text-xs font-medium",children:[f.length," em destaque"]})]}),e.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Clique nos itens da planilha para destacar no modelo"})]}),e.jsx("div",{className:"h-96 lg:h-[520px]",children:e.jsx(J,{camera:{position:[20,20,20],fov:60},children:e.jsxs(N.Suspense,{fallback:e.jsx(Te,{}),children:[e.jsx(X,{preset:"studio"}),e.jsx("ambientLight",{intensity:.3}),e.jsx("directionalLight",{position:[10,10,5],intensity:.8}),e.jsx("directionalLight",{position:[-10,-10,-5],intensity:.4}),e.jsx("directionalLight",{position:[0,-10,0],intensity:.2}),e.jsx(Se,{highlightedElements:f,hiddenElements:y,onElementsExtracted:d,onElementClick:a=>{console.log("ğŸ”— Elemento 3D clicado:",a);const x=t.find(u=>u.elementos3D&&u.elementos3D.includes(a));x?(console.log("ğŸ“‹ Item encontrado na planilha:",x),j(x.id)):console.log("âŒ Nenhum item encontrado para o elemento:",a)}}),e.jsx(K,{enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:5,maxDistance:100,target:[0,0,0],autoRotate:!1,autoRotateSpeed:.5})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[e.jsx(je,{className:"h-5 w-5 mr-2"}),"Planilha OrÃ§amentÃ¡ria SintÃ©tica"]}),e.jsxs("p",{className:"text-green-100 text-sm mt-1",children:[t.length," itens carregados â€¢ Clique para destacar no 3D"]})]}),e.jsx("div",{className:"max-h-[520px] overflow-y-auto",children:e.jsx(De,{itens:t,selectedItems:n,onItemSelect:j,onCategorySelect:r,onToggleVisibility:b,hiddenElements:y})})]})]})})})}const Ae=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-600 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Carregando Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Analisando dados do Lote 10x30 - 10 Apartamentos..."})]})});function Ce(){const[t,g]=N.useState("resumo"),{setItens:h}=$(),[p,i]=N.useState(!0);if(N.useEffect(()=>{(async()=>{try{i(!0);const y=await ne();h(y)}catch(y){console.error("Erro ao carregar dados:",y)}finally{i(!1)}})()},[h]),p)return e.jsx(Ae,{});const n=()=>{switch(t){case"resumo":return e.jsx(W,{});case"5d":return e.jsx(Le,{});default:return e.jsx(W,{})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ve,{dashboardName:"Dashboard Estrutural"}),e.jsx(Ee,{}),e.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-4 lg:py-8",children:[e.jsx(we,{activeTab:t,onTabChange:g}),e.jsx("div",{className:"mt-2 sm:mt-4 lg:mt-6",children:n()})]})]})}te.createRoot(document.getElementById("root")).render(e.jsx(le.StrictMode,{children:e.jsx(Ce,{})}));
