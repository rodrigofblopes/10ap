import{c as Z,j as e,C as J,E as X,O as K,u as Y,H as ee,a as se,b as oe,R as q,L as ae,d as te,M as L,D as H,e as V,V as le,G as ne,f as re}from"./three-7c4b3300.js";import{r as y,R as ie}from"./vendor-57209f9c.js";(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))N(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const b of i.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&N(b)}).observe(document,{childList:!0,subtree:!0});function g(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerPolicy&&(i.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?i.credentials="include":c.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function N(c){if(c.ep)return;c.ep=!0;const i=g(c);fetch(c.href,i)}})();const U=Z((l,f)=>({itens:[],resumo:{valorTotal:0,maoDeObraTotal:0,materiaisTotal:0,areaTotal:0,custoPorM2:0},setItens:g=>{l({itens:g}),f().calcularResumo()},calcularResumo:()=>{const{itens:g}=f();if(g.length===0){l({resumo:{valorTotal:0,maoDeObraTotal:0,materiaisTotal:0,areaTotal:0,custoPorM2:0}});return}const N=g.filter(x=>x.isEtapaTotal),c=N.reduce((x,t)=>x+t.total,0),i=N.reduce((x,t)=>x+t.maoDeObra,0),b=N.reduce((x,t)=>x+t.materiais,0);console.log("ğŸ” Debug do Store - Itens principais:",N.map(x=>({id:x.id,descricao:x.descricao,total:x.total,maoDeObra:x.maoDeObra,materiais:x.materiais}))),console.log("ğŸ” Debug do Store - Totais calculados:",{valorTotal:c,maoDeObraTotal:i,materiaisTotal:b});const _=g.reduce((x,t)=>x+(t.area||0),0),d=_>0?c/_:0;l({resumo:{valorTotal:c,maoDeObraTotal:i,materiaisTotal:b,areaTotal:_,custoPorM2:d}})}})),F=[{id:"1",codigo:"1",nome:"PAVIMENTO TÃ‰RREO",descricao:"PAVIMENTO TÃ‰RREO",categoria:"TÃ©rreo",subcategoria:"Total",unidade:"",quantidade:0,valorUnitario:0,maoDeObra:67392.92,materiais:132731.35,total:200124.27,area:149,peso:47.16,isEtapaTotal:!0,elementos3D:"1.1_.001,1.1_.002,1.1_.003,1.1_.004,1.1_.005,1.1_.006,1.1_.007,1.1_.008,1.1_.009,1.1_.010,1.1_.011,1.1_.012,1.1_.013,1.1_.014,1.1_.015,1.1_.016,1.1_.017,1.1_.018,1.1_.019,1.1_.020,1.1_.021,1.1_.022,1.1_.023,1.2_.001,1.2_.002,1.2_.003,1.2_.004,1.2_.005,1.2_.006,1.2_.007,1.2_.008,1.2_.009,1.2_.010,1.2_.011,1.2_.012,1.2_.013,1.2_.014,1.2_.015,1.2_.016,1.2_.017,1.2_.018,1.2_.019"},{id:"1.1",codigo:"1.1",nome:"PAREDES",descricao:"PAREDES",categoria:"TÃ©rreo",subcategoria:"Paredes",unidade:"mÂ²",quantidade:384.06,valorUnitario:185,maoDeObra:33689.73,materiais:37357.52,total:71047.25,area:149,peso:16.74,isEtapaTotal:!1,elementos3D:"1.1_.001,1.1_.002,1.1_.003,1.1_.004,1.1_.005,1.1_.006,1.1_.007,1.1_.008,1.1_.009,1.1_.010,1.1_.011,1.1_.012,1.1_.013,1.1_.014,1.1_.015,1.1_.016,1.1_.017,1.1_.018,1.1_.019,1.1_.020,1.1_.021,1.1_.022,1.1_.023"},{id:"1.2",codigo:"1.2",nome:"PISO",descricao:"PISO",categoria:"TÃ©rreo",subcategoria:"Piso",unidade:"mÂ²",quantidade:134.52,valorUnitario:299.5,maoDeObra:4241.41,materiais:36036.56,total:40277.97,area:149,peso:9.49,isEtapaTotal:!1,elementos3D:"1.2_.001,1.2_.002,1.2_.003,1.2_.004,1.2_.005,1.2_.006,1.2_.007,1.2_.008,1.2_.009,1.2_.010,1.2_.011,1.2_.012,1.2_.013,1.2_.014,1.2_.015,1.2_.016,1.2_.017,1.2_.018,1.2_.019"},{id:"1.3",codigo:"1.3",nome:"REVESTIMENTO PAREDES",descricao:"REVESTIMENTO PAREDES",categoria:"TÃ©rreo",subcategoria:"Revestimento",unidade:"mÂ²",quantidade:768.12,valorUnitario:74,maoDeObra:21441.68,materiais:35382.07,total:56823.75,area:149,peso:13.39,isEtapaTotal:!1,elementos3D:""},{id:"1.4",codigo:"1.4",nome:"FORRO",descricao:"FORRO",categoria:"TÃ©rreo",subcategoria:"Forro",unidade:"mÂ²",quantidade:134.52,valorUnitario:82.6,maoDeObra:5474.95,materiais:5633.7,total:11108.65,area:149,peso:2.62,isEtapaTotal:!1,elementos3D:""},{id:"1.5",codigo:"1.5",nome:"ESQUADRIAS",descricao:"ESQUADRIAS",categoria:"TÃ©rreo",subcategoria:"Esquadrias",unidade:"unid",quantidade:30,valorUnitario:695.56,maoDeObra:2545.15,materiais:18321.5,total:20866.65,area:149,peso:4.92,isEtapaTotal:!1,elementos3D:""},{id:"2",codigo:"2",nome:"PAVIMENTO SUPERIOR",descricao:"PAVIMENTO SUPERIOR",categoria:"Superior",subcategoria:"Total",unidade:"",quantidade:0,valorUnitario:0,maoDeObra:75036.27,materiais:149217.16,total:224253.43,area:149,peso:52.84,isEtapaTotal:!0,elementos3D:"2.1_.001,2.1_.002,2.1_.003,2.1_.004,2.1_.005,2.1_.006,2.1_.007,2.1_.008,2.1_.009,2.1_.010,2.1_.011,2.1_.012,2.1_.013,2.1_.014,2.1_.015,2.1_.016,2.1_.017,2.1_.018,2.1_.019,2.1_.020,2.1_.021,2.1_.022,2.1_.023,2.2_.001,2.2_.002,2.2_.003,2.2_.004,2.2_.005,2.2_.006,2.2_.007,2.2_.008,2.2_.009,2.2_.010,2.2_.011,2.2_.012,2.2_.013,2.2_.014,2.2_.015,2.2_.016,2.2_.017,2.2_.018,2.2_.019"},{id:"2.1",codigo:"2.1",nome:"PAREDES",descricao:"PAREDES",categoria:"Superior",subcategoria:"Paredes",unidade:"mÂ²",quantidade:384.06,valorUnitario:185,maoDeObra:33689.73,materiais:37357.52,total:71047.25,area:149,peso:16.74,isEtapaTotal:!1,elementos3D:"2.1_.001,2.1_.002,2.1_.003,2.1_.004,2.1_.005,2.1_.006,2.1_.007,2.1_.008,2.1_.009,2.1_.010,2.1_.011,2.1_.012,2.1_.013,2.1_.014,2.1_.015,2.1_.016,2.1_.017,2.1_.018,2.1_.019,2.1_.020,2.1_.021,2.1_.022,2.1_.023"},{id:"2.2",codigo:"2.2",nome:"PISO",descricao:"PISO",categoria:"Superior",subcategoria:"Piso",unidade:"mÂ²",quantidade:134.52,valorUnitario:299.5,maoDeObra:4241.41,materiais:36036.56,total:40277.97,area:149,peso:9.49,isEtapaTotal:!1,elementos3D:"2.2_.001,2.2_.002,2.2_.003,2.2_.004,2.2_.005,2.2_.006,2.2_.007,2.2_.008,2.2_.009,2.2_.010,2.2_.011,2.2_.012,2.2_.013,2.2_.014,2.2_.015,2.2_.016,2.2_.017,2.2_.018,2.2_.019"}],ce=`Planilha OrÃ§amentÃ¡ria SintÃ©tica Com Valor do Material e da MÃ£o de Obra;;;;;;;;
Item;DescriÃ§Ã£o;Und;Quant.;Total;;;Peso (%);Elementos3D
;;;;M. O.;MAT.;Total;;
1;PAVIMENTO TÃ‰RREO;;;67.392,92;132.731,35;200.124,27;47,16%;
 1.1 ;PAREDES;mÂ²;384,06;33.689,73;37.357,52;71.047,25;16,74%;1.1_.001,1.1_.002,1.1_.003,1.1_.004,1.1_.005,1.1_.006,1.1_.007,1.1_.008,1.1_.009,1.1_.010,1.1_.011,1.1_.012,1.1_.013,1.1_.014,1.1_.015,1.1_.016,1.1_.017,1.1_.018,1.1_.019,1.1_.020,1.1_.021,1.1_.022,1.1_.023,
 1.2 ;PISO;mÂ²;134,52;4.241,41;36.036,56;40.277,97;9,49%;1.2_.001,1.2_.002,1.2_.003,1.2_.004,1.2_.005,1.2_.006,1.2_.007,1.2_.008,1.2_.009,1.2_.010,1.2_.011,1.2_.012,1.2_.013,1.2_.014,1.2_.015,1.2_.016,1.2_.017,1.2_.018,1.2_.019
 1.3 ;REVESTIMENTO PAREDES;mÂ²;768,12;21.441,68;35.382,07;56.823,75;13,39%;
 1.4 ;FORRO;mÂ²;134,52;5.474,95;5.633,70;11.108,65;2,62%;
 1.5 ;ESQUADRIAS;unid;30;2.545,15;18.321,50;20.866,65;4,92%;
2;PAVIMENTO SUPERIOR;;;75.036,27;149.217,16;224.253,43;52,84%;
 2.1 ;PAREDES;mÂ²;423,58;37.156,42;41.201,63;78.358,05;18,46%;2.1_.001,2.1_.002,2.1_.003,2.1_.004,2.1_.005,2.1_.006,2.1_.007,2.1_.008,2.1_.009,2.1_.010,2.1_.011,2.1_.012,2.1_.013,2.1_.014,2.1_.015,2.1_.016,2.1_.017,2.1_.018,2.1_.019,2.1_.020,2.1_.021,2.1_.022,2.1_.023
 2.2 ;PISO;mÂ²;134,52;4.241,41;36.036,56;40.277,97;9,49%;2.2_,2.2_.001,2.2_.002,2.2_.003,2.2_.004,2.2_.005,2.2_.006,2.2_.007,2.2_.008,2.2_.009,2.2_.010,2.2_.011,2.2_.012,2.2_.013,2.2_.014,2.2_.015,2.2_.016,2.2_.017,2.2_.018,2.2_.019,
 2.3 ;REVESTIMENTO PAREDES;mÂ²;847,16;23.265,93;38.283,62;61.549,55;14,50%;
 2.4 ;FORRO;mÂ²;134,52;5.474,95;5.633,70;11.108,65;2,62%;
 2.5 ;ESQUADRIAS;unid;30;2.545,15;18.321,50;20.866,65;4,92%;
 2.6 ;TELHADO;mÂ²;171,21;2.352,41;9.740,15;12.092,56;2,85%;2.6_
;;;;142.429,19;281.948,51;424.377,70;;
;;;;424.377,70;;;`,de=async()=>{try{console.log("ğŸš€ ===== INICIANDO CARREGAMENTO DE DADOS ====="),console.log("ğŸ“ Carregando dados reais da planilha 5DARQ.csv..."),console.log("ğŸŒ URL base:",window.location.origin),console.log("ğŸ“‚ Caminho atual:",window.location.pathname);const l=Date.now(),f=[`/5DARQ.csv?t=${l}`,`./5DARQ.csv?t=${l}`,`5DARQ.csv?t=${l}`];let g=null,N="";console.log("ğŸ—ï¸ ===== DASHBOARD ARQUITETURA - CARREGANDO PLANILHA ====="),console.log("ğŸ¯ Buscando especificamente o arquivo 5DARQ.csv (ARQUITETURA)"),console.log("â° Timestamp para bypass de cache:",l);for(const d of f)try{if(console.log(`ğŸ” Tentando carregar 5DARQ.csv de: ${d}`),g=await fetch(d,{cache:"no-cache",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}}),console.log(`ğŸ“Š Status da resposta para ${d}:`,g.status),console.log("ğŸ“‹ Headers da resposta:",Object.fromEntries(g.headers.entries())),g.ok){N=d,console.log(`âœ… 5DARQ.csv carregado com sucesso de: ${d}`);break}else console.log(`âŒ Falha ao carregar 5DARQ.csv de ${d}: Status ${g.status}`)}catch(x){console.log(`âŒ Erro ao carregar 5DARQ.csv de ${d}:`,x)}let c;if(g&&g.ok?(console.log(`âœ… CSV carregado com sucesso de: ${N}`),console.log("ğŸ“Š Status da resposta CSV:",g.status),console.log("ğŸ“‹ Headers da resposta:",Object.fromEntries(g.headers.entries())),c=await g.text(),console.log("âœ… Usando arquivo CSV externo")):(console.log("âš ï¸ Arquivo CSV externo nÃ£o disponÃ­vel, usando dados incorporados"),c=ce,console.log("âœ… Usando dados CSV incorporados")),console.log("ğŸ“„ CSV carregado, processando dados..."),console.log("ğŸ“ Primeiras 500 caracteres do CSV:",c.substring(0,500)),console.log("ğŸ“ Tamanho total do CSV:",c.length),console.log("ğŸ” ===== VALIDAÃ‡ÃƒO DO ARQUIVO CARREGADO ====="),console.log("ğŸ“„ URL carregada:",N),console.log("ğŸ“„ Primeiras linhas do arquivo:"),c.split(`
`).slice(0,5).forEach((d,x)=>{console.log(`   Linha ${x+1}: ${d}`)}),c.includes("PAVIMENTO TÃ‰RREO")&&c.includes("PAREDES"))console.log("âœ… CONFIRMADO: Arquivo 5DARQ.csv (ARQUITETURA) carregado corretamente"),console.log("ğŸ—ï¸ ConteÃºdo de ARQUITETURA detectado: PAVIMENTO TÃ‰RREO e PAREDES");else{if(c.includes("FundaÃ§Ã£o")&&c.includes("Vigas"))throw console.log("âŒ ERRO CRÃTICO: Arquivo 5DEST.csv (ESTRUTURAL) foi carregado por engano!"),console.log("ğŸ—ï¸ ConteÃºdo de ESTRUTURAL detectado: FundaÃ§Ã£o e Vigas"),console.log("ğŸ”„ Tentando carregar novamente o arquivo correto..."),new Error("Arquivo errado carregado - 5DEST.csv em vez de 5DARQ.csv");console.log("âš ï¸ AVISO: NÃ£o foi possÃ­vel identificar o tipo de planilha"),console.log("ğŸ“„ ConteÃºdo nÃ£o reconhecido. Verificando se Ã© arquivo vÃ¡lido..."),c.includes("Item")&&c.includes("DescriÃ§Ã£o")?console.log("ğŸ“Š Arquivo parece ser uma planilha de orÃ§amento vÃ¡lida"):console.log("âŒ Arquivo nÃ£o parece ser uma planilha de orÃ§amento vÃ¡lida")}const b=me(c);if(b.length===0)throw console.error("Nenhum dado processado. ConteÃºdo CSV:",c),new Error("Nenhum dado vÃ¡lido encontrado na planilha CSV");console.log("âœ… Dados reais carregados:",b.length,"itens"),console.log("ğŸ“Š Total geral:",b.filter(d=>d.isEtapaTotal).reduce((d,x)=>d+x.total,0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}));const _=b.find(d=>d.id==="2.6");return _?console.log("âœ… Item 2.6 processado com sucesso:",_.descricao):console.log("âš ï¸ Item 2.6 nÃ£o encontrado nos dados processados"),b}catch(l){return console.error("âŒ Erro ao carregar dados da planilha:",l),console.log("ğŸ”„ Usando dados incorporados como fallback..."),console.log("âœ… Dados incorporados carregados:",F.length,"itens"),console.log("ğŸ“Š Total geral:",F.filter(f=>f.isEtapaTotal).reduce((f,g)=>f+g.total,0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),F}},me=l=>{var i,b,_,d,x,t,o,m,v;console.log("ğŸ“Š ===== PROCESSANDO CSV 5DARQ (VERSÃƒO CORRIGIDA) ====="),console.log("ğŸ“„ Processando CSV 5DARQ...");const f=l.split(`
`);console.log("ğŸ“ Total de linhas:",f.length),console.log("ğŸ“‹ Primeiras 5 linhas:",f.slice(0,5));const g=[];if(f.length>0){const n=f[0];console.log("ğŸ“‹ CABEÃ‡ALHO DETECTADO:",n);const a=n.split(";").map(s=>s.trim());console.log("ğŸ“Š COLUNAS DO CABEÃ‡ALHO:",a.map((s,p)=>`${p}: ${s}`));const u=a.findIndex(s=>s.toLowerCase().includes("elementos")||s.toLowerCase().includes("3d")||s==="Elementos3D");console.log(`ğŸ¯ Coluna Elementos3D encontrada na posiÃ§Ã£o: ${u}`)}for(let n=1;n<f.length;n++){const a=f[n].trim();if(n<=5&&console.log(`Linha ${n}:`,a),!a||a.startsWith(";")||a.includes("Total sem BDI")||a.includes("Total Geral"))continue;const u=a.split(";");if(console.log(`ğŸ“Š Linha ${n} - Colunas (${u.length}):`,u.map((s,p)=>`${p}: "${s.trim()}"`)),u.length>=8){const s=(i=u[0])==null?void 0:i.trim(),p=(b=u[1])==null?void 0:b.trim(),h=(_=u[2])==null?void 0:_.trim(),E=parseFloat(((d=u[3])==null?void 0:d.replace(",","."))||"0"),M=((x=u[4])==null?void 0:x.trim())||"0",r=((t=u[5])==null?void 0:t.trim())||"0",w=((o=u[6])==null?void 0:o.trim())||"0",C=((m=u[7])==null?void 0:m.trim())||"0",A=((v=u[8])==null?void 0:v.trim())||"",T=parseFloat(M.replace(/\./g,"").replace(",",".")||"0"),O=parseFloat(r.replace(/\./g,"").replace(",",".")||"0"),S=parseFloat(w.replace(/\./g,"").replace(",",".")||"0"),k=parseFloat(C.replace("%","").replace(",",".")||"0");if(s==="1.1")if(console.log("ğŸ—ï¸ ===== ITEM 1.1 (VIGAS) DETECTADO ====="),console.log("ğŸ—ï¸ Item:",s),console.log("ğŸ—ï¸ DescriÃ§Ã£o:",p),console.log("ğŸ—ï¸ Elementos3D RAW:",`"${A}"`),console.log("ğŸ—ï¸ Elementos3D LENGTH:",A.length),console.log("ğŸ—ï¸ Possui vÃ­rgulas?",A.includes(",")),A&&A.includes(",")){const I=A.split(",").map($=>$.trim()).filter($=>$!=="");console.log("ğŸ—ï¸ Elementos3D ARRAY:",I),console.log("ğŸ—ï¸ Quantidade de elementos:",I.length),console.log("ğŸ—ï¸ Primeiro elemento:",`"${I[0]}"`),console.log("ğŸ—ï¸ Ãšltimo elemento:",`"${I[I.length-1]}"`)}else console.log("ğŸ—ï¸ âš ï¸ Elementos3D nÃ£o contÃ©m vÃ­rgulas ou estÃ¡ vazio!");if(A&&A.trim()!==""&&console.log(`ğŸ“‹ Item ${s} possui elementos3D:`,`"${A}"`),!s||s==="")continue;let R="FundaÃ§Ã£o",j="Outros",P=!1;if(s==="1"||s==="2"||s==="3"?(P=!0,s==="1"?(R="TÃ©rreo",j="Total"):s==="2"?(R="Superior",j="Total"):s==="3"&&(R="Pavimento Superior",j="Total")):s.startsWith("1.")?(R="TÃ©rreo",s==="1.1"?j="Paredes":s==="1.2"?j="Piso":s==="1.3"?j="Revestimento":s==="1.4"?j="Forro":s==="1.5"&&(j="Esquadrias")):s.startsWith("2.")?(R="Superior",s==="2.1"?j="Paredes":s==="2.2"?j="Piso":s==="2.3"?j="Revestimento":s==="2.4"?j="Forro":s==="2.5"?j="Esquadrias":s==="2.6"&&(j="Telhado")):s.startsWith("3.")&&(R="Pavimento Superior",s==="3.1"?j="Vigas":s==="3.2"?j="Pilares":s==="3.3"&&(j="Lajes")),n<10&&console.log(`ValidaÃ§Ã£o linha ${n}:`,{item:s,descricao:p,quantidade:E,totalFinal:S,isEtapaTotal:P,condicao:s&&p&&(E>0||S>0||P)}),s&&p&&(E>0||S>0||P)){let I=T,$=O;P?(I=0,$=0):(I=T,$=O),g.push({id:s,codigo:s,nome:p.length>50?p.substring(0,50)+"...":p,descricao:p,categoria:R,subcategoria:j,unidade:h,quantidade:E,valorUnitario:E>0?S/E:0,maoDeObra:I,materiais:$,total:S,area:149,peso:k,isEtapaTotal:P,elementos3D:A})}}}["1","2","3"].forEach(n=>{const a=g.find(u=>u.id===n);if(a){const u=g.filter(h=>h.id.startsWith(n+".")),s=u.reduce((h,E)=>h+E.maoDeObra,0),p=u.reduce((h,E)=>h+E.materiais,0);a.maoDeObra=s,a.materiais=p,console.log(`ğŸ“Š Etapa ${n} (${a.descricao}): M.O. = ${s.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}, MAT. = ${p.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}`)}});const c=g.filter(n=>n.elementos3D&&n.elementos3D.trim()!=="");return console.log("ğŸ“Š ===== RESUMO FINAL ====="),console.log("ğŸ“‹ Total de itens processados:",g.length),console.log("ğŸ”— Itens com elementos3D:",c.length),console.log("ğŸ“‹ Lista de itens com elementos3D:"),c.forEach(n=>{console.log(`   ${n.id}: ${n.elementos3D}`)}),console.log("âœ… Dados processados da planilha 5DEST:",g.length,"itens"),g};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(l,f)=>{const g=y.forwardRef(({color:N="currentColor",size:c=24,strokeWidth:i=2,absoluteStrokeWidth:b,className:_="",children:d,...x},t)=>y.createElement("svg",{ref:t,...ge,width:c,height:c,stroke:N,strokeWidth:b?Number(i)*24/Number(c):i,className:["lucide",`lucide-${he(l)}`,_].join(" "),...x},[...f.map(([o,m])=>y.createElement(o,m)),...Array.isArray(d)?d:[d]]));return g.displayName=`${l}`,g};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=D("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=D("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=D("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=D("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=D("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=D("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=D("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=D("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=D("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=D("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=D("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=D("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=D("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Se=({dashboardName:l})=>{const f=()=>{window.location.href="https://lote10x30-10apartamentos.vercel.app/"};return e.jsxs("div",{className:"flex items-center justify-between bg-white shadow-sm border-b border-gray-200 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md transition-colors",title:"Voltar ao Hub de Projetos",children:[e.jsx(ue,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Voltar ao Hub"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-5 w-5 text-blue-600"}),e.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:l})]})]}),e.jsx("button",{onClick:f,className:"sm:hidden p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md transition-colors",title:"Voltar ao Hub",children:e.jsx(G,{className:"h-5 w-5"})})]})},we=()=>e.jsx("header",{className:"bg-gradient-to-r from-black via-yellow-600 to-black text-white shadow-lg border-b-2 border-yellow-400",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-3 sm:py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/BIMTECH.jpg",alt:"BIMTECH Logo",className:"h-10 w-10 sm:h-12 sm:w-12 object-contain flex-shrink-0 rounded-lg bg-white p-1"}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 px-3 sm:px-4 py-1 sm:py-2 rounded-lg shadow-lg",children:e.jsx("h1",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold text-black",children:"Bonfim ImobiliÃ¡ria e Engenharia"})})]}),e.jsx("div",{className:"flex-1"}),e.jsx("div",{className:"flex items-center flex-shrink-0 ml-2",children:e.jsxs("a",{href:"https://wa.me/5569992561830?text=OlÃ¡! Gostaria de saber mais sobre o projeto Lote 10x30 - 10 Apartamentos",target:"_blank",rel:"noopener noreferrer",className:"bg-green-500 hover:bg-green-600 text-white p-2 sm:p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110 hover:shadow-green-500/50 group",title:"Fale conosco no WhatsApp",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),e.jsx("div",{className:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs px-2 sm:px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap hidden sm:block",children:"Fale conosco"})]})})]}),e.jsx("div",{className:"text-center mt-3 sm:mt-4",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl shadow-lg inline-block max-w-full",children:e.jsx("h2",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold text-black",children:"Lote 10x30 - 10 Apartamentos"})})})]})}),De=({activeTab:l,onTabChange:f})=>{var b,_;const[g,N]=y.useState(!1),c=[{id:"resumo",label:"Resumo",fullLabel:"Resumo Executivo",icon:e.jsx(xe,{className:"h-4 w-4"}),description:"VisÃ£o geral dos custos e indicadores"},{id:"5d",label:"5D",fullLabel:"Visualizador 5D",icon:e.jsx(Ne,{className:"h-4 w-4"}),description:"3D + OrÃ§amento integrados"}],i=d=>{f(d),N(!1)};return e.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"lg:hidden",children:[e.jsxs("button",{onClick:()=>N(!g),className:"w-full flex items-center justify-between px-3 sm:px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:`p-1 rounded-lg ${l==="resumo"?"bg-green-100 text-green-600":"text-gray-400"}`,children:(b=c.find(d=>d.id===l))==null?void 0:b.icon}),e.jsx("span",{className:"font-medium text-gray-900 text-sm sm:text-base",children:(_=c.find(d=>d.id===l))==null?void 0:_.fullLabel})]}),g?e.jsx(Ae,{className:"h-5 w-5 text-gray-500"}):e.jsx(_e,{className:"h-5 w-5 text-gray-500"})]}),g&&e.jsx("div",{className:"border-t border-gray-200 bg-gray-50",children:c.map(d=>{const x=l===d.id;return e.jsxs("button",{onClick:()=>i(d.id),className:`w-full flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-3 text-left hover:bg-gray-100 transition-colors ${x?"bg-green-50 text-green-700":"text-gray-700"}`,children:[e.jsx("div",{className:`p-1 rounded-lg ${x?"bg-green-100 text-green-600":"text-gray-400"}`,children:d.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm sm:text-base",children:d.fullLabel}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:d.description})]})]},d.id)})})]}),e.jsx("div",{className:"hidden lg:block border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:c.map(d=>{const x=l===d.id;return e.jsxs("button",{onClick:()=>f(d.id),className:`
                  group relative py-4 text-center text-sm font-medium hover:text-green-600 focus:z-10
                  ${x?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"}
                `,children:[e.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[e.jsx("div",{className:`
                    p-2 rounded-lg transition-colors
                    ${x?"bg-green-100 text-green-600":"text-gray-400 group-hover:text-gray-500"}
                  `,children:d.icon}),e.jsx("span",{className:"font-medium",children:d.label}),e.jsx("span",{className:`
                    text-xs max-w-full truncate
                    ${x?"text-green-600":"text-gray-400"}
                  `,children:d.description})]}),x&&e.jsx("span",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-green-600"})]},d.id)})})})]})},z=()=>{const{resumo:l}=U(),f=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b),g=b=>`${b.toFixed(2)} mÂ²`,N=b=>f(b);if(!l)return e.jsx("div",{className:"bg-white rounded-lg shadow-card p-6",children:e.jsx("div",{className:"text-center text-gray-500",children:"Carregando resumo executivo..."})});const c=298,i=l.valorTotal/c;return e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-card p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-700 mb-4 sm:mb-6",children:"ğŸ“Š Resumo Executivo - Lote 10x30 - 10 Apartamentos"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 sm:p-6 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:e.jsx(be,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-800",children:"Valor Total"}),e.jsx("p",{className:"text-xs sm:text-sm text-green-600",children:"Custo total do projeto"})]})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-700 mb-2",children:f(l.valorTotal)}),e.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Projeto completo"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(W,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"MÃ£o de Obra"}),e.jsx("p",{className:"text-sm text-blue-600",children:"Custos de mÃ£o de obra"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:f(l.maoDeObraTotal)}),e.jsxs("div",{className:"text-sm text-blue-600",children:[l.valorTotal>0?(l.maoDeObraTotal/l.valorTotal*100).toFixed(1):0,"% do total"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:e.jsx(Q,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Materiais"}),e.jsx("p",{className:"text-sm text-orange-600",children:"Custos de materiais"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-orange-700 mb-2",children:f(l.materiaisTotal)}),e.jsxs("div",{className:"text-sm text-orange-600",children:[l.valorTotal>0?(l.materiaisTotal/l.valorTotal*100).toFixed(1):0,"% do total"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:e.jsx(Ee,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-800",children:"Ãrea Total"}),e.jsx("p",{className:"text-sm text-purple-600",children:"Ãrea construÃ­da total"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-purple-700 mb-2",children:g(c)}),e.jsx("div",{className:"text-sm text-purple-600",children:"149 mÂ² por pavimento (2 pavimentos)"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 rounded-lg border border-indigo-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-indigo-600 rounded-lg",children:e.jsx(fe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-indigo-800",children:"Total por mÂ²"}),e.jsx("p",{className:"text-sm text-indigo-600",children:"Custo total por metro quadrado"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-indigo-700 mb-2",children:N(i)}),e.jsx("div",{className:"text-sm text-indigo-600",children:"por metro quadrado"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(W,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"M.O. por mÂ²"}),e.jsx("p",{className:"text-sm text-blue-600",children:"MÃ£o de obra por metro quadrado"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:N(l.maoDeObraTotal/c)}),e.jsx("div",{className:"text-sm text-blue-600",children:"por metro quadrado"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:e.jsx(Q,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Mat. por mÂ²"}),e.jsx("p",{className:"text-sm text-orange-600",children:"Materiais por metro quadrado"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-orange-700 mb-2",children:N(l.materiaisTotal/c)}),e.jsx("div",{className:"text-sm text-orange-600",children:"por metro quadrado"})]})]}),e.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ğŸ“ˆ DistribuiÃ§Ã£o Percentual dos Custos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"MÃ£o de Obra:"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:[l.valorTotal>0?(l.maoDeObraTotal/l.valorTotal*100).toFixed(1):0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Materiais:"}),e.jsxs("span",{className:"font-semibold text-orange-600",children:[l.valorTotal>0?(l.materiaisTotal/l.valorTotal*100).toFixed(1):0,"%"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Total por mÂ²:"}),e.jsx("span",{className:"font-semibold text-indigo-600",children:N(i)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Ãrea total:"}),e.jsx("span",{className:"font-semibold text-purple-600",children:g(c)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"M.O. por mÂ²:"}),e.jsx("span",{className:"font-semibold text-blue-600",children:N(l.maoDeObraTotal/c)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Mat. por mÂ²:"}),e.jsx("span",{className:"font-semibold text-orange-600",children:N(l.materiaisTotal/c)})]})]})]})]})]})})},Te=({itens:l,selectedItems:f,onItemSelect:g,onCategorySelect:N,onToggleVisibility:c,hiddenElements:i=new Set})=>{const[b,_]=y.useState([]),d=s=>s.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),x=s=>`${s.toLocaleString("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1})}%`,t=s=>s.toLocaleString("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1}),o=l.filter(s=>s.isEtapaTotal),m=l.filter(s=>!s.isEtapaTotal),v=s=>{console.log("ğŸ–±ï¸ ===== ITEM CLICADO NA PLANILHA ====="),console.log("ğŸ“‹ Item clicado:",{id:s.id,descricao:s.descricao,isEtapaTotal:s.isEtapaTotal}),_(p=>p.includes(s.id)?p.filter(h=>h!==s.id):[...p,s.id]),console.log("ğŸ¯ Selecionando item para highlight no 3D:",s.id),g(s),s.isEtapaTotal&&N&&(console.log("ğŸ—ï¸ Categoria principal clicada - chamando onCategorySelect:",s.id),N(s.id))},n=s=>b.includes(s),a=s=>!s.elementos3D||!c?!1:s.elementos3D.split(",").map(h=>h.trim()).some(h=>i.has(h)),u=(s,p)=>{s.stopPropagation(),c&&c(p)};return l.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(je,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Carregando dados da planilha..."})]}):e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"space-y-2",children:o.map(s=>{const p=m.filter(h=>{var E;return(E=h.codigo)==null?void 0:E.startsWith(s.codigo||"")});return e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-bold text-blue-900 text-sm",children:[s.codigo," - ",s.descricao]}),e.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"Categoria Principal"})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-sm font-bold text-blue-800",children:["R$ ",d(s.total)]}),e.jsx("div",{className:"text-xs text-blue-600",children:x(s.peso)})]})]})}),p.map(h=>{const E=f.includes(h.id),M=n(h.id),r=a(h);return e.jsxs("div",{onClick:()=>v(h),className:`p-3 rounded-lg border cursor-pointer transition-all duration-200 ${E?"bg-orange-100 border-orange-300 shadow-md":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"font-medium text-sm text-gray-800",children:[h.codigo," - ",h.descricao]}),c&&h.elementos3D&&e.jsx("button",{onClick:w=>u(w,h),className:`p-1 rounded transition-colors duration-200 ${r?"text-red-500 hover:text-red-700 hover:bg-red-50":"text-green-500 hover:text-green-700 hover:bg-green-50"}`,title:r?"Mostrar elementos 3D":"Ocultar elementos 3D",children:r?e.jsx(ve,{className:"h-4 w-4"}):e.jsx(B,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[h.unidade||"mÂ³"," â€¢ Quantidade: ",h.quantidade?t(h.quantidade):"N/A"]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-sm font-semibold text-blue-600",children:["R$ ",d(h.total)]}),e.jsx("div",{className:"text-xs text-gray-500",children:x(h.peso)})]})]}),M&&e.jsx("div",{className:"mt-3 pt-3 border-t border-orange-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Quantidade:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[h.quantidade?t(h.quantidade):"N/A"," ",h.unidade||"mÂ³"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Valor Unit.:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",h.valorUnitario?d(h.valorUnitario):"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"M.O.:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",h.maoDeObra?d(h.maoDeObra):"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Materiais:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",h.materiais?d(h.materiais):"N/A"]})]})]})})]},h.id)})]},s.id)})}),e.jsx("div",{className:"mt-6 bg-gray-100 border border-gray-300 rounded-lg p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:"Totais Gerais"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"M.O. Total:"}),e.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",d(o.reduce((s,p)=>s+(p.maoDeObra||0),0))]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Materiais Total:"}),e.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",d(o.reduce((s,p)=>s+(p.materiais||0),0))]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Geral:"}),e.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",d(o.reduce((s,p)=>s+p.total,0))]})]})]})]})}),e.jsx("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-100 border border-blue-300 rounded"}),e.jsx("span",{children:"Categoria Principal"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-50 border border-orange-300 rounded"}),e.jsx("span",{children:"Item Selecionado"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-100 border border-gray-300 rounded"}),e.jsx("span",{children:"Clique para expandir"})]}),c&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(B,{className:"h-3 w-3 text-green-500"}),e.jsx("span",{children:"Ocultar/Mostrar 3D"})]})]})})]})};function Oe(){const{progress:l}=Y();return e.jsx(ee,{center:!0,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando modelo 3D..."}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[Math.round(l),"%"]})]})})}function Re({highlightedElements:l,hiddenElements:f,onElementsExtracted:g,onElementClick:N}){const c=y.useRef(null),{scene:i}=se("/10apartamentosarq.glb");console.log("ğŸ¯ StructuralModel - Scene carregada:",!!i),i&&(console.log("ğŸ¯ StructuralModel - Scene name:",i.name),console.log("ğŸ¯ StructuralModel - Scene children count:",i.children.length),console.log("ğŸ¯ StructuralModel - Scene type:",i.type));const b=y.useMemo(()=>{const t=document.createElement("canvas");t.width=512,t.height=512;const o=t.getContext("2d"),m=o.createRadialGradient(256,256,0,256,256,256);m.addColorStop(0,"rgba(173, 216, 230, 0.6)"),m.addColorStop(.3,"rgba(135, 206, 250, 0.4)"),m.addColorStop(.7,"rgba(100, 149, 237, 0.3)"),m.addColorStop(1,"rgba(70, 130, 180, 0.2)"),o.fillStyle=m,o.fillRect(0,0,512,512);for(let n=0;n<12;n++){const a=Math.random()*512,u=Math.random()*512,s=Math.random()*30+10,p=Math.random()*4+2,h=Math.random()*.5+.3;o.fillStyle=`rgba(255, 255, 255, ${h})`,o.fillRect(a,u,s,p)}for(let n=0;n<5;n++){const a=Math.random()*512,u=Math.random()*.4+.2;o.fillStyle=`rgba(255, 255, 255, ${u})`,o.fillRect(a,0,1,512)}for(let n=0;n<3;n++){const a=Math.random()*512,u=Math.random()*.3+.1;o.fillStyle=`rgba(255, 255, 255, ${u})`,o.fillRect(0,a,512,1)}for(let n=0;n<20;n++){const a=Math.random()*512,u=Math.random()*512,s=Math.random()*3+1,p=Math.random()*.1+.05;o.fillStyle=`rgba(200, 200, 255, ${p})`,o.fillRect(a,u,s,s)}const v=new oe(t);return v.wrapS=q,v.wrapT=q,v.repeat.set(1,1),v.generateMipmaps=!0,v.minFilter=ae,v.magFilter=te,v},[]),_=y.useMemo(()=>({parede:new L({color:"#4A4A4A",roughness:.8,metalness:0,envMapIntensity:.3}),piso:new L({color:"#5A5A5A",roughness:.1,metalness:0,envMapIntensity:.5}),esquadria:new L({map:b,color:"#B0E0E6",roughness:0,metalness:0,transparent:!0,opacity:.7,side:H,envMapIntensity:6,emissive:"#87CEEB",emissiveIntensity:.1}),telhado:new L({color:"#8B0000",roughness:.9,metalness:0,envMapIntensity:.2}),pilar:new L({color:"#3A3A3A",roughness:.6,metalness:0,envMapIntensity:.4}),vidro:new L({map:b,color:"#B0E0E6",roughness:0,metalness:0,transparent:!0,opacity:.6,side:H,envMapIntensity:7,emissive:"#87CEEB",emissiveIntensity:.15}),default:new L({color:"#404040",roughness:.7,metalness:0,envMapIntensity:.4})}),[b]),d=t=>{const o=t.toLowerCase();return o.includes("parede")||o.includes("alvenaria")?(console.log(`ğŸ—ï¸ PAREDE detectada: ${t}`),_.parede):o.includes("piso")||o.includes("laje")?(console.log(`ğŸ  PISO detectado: ${t}`),_.piso):o.includes("porta")||o.includes("janela")||o.includes("esquadria")||o.includes("folha")||o.includes("basculante")||o.includes("correr")||o.includes("madeira")||o.includes("abrir")||o.includes("extern")||o.includes("fachada")||o.includes("front")||o.includes("entrada")||o.includes("door")||o.includes("window")||o.includes("frame")||o.includes("modelo")||o.includes("080x210")||o.includes("050x05")||o.includes("100_x_120")||o.includes("correr")||o.includes("basculante")?(console.log(`ğŸšªğŸªŸ ESQUADRIA EXTERNA (porta/janela) com VIDRO REALISTA detectada: ${t}`),_.esquadria):o.includes("telhado")||o.includes("telha")?(console.log(`ğŸ  TELHADO detectado: ${t}`),_.telhado):o.includes("pilar")||o.includes("viga")?(console.log(`ğŸ—ï¸ PILAR/VIGA detectado: ${t}`),_.pilar):o.includes("vidro")||o.includes("glass")||o.includes("transparente")||o.includes("cristal")||o.includes("vitro")?(console.log(`ğŸªŸ VIDRO REALISTA detectado: ${t}`),_.vidro):(console.log(`âšª PADRÃƒO aplicado: ${t}`),_.default)};y.useEffect(()=>{if(i&&g){const t=[],o={},m={},v=(r,w=0,C="")=>{const A="  ".repeat(w),T=C?`${C}/${r.name}`:r.name;if(r.name&&r.name.trim()!==""){t.push(r.name),m[r.name]={level:w,parentPath:C,currentPath:T,children:r.children.map(S=>S.name).filter(S=>S),type:r.type,isMesh:r instanceof V,isGroup:r instanceof ne},console.log(`${A}ğŸ“ ${r.name} (${r.type}) - Level: ${w} - Path: ${T}`);const O=r.name.match(/^(\d+\.\d+)_\.(\d+)$/);if(O){const S=O[1];o[S]||(o[S]=[]),o[S].push(r),console.log(`ğŸ“ ELEMENTO DA COLECÃ‡ÃƒO PAI: "${r.name}" -> ColeÃ§Ã£o: "${S}"`)}(r.name==="1.1"||r.name==="1.2"||r.name==="2.1"||r.name==="2.2"||r.name==="2.3"||r.name==="3.1"||r.name==="3.2")&&console.log(`ğŸ“ COLECÃ‡ÃƒO PAI ENCONTRADA: "${r.name}"`)}r.children.forEach(O=>{v(O,w+1,T)})};console.log("ğŸ—ï¸ ===== ANÃLISE COMPLETA DA HIERARQUIA GLB ====="),v(i),window.glbHierarchy=m,console.log("ğŸ“Š Hierarquia completa:",m),i.traverse(r=>{if(r instanceof V&&!r.userData.materialApplied){const w=d(r.name);r.userData.originalMaterial||(r.userData.originalMaterial=r.material),r.material=w,r.userData.materialApplied=!0,r.castShadow=!0,r.receiveShadow=!0,console.log(`ğŸ¨ Material aplicado em: ${r.name} - Tipo: ${w.color.getHexString()}`)}}),window.glbCollections=o,console.log("ğŸ“ ===== COLECÃ‡Ã•ES IDENTIFICADAS ====="),console.log("ğŸ“ Total de subcoleÃ§Ãµes:",Object.keys(o).length),Object.entries(o).forEach(([r,w])=>{console.log(`ğŸ“ SubcoleÃ§Ã£o "${r}": ${w.length} objetos`)}),console.log("ğŸ“¦ ===== ELEMENTOS 3D EXTRAÃDOS ====="),console.log("ğŸ“¦ Total de elementos:",t.length),console.log("ğŸ“¦ Primeiros 10 elementos:",t.slice(0,10)),console.log("ğŸ“¦ Elementos com underscore:",t.filter(r=>r.includes("_")).slice(0,10));const n=t.filter(r=>r.startsWith("1.1_"));console.log("ğŸ“¦ ===== ELEMENTOS 1.1_ (VIGAS) ====="),console.log("ğŸ“¦ Quantidade de elementos 1.1_:",n.length),console.log("ğŸ“¦ Lista completa dos elementos 1.1_:",n.sort());const a=t.filter(r=>r.includes("1.1_")||r.includes("1.2_")||r.includes("2.1_")||r.includes("2.2_")||r.includes("2.3_")||r.includes("3.1_")||r.includes("3.2_"));console.log("ğŸ—ï¸ ===== TODAS AS SUBCOLEÃ‡Ã•ES ====="),console.log("ğŸ—ï¸ Total de subcoleÃ§Ãµes:",a.length),console.log("ğŸ—ï¸ Lista todas subcoleÃ§Ãµes:",a.sort()),window.glbSubcolecoes=a;const u=t.filter(r=>r.startsWith("1.2_"));console.log("ğŸ“¦ ===== ELEMENTOS 1.2_ (PILARES) ====="),console.log("ğŸ“¦ Quantidade de elementos 1.2_:",u.length),console.log("ğŸ“¦ Lista completa dos elementos 1.2_:",u.sort());const s=t.filter(r=>r.startsWith("2.1_"));console.log("ğŸ“¦ ===== ELEMENTOS 2.1_ (VIGAS TÃ‰RREO) ====="),console.log("ğŸ“¦ Quantidade de elementos 2.1_:",s.length),console.log("ğŸ“¦ Lista completa dos elementos 2.1_:",s.sort());const p=t.filter(r=>r.startsWith("2.2_"));console.log("ğŸ“¦ ===== ELEMENTOS 2.2_ (PILARES TÃ‰RREO) ====="),console.log("ğŸ“¦ Quantidade de elementos 2.2_:",p.length),console.log("ğŸ“¦ Lista completa dos elementos 2.2_:",p.sort());const h=t.filter(r=>r.startsWith("2.3_"));console.log("ğŸ“¦ ===== ELEMENTOS 2.3_ (LAJES TÃ‰RREO) ====="),console.log("ğŸ“¦ Quantidade de elementos 2.3_:",h.length),console.log("ğŸ“¦ Lista completa dos elementos 2.3_:",h.sort());const E=t.filter(r=>r.startsWith("3.1_"));console.log("ğŸ“¦ ===== ELEMENTOS 3.1_ (VIGAS SUPERIOR) ====="),console.log("ğŸ“¦ Quantidade de elementos 3.1_:",E.length),console.log("ğŸ“¦ Lista completa dos elementos 3.1_:",E.sort());const M=t.filter(r=>r.startsWith("3.2_"));console.log("ğŸ“¦ ===== ELEMENTOS 3.2_ (PILARES SUPERIOR) ====="),console.log("ğŸ“¦ Quantidade de elementos 3.2_:",M.length),console.log("ğŸ“¦ Lista completa dos elementos 3.2_:",M.sort()),console.log("ğŸ“¦ ===== TODOS OS ELEMENTOS (ORDENADOS) ====="),console.log("ğŸ“¦ Lista completa ordenada:",t.sort()),g(t)}},[i,g]),y.useEffect(()=>{if(console.log("ğŸ¨ ===== INICIANDO HIGHLIGHTING ====="),console.log("ğŸ¨ Elementos para destacar:",l.length),console.log("ğŸ¨ Lista completa:",l),console.log("ğŸ¨ Scene disponÃ­vel:",!!i),console.log("ğŸ¨ Scene children count:",i?i.children.length:0),l.some(t=>t.startsWith("1.1_"))){const t=l.filter(o=>o.startsWith("1.1_"));console.log("ğŸ—ï¸ ===== DESTACANDO ELEMENTOS 1.1_ (VIGAS) ====="),console.log("ğŸ—ï¸ Quantidade de elementos 1.1_ a destacar:",t.length),console.log("ğŸ—ï¸ Lista dos elementos 1.1_ a destacar:",t.sort())}if(i&&(console.log("ğŸ” ===== DEBUG SCENE ====="),console.log("ğŸ” Scene name:",i.name),console.log("ğŸ” Scene type:",i.type),console.log("ğŸ” Scene children:",i.children.map(t=>({name:t.name,type:t.type})))),i){let t=0,o=0,m=[];console.log("ğŸ¨ ===== USANDO ELEMENTOS INDIVIDUAIS PARA HIGHLIGHTING ====="),console.log("ğŸ¨ Elementos para destacar:",l),console.log("ğŸ¨ Quantidade de elementos para destacar:",l.length),i.traverse(a=>{if(a instanceof V){o++;const u=l.includes(a.name),s=f.has(a.name);if(a.visible=!s,s){console.log(`ğŸ‘ï¸ Elemento ocultado: ${a.name}`);return}if(a.name&&(a.name.includes("11_")||a.name.includes("1.1_")||a.name.includes("12_")||a.name.includes("21_")||a.name.includes("22_"))&&(console.log(`ğŸ” MESH ESTRUTURAL ENCONTRADO: ${a.name} - Highlighted: ${u}`),console.log(`ğŸ” Elementos destacados incluem ${a.name}?`,l.includes(a.name))),u)if(t++,m.push(a.name),a.name.startsWith("1.1_")?console.log(`ğŸ—ï¸ VIGA DESTACADA: ${a.name} - PosiÃ§Ã£o:`,a.position):console.log(`ğŸŸ  DESTACANDO: ${a.name}`),a.material){a.userData.originalMaterial||(a.userData.originalMaterial=a.material.clone(),console.log(`ğŸ’¾ Material original salvo para: ${a.name}`));const p=new L({color:16729344,emissive:16737095,emissiveIntensity:1.2,metalness:0,roughness:.1,envMapIntensity:4,transparent:!1,opacity:1});a.material=p,a.material.map&&(a.material.map.needsUpdate=!0),a.name.startsWith("1.1_")?console.log(`ğŸ—ï¸ VIGA LARANJA APLICADA: ${a.name} - Cor: #ff6600`):(console.log(`ğŸŸ  MATERIAL LARANJA APLICADO: ${a.name}`),console.log("ğŸŸ  Material vibrante aplicado: #FF4500 (laranja com efeitos)"),console.log("ğŸŸ  Material realista aplicado"))}else console.log(`âš ï¸ Material nÃ£o encontrado para: ${a.name}`);else{const p=a.userData.originalMaterial;if(p)a.material=p;else{const h=new L({color:"#6A6A6A",roughness:.7,metalness:.1,normalScale:new le(.5,.5)});a.material=h}console.log(`ğŸ”„ Material original restaurado para: ${a.name}`)}}}),console.log("ğŸ¨ ===== RESULTADO HIGHLIGHTING ====="),console.log(`ğŸ¨ Total de meshes: ${o}`),console.log(`ğŸ¨ Meshes destacados: ${t}`),console.log("ğŸ¨ Elementos encontrados:",m),console.log("ğŸ¨ Elementos nÃ£o encontrados:",l.filter(a=>!m.includes(a)));const v=m.filter(a=>a.startsWith("1.1_")),n=l.filter(a=>a.startsWith("1.1_")&&!m.includes(a));(v.length>0||n.length>0)&&(console.log("ğŸ—ï¸ ===== RESUMO VIGAS (1.1_) ====="),console.log(`ğŸ—ï¸ Vigas encontradas e destacadas: ${v.length}`),console.log("ğŸ—ï¸ Lista das vigas destacadas:",v.sort()),console.log(`ğŸ—ï¸ Vigas nÃ£o encontradas: ${n.length}`),n.length>0&&console.log("ğŸ—ï¸ Lista das vigas nÃ£o encontradas:",n.sort()))}else console.log("âŒ Scene nÃ£o disponÃ­vel para highlighting")},[i,l,f]);const x=t=>{t.stopPropagation();const o=t.object.name;console.log("ğŸ–±ï¸ Elemento clicado:",o),N&&N(o)};return i?(console.log("âœ… StructuralModel - Renderizando modelo GLB"),e.jsx("group",{ref:c,children:e.jsx("primitive",{object:i,onClick:x,onPointerOver:t=>{t.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:t=>{t.stopPropagation(),document.body.style.cursor="auto"}})})):(console.log("âŒ StructuralModel - Scene nÃ£o carregada, renderizando fallback"),e.jsx("group",{children:e.jsxs("mesh",{position:[0,0,0],children:[e.jsx("boxGeometry",{args:[2,2,2]}),e.jsx("meshStandardMaterial",{color:"#ff6b6b"})]})}))}function Me(l){const[f,g]=y.useState([]),[N,c]=y.useState([]),[i,b]=y.useState([]),[_,d]=y.useState(new Set);y.useEffect(()=>{(async()=>{try{const m=await(await fetch("/mapeamento-elementos.json")).json();window.mapeamentoElementos=m,console.log("ğŸ—ºï¸ Mapeamento de elementos carregado:",m)}catch(o){console.log("âš ï¸ Erro ao carregar mapeamento:",o)}})()},[]),y.useEffect(()=>{console.log("ğŸ” ===== DEBUG DADOS PLANILHA ====="),console.log("ğŸ“Š Total de itens 5D:",l.length),window.itens5D=l,window.debugData={itens:l,timestamp:new Date().toISOString()},l.slice(0,5).forEach((m,v)=>{console.log(`ğŸ“‹ Item ${v+1}:`,{id:m.id,codigo:m.codigo,descricao:m.descricao,elementos3D:m.elementos3D,allKeys:Object.keys(m)})});const t=l.some(m=>m.elementos3D&&m.elementos3D.trim()!=="");console.log("ğŸ”— Itens com elementos3D:",t),t||(console.log('âš ï¸ ATENÃ‡ÃƒO: Nenhum item possui a coluna "elementos3D" preenchida!'),console.log("ğŸ’¡ Verifique se a coluna existe na planilha CSV e se os dados foram carregados corretamente"));const o=l.filter(m=>m.elementos3D&&m.elementos3D.trim()!=="");console.log("ğŸ“Š ===== RESUMO DA LINCAGEM ====="),console.log(`ğŸ“Š Total de itens: ${l.length}`),console.log(`ğŸ“Š Itens com elementos3D: ${o.length}`),o.forEach(m=>{const v=m.elementos3D.split(",").map(n=>n.trim()).filter(n=>n!=="");console.log(`ğŸ“‹ ${m.id} (${m.descricao}): ${v.length} elementos`),console.log(`   Primeiros 5: ${v.slice(0,5).join(", ")}`)})},[l]),y.useEffect(()=>{if(i.length>0){console.log("ğŸ¯ ===== DEBUG ELEMENTOS GLB ====="),console.log("ğŸ“¦ Total de elementos GLB:",i.length),console.log("ğŸ”¤ Primeiros 20 elementos GLB:",i.slice(0,20)),window.glbElements=i,window.debugData={...window.debugData,glbElements:i,glbTimestamp:new Date().toISOString()};const t={withNumbers:i.filter(o=>/\d/.test(o)),withUnderscore:i.filter(o=>o.includes("_")),withDots:i.filter(o=>o.includes(".")),collections:i.filter(o=>o.toLowerCase().includes("collection")||o.toLowerCase().includes("colecao"))};Object.entries(t).forEach(([o,m])=>{m.length>0&&console.log(`ğŸ”¸ Elementos ${o}:`,m.slice(0,10))})}},[i]);const x=y.useCallback(t=>{const o=t.id,m=t.codigo,v=t.descricao||"",n=t.elementos3D||"";console.log("ğŸ” ===== BUSCANDO CORRESPONDÃŠNCIAS ====="),console.log("ğŸ“‹ Item:",{id:o,codigo:m,descricao:v,elementos3D:n}),console.log("ğŸ“¦ Total de elementos GLB disponÃ­veis:",i.length),console.log("ğŸ“¦ Primeiros 10 elementos GLB:",i.slice(0,10));let a=[];if(n&&n.trim()!==""){console.log("ğŸ¯ ===== USANDO ELEMENTOS3D DA PLANILHA (COLECÃ‡Ã•ES PAI) ====="),console.log("ğŸ“‹ Elementos3D RAW:",`"${n}"`);const u=n.split(",").map(E=>E.trim()).filter(E=>E!=="");console.log("ğŸ“‹ ColeÃ§Ãµes Pai da planilha:",u),console.log("ğŸ“‹ Quantidade de coleÃ§Ãµes pai na planilha:",u.length);const s=[],p=window.glbHierarchy||{};for(const E of u){console.log(`ğŸ” Buscando elementos dentro da coleÃ§Ã£o pai: "${E}"`);const M=i.filter(A=>A.startsWith(E)||A.includes(E)),r=[],w=p[E];if(w){console.log(`ğŸ“ ColeÃ§Ã£o pai "${E}" encontrada na hierarquia:`,w);const A=E.match(/^(\d+\.\d+)/),T=A?A[1].replace(".",""):"",O=(S,k=0)=>{const R=p[S];if(!R)return[];let j=[];return R.isMesh&&T&&S.startsWith(T+"_")&&j.push(S),R.children.forEach(P=>{j.push(...O(P,k+1))}),j};r.push(...O(E))}const C=i.filter(A=>{const T=E.match(/^(\d+\.\d+)/);if(T){const S=T[1].replace(".","");return new RegExp(`^${S}_(\\d+)?$`).test(A)}return!1});console.log(`ğŸ“¦ Elementos diretos encontrados na coleÃ§Ã£o "${E}":`,M.length),console.log("ğŸ“¦ Elementos hierÃ¡rquicos encontrados:",r.length),console.log("ğŸ“¦ Elementos similares encontrados:",C.length),s.push(...M,...r,...C)}const h=[...new Set(s)];return console.log("âœ… Total de elementos encontrados em todas as coleÃ§Ãµes pai:",h.length),console.log("âœ… Lista completa dos elementos encontrados:",h),h.length>0?(a=h,console.log(`ğŸ¯ MAPEAMENTO POR COLECÃ‡Ã•ES PAI: ${a.length} elementos encontrados para ${o}`),a):(console.log("âš ï¸ Nenhum elemento foi encontrado nas coleÃ§Ãµes pai especificadas"),console.log("ğŸ” ColeÃ§Ãµes pai da planilha:",u),console.log("ğŸ” Elementos disponÃ­veis no GLB:",i.slice(0,20)),console.log("âŒ Item nÃ£o possui coleÃ§Ãµes pai vÃ¡lidas - NENHUM elemento serÃ¡ destacado"),console.log("ğŸ’¡ Verifique se os nomes das coleÃ§Ãµes pai na planilha coincidem com os do GLB"),[])}else return console.log("âŒ Item nÃ£o possui coluna Elementos3D preenchida - NENHUM elemento serÃ¡ destacado"),[]},[i]);return{selectedItems:f,highlightedElements:N,setGlbElements:b,setHighlightedElements:c,findMatchingElements:x,handleItemSelect:y.useCallback(t=>{const o=t.id;console.log("ğŸ–±ï¸ ===== ITEM SELECIONADO ====="),console.log("ğŸ“‹ Item completo:",t),g(()=>{const m=[o];console.log("ğŸ”„ SeleÃ§Ã£o atualizada (apenas item atual):",m);const v=x(t);return console.log("ğŸ¨ ===== APLICANDO HIGHLIGHTING ====="),console.log("ğŸ¨ Total de elementos para destacar:",v.length),console.log("ğŸ¨ Lista de elementos:",v),v.length>0?(console.log(`ğŸ¯ ${v.length} elementos serÃ£o destacados em LARANJA`),console.log("ğŸŸ  Elementos:",v.join(", ")),console.log("ğŸŸ  ===== DESTAQUE LARANJA ATIVADO =====")):(console.log("âš ï¸ NENHUM elemento encontrado para destacar!"),console.log("ğŸ’¡ Verifique:"),console.log('   1. Se a coluna "elementos3D" estÃ¡ preenchida na planilha'),console.log("   2. Se os nomes dos elementos coincidem com os do modelo GLB"),console.log("   3. Se o modelo GLB foi carregado corretamente"),console.log("ğŸ“‹ Item atual:",{id:t.id,descricao:t.descricao,elementos3D:t.elementos3D})),c(v),window.highlightedElements=v,window.debugData={...window.debugData,highlightedElements:v,selectedItem:t,highlightTimestamp:new Date().toISOString()},m})},[x]),toggleElementVisibility:y.useCallback(t=>{const o=t.id;console.log("ğŸ‘ï¸ Alternando visibilidade para item:",o);const m=x(t);console.log("ğŸ”— Elementos para ocultar/mostrar:",m),m.some(n=>_.has(n))?(d(n=>{const a=new Set(n);return m.forEach(u=>a.delete(u)),a}),console.log("ğŸ‘ï¸ Elementos mostrados:",m)):(d(n=>{const a=new Set(n);return m.forEach(u=>a.add(u)),a}),console.log("ğŸ‘ï¸ Elementos ocultados:",m))},[x,_]),hiddenElements:_}}function Ie(){const{itens:l}=U(),[f,g]=y.useState(!1),[N,c]=y.useState(null),{selectedItems:i,highlightedElements:b,hiddenElements:_,setGlbElements:d,setHighlightedElements:x,handleItemSelect:t,toggleElementVisibility:o}=Me(l);y.useEffect(()=>{l.length===0?g(!0):(g(!1),c(null),console.log("âœ… Dados da planilha 5DEST.csv carregados no Viewer5D:",l.length,"itens"),console.log("ğŸ“‹ Primeiros itens:",l.slice(0,5).map(n=>({id:n.id,descricao:n.descricao,quantidade:n.quantidade,total:n.total,elementos3D:n.elementos3D}))))},[l]);const m=y.useCallback(n=>{d(n),console.log("ğŸ¯ Elementos 3D carregados:",n.length)},[d]),v=n=>{console.log("ğŸ—ï¸ Destacando elementos da categoria:",n);const a=[],u=n+"_";for(let s=1;s<=50;s++){const p=`${u}.${s.toString().padStart(3,"0")}`;a.push(p)}console.log("ğŸ¯ Elementos encontrados para destacar:",a),x(a)};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Carregando Dashboard 5D"}),e.jsx("p",{className:"text-gray-500",children:"Preparando modelo 3D e dados orÃ§amentÃ¡rios..."})]})}):N?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg",children:[e.jsx("div",{className:"text-red-500 text-3xl mb-4",children:"âš ï¸"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Erro no Carregamento"}),e.jsx("p",{className:"text-gray-600",children:N})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/5 via-transparent to-purple-400/5"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_20%_80%,rgba(120,119,198,0.1),transparent_50%)]"}),e.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-[radial-gradient(circle_at_80%_20%,rgba(255,119,198,0.1),transparent_50%)]"}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 p-6 relative",children:[e.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-white/30 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-4 right-6 w-1 h-1 bg-white/40 rounded-full animate-pulse delay-100"}),e.jsx("div",{className:"absolute top-6 right-4 w-1.5 h-1.5 bg-white/20 rounded-full animate-pulse delay-200"}),e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(pe,{className:"h-6 w-6 mr-3 text-blue-200"}),"Projeto ArquitetÃ´nico - 3D",b.length>0&&e.jsxs("span",{className:"ml-3 bg-gradient-to-r from-orange-400 to-red-400 text-white px-3 py-1.5 rounded-full text-sm font-semibold shadow-lg",children:[b.length," em destaque"]})]}),e.jsx("p",{className:"text-blue-100 text-sm mt-2 font-medium",children:"âœ¨ Clique nos itens da planilha para destacar no modelo"})]}),e.jsx("div",{className:"h-96 lg:h-[520px] relative",children:e.jsx(J,{camera:{position:[20,20,20],fov:60},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance",stencil:!1,depth:!0},dpr:[1,2],performance:{min:.5},shadows:!0,children:e.jsxs(y.Suspense,{fallback:e.jsx(Oe,{}),children:[e.jsx(X,{preset:"night"}),e.jsx("ambientLight",{intensity:.2,color:"#FFFFFF"}),e.jsx("directionalLight",{position:[40,40,20],intensity:2.5,color:"#FFF8DC",castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-camera-near":.1,"shadow-camera-far":500,"shadow-camera-left":-50,"shadow-camera-right":50,"shadow-camera-top":50,"shadow-camera-bottom":-50,"shadow-bias":-1e-4,"shadow-normalBias":.02}),e.jsx("directionalLight",{position:[-25,15,-25],intensity:.3,color:"#E6F3FF"}),e.jsx("pointLight",{position:[8,8,8],intensity:1.2,color:"#FFFFFF",distance:35,decay:2,castShadow:!0,"shadow-mapSize-width":512,"shadow-mapSize-height":512}),e.jsx("pointLight",{position:[-8,6,-8],intensity:.2,color:"#FFE4B5",distance:25,decay:2}),e.jsx(Re,{highlightedElements:b,hiddenElements:_,onElementsExtracted:m,onElementClick:n=>{console.log("ğŸ”— Elemento 3D clicado:",n);const a=l.find(u=>u.elementos3D&&u.elementos3D.includes(n));a?(console.log("ğŸ“‹ Item encontrado na planilha:",a),t(a.id)):console.log("âŒ Nenhum item encontrado para o elemento:",n)}}),e.jsx(K,{enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:8,maxDistance:80,target:[0,0,0],autoRotate:!1,enableDamping:!0,dampingFactor:.05,rotateSpeed:.8,zoomSpeed:1,panSpeed:.8})]})})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500"}),e.jsxs("div",{className:"bg-gradient-to-r from-green-600 via-emerald-700 to-teal-700 p-6 relative",children:[e.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-white/30 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-4 right-6 w-1 h-1 bg-white/40 rounded-full animate-pulse delay-150"}),e.jsx("div",{className:"absolute top-6 right-4 w-1.5 h-1.5 bg-white/20 rounded-full animate-pulse delay-300"}),e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(ye,{className:"h-6 w-6 mr-3 text-green-200"}),"Planilha OrÃ§amentÃ¡ria SintÃ©tica"]}),e.jsxs("p",{className:"text-green-100 text-sm mt-2 font-medium",children:["ğŸ“Š ",l.length," itens carregados â€¢ Clique para destacar no 3D"]})]}),e.jsx("div",{className:"max-h-[520px] overflow-y-auto",children:e.jsx(Te,{itens:l,selectedItems:i,onItemSelect:t,onCategorySelect:v,onToggleVisibility:o,hiddenElements:_})})]})]})})]})}const Le=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-600 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Carregando Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Analisando dados do Lote 10x30 - 10 Apartamentos..."})]})});function Ce(){const[l,f]=y.useState("resumo"),{setItens:g}=U(),[N,c]=y.useState(!0);if(y.useEffect(()=>{(async()=>{try{c(!0);const _=await de();g(_)}catch(_){console.error("Erro ao carregar dados:",_)}finally{c(!1)}})()},[g]),N)return e.jsx(Le,{});const i=()=>{switch(l){case"resumo":return e.jsx(z,{});case"5d":return e.jsx(Ie,{});default:return e.jsx(z,{})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Se,{dashboardName:"Dashboard Arquitetura"}),e.jsx(we,{}),e.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-4 lg:py-8",children:[e.jsx(De,{activeTab:l,onTabChange:f}),e.jsx("div",{className:"mt-2 sm:mt-4 lg:mt-6",children:i()})]})]})}re.createRoot(document.getElementById("root")).render(e.jsx(ie.StrictMode,{children:e.jsx(Ce,{})}));
