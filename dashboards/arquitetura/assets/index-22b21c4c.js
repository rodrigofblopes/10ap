import{c as Z,j as e,C as J,E as X,O as K,u as Y,H as ee,a as se,b as ae,R as q,L as oe,d as te,M as I,D as B,e as F,V as le,G as ne,f as re}from"./three-7c4b3300.js";import{r as E,R as ie}from"./vendor-57209f9c.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))b(c);new MutationObserver(c=>{for(const n of c)if(n.type==="childList")for(const j of n.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&b(j)}).observe(document,{childList:!0,subtree:!0});function p(c){const n={};return c.integrity&&(n.integrity=c.integrity),c.referrerPolicy&&(n.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?n.credentials="include":c.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function b(c){if(c.ep)return;c.ep=!0;const n=p(c);fetch(c.href,n)}})();const V=Z((l,m)=>({itens:[],resumo:{valorTotal:0,maoDeObraTotal:0,materiaisTotal:0,areaTotal:0,custoPorM2:0},setItens:p=>{l({itens:p}),m().calcularResumo()},calcularResumo:()=>{const{itens:p}=m();if(p.length===0){l({resumo:{valorTotal:0,maoDeObraTotal:0,materiaisTotal:0,areaTotal:0,custoPorM2:0}});return}const b=p.filter(f=>f.isEtapaTotal),c=b.reduce((f,t)=>f+t.total,0),n=b.reduce((f,t)=>f+t.maoDeObra,0),j=b.reduce((f,t)=>f+t.materiais,0);console.log("🔍 Debug do Store - Itens principais:",b.map(f=>({id:f.id,descricao:f.descricao,total:f.total,maoDeObra:f.maoDeObra,materiais:f.materiais}))),console.log("🔍 Debug do Store - Totais calculados:",{valorTotal:c,maoDeObraTotal:n,materiaisTotal:j});const v=p.reduce((f,t)=>f+(t.area||0),0),x=v>0?c/v:0;l({resumo:{valorTotal:c,maoDeObraTotal:n,materiaisTotal:j,areaTotal:v,custoPorM2:x}})}})),H=[{id:"1",codigo:"1",nome:"Fundação",descricao:"Fundação",categoria:"Fundação",subcategoria:"Total",unidade:"",quantidade:0,valorUnitario:0,maoDeObra:10846.1,materiais:28394.92,total:39241.02,area:149,peso:30.81,isEtapaTotal:!0,elementos3D:"1.1_.031,1.1_.032,1.1_.033,1.1_.034,1.1_.035,1.1_.036,1.1_.037,1.1_.038,1.1_.039,1.1_.040,1.1_.041,1.1_.042,1.1_.043,1.1_.044,1.1_.045,1.2_.003,1.2_.011,1.2_.012,1.2_.013"},{id:"1.1",codigo:"1.1",nome:"Vigas",descricao:"Vigas",categoria:"Fundação",subcategoria:"Vigas",unidade:"m³",quantidade:98.6,valorUnitario:197.1,maoDeObra:5374.03,materiais:14049.96,total:19423.99,area:149,peso:15.25,isEtapaTotal:!1,elementos3D:"1.1_.031,1.1_.032,1.1_.033,1.1_.034,1.1_.035,1.1_.036,1.1_.037,1.1_.038,1.1_.039,1.1_.040,1.1_.041,1.1_.042,1.1_.043,1.1_.044,1.1_.045"},{id:"1.2",codigo:"1.2",nome:"Pilares",descricao:"Pilares",categoria:"Fundação",subcategoria:"Pilares",unidade:"m³",quantidade:1.4,valorUnitario:6641.16,maoDeObra:2394.23,materiais:6903.39,total:9297.62,area:149,peso:7.3,isEtapaTotal:!1,elementos3D:"1.2_.003,1.2_.011,1.2_.012,1.2_.013"},{id:"1.3",codigo:"1.3",nome:"Fundações",descricao:"Fundações",categoria:"Fundação",subcategoria:"Fundações",unidade:"m³",quantidade:5.4,valorUnitario:1948.04,maoDeObra:3077.84,materiais:7441.57,total:10519.41,area:149,peso:8.26,isEtapaTotal:!1,elementos3D:"1.3_.001,1.3_.002,1.3_.003"},{id:"2",codigo:"2",nome:"Térreo",descricao:"Térreo",categoria:"Térreo",subcategoria:"Total",unidade:"",quantidade:0,valorUnitario:0,maoDeObra:10925.65,materiais:36442.67,total:47368.32,area:149,peso:37.2,isEtapaTotal:!0,elementos3D:"2.1_.001,2.1_.002,2.1_.003,2.2_.001,2.2_.002,2.2_.003,2.3_.001,2.3_.002,2.3_.003"},{id:"2.1",codigo:"2.1",nome:"Vigas",descricao:"Vigas",categoria:"Térreo",subcategoria:"Vigas",unidade:"m³",quantidade:6.2,valorUnitario:2802.94,maoDeObra:3894.85,materiais:13483.37,total:17378.22,area:149,peso:13.65,isEtapaTotal:!1,elementos3D:"2.1_.001,2.1_.002,2.1_.003"},{id:"2.2",codigo:"2.2",nome:"Pilares",descricao:"Pilares",categoria:"Térreo",subcategoria:"Pilares",unidade:"m³",quantidade:3.8,valorUnitario:5887.16,maoDeObra:6113.01,materiais:16258.2,total:22371.21,area:149,peso:17.57,isEtapaTotal:!1,elementos3D:"2.2_.001,2.2_.002,2.2_.003"},{id:"2.3",codigo:"2.3",nome:"Lajes",descricao:"Lajes",categoria:"Térreo",subcategoria:"Lajes",unidade:"m³",quantidade:6.7,valorUnitario:1137.15,maoDeObra:917.79,materiais:6701.1,total:7618.89,area:149,peso:5.98,isEtapaTotal:!1,elementos3D:"2.3_.001,2.3_.002,2.3_.003"},{id:"3",codigo:"3",nome:"Pavimento Superior",descricao:"Pavimento Superior",categoria:"Pavimento Superior",subcategoria:"Total",unidade:"",quantidade:0,valorUnitario:0,maoDeObra:11125.92,materiais:29611.27,total:40737.19,area:149,peso:31.99,isEtapaTotal:!0,elementos3D:"3.1_.001,3.1_.002,3.1_.003,3.2_.001,3.2_.002,3.2_.003"},{id:"3.1",codigo:"3.1",nome:"Vigas",descricao:"Vigas",categoria:"Pavimento Superior",subcategoria:"Vigas",unidade:"m³",quantidade:5.9,valorUnitario:2425.53,maoDeObra:5035.07,materiais:13644.76,total:18679.83,area:149,peso:14.67,isEtapaTotal:!1,elementos3D:"3.1_.001,3.1_.002,3.1_.003"},{id:"3.2",codigo:"3.2",nome:"Pilares",descricao:"Pilares",categoria:"Pavimento Superior",subcategoria:"Pilares",unidade:"m³",quantidade:3.8,valorUnitario:5804.57,maoDeObra:6090.85,materiais:15966.51,total:22057.36,area:149,peso:17.32,isEtapaTotal:!1,elementos3D:"3.2_.001,3.2_.002,3.2_.003"}],ce=async()=>{try{console.log("🚀 ===== INICIANDO CARREGAMENTO DE DADOS ====="),console.log("📁 Carregando dados reais da planilha 5DARQ.csv..."),console.log("🌐 URL base:",window.location.origin),console.log("📂 Caminho atual:",window.location.pathname);const l=["/5DARQ.csv","./5DARQ.csv","5DARQ.csv"];let m=null,p="";for(const n of l)try{if(console.log(`Tentando carregar CSV de: ${n}`),m=await fetch(n),m.ok){p=n;break}}catch(j){console.log(`Falha ao carregar de ${n}:`,j)}if(!m||!m.ok)throw new Error(`Erro ao carregar 5DARQ.csv de qualquer caminho. Status: ${m==null?void 0:m.status}`);console.log(`✅ CSV carregado com sucesso de: ${p}`),console.log("📊 Status da resposta CSV:",m.status),console.log("📋 Headers da resposta:",Object.fromEntries(m.headers.entries()));const b=await m.text();console.log("📄 CSV carregado, processando dados..."),console.log("📝 Primeiras 500 caracteres do CSV:",b.substring(0,500)),console.log("📏 Tamanho total do CSV:",b.length);const c=de(b);if(c.length===0)throw console.error("Nenhum dado processado. Conteúdo CSV:",b),new Error("Nenhum dado válido encontrado na planilha CSV");return console.log("✅ Dados reais carregados:",c.length,"itens"),console.log("📊 Total geral:",c.filter(n=>n.isEtapaTotal).reduce((n,j)=>n+j.total,0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),c}catch(l){return console.error("❌ Erro ao carregar dados da planilha:",l),console.log("🔄 Usando dados incorporados como fallback..."),console.log("✅ Dados incorporados carregados:",H.length,"itens"),console.log("📊 Total geral:",H.filter(m=>m.isEtapaTotal).reduce((m,p)=>m+p.total,0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),H}},de=l=>{var n,j,v,x,f,t,a,d,N;console.log("📊 ===== PROCESSANDO CSV 5DARQ (VERSÃO CORRIGIDA) ====="),console.log("📄 Processando CSV 5DARQ...");const m=l.split(`
`);console.log("📏 Total de linhas:",m.length),console.log("📋 Primeiras 5 linhas:",m.slice(0,5));const p=[];if(m.length>0){const r=m[0];console.log("📋 CABEÇALHO DETECTADO:",r);const o=r.split(";").map(s=>s.trim());console.log("📊 COLUNAS DO CABEÇALHO:",o.map((s,u)=>`${u}: ${s}`));const h=o.findIndex(s=>s.toLowerCase().includes("elementos")||s.toLowerCase().includes("3d")||s==="Elementos3D");console.log(`🎯 Coluna Elementos3D encontrada na posição: ${h}`)}for(let r=1;r<m.length;r++){const o=m[r].trim();if(r<=5&&console.log(`Linha ${r}:`,o),!o||o.startsWith(";")||o.includes("Total sem BDI")||o.includes("Total Geral"))continue;const h=o.split(";");if(console.log(`📊 Linha ${r} - Colunas (${h.length}):`,h.map((s,u)=>`${u}: "${s.trim()}"`)),h.length>=8){const s=(n=h[0])==null?void 0:n.trim(),u=(j=h[1])==null?void 0:j.trim(),g=(v=h[2])==null?void 0:v.trim(),y=parseFloat(((x=h[3])==null?void 0:x.replace(",","."))||"0"),_=((f=h[4])==null?void 0:f.trim())||"0",i=((t=h[5])==null?void 0:t.trim())||"0",A=((a=h[6])==null?void 0:a.trim())||"0",R=((d=h[7])==null?void 0:d.trim())||"0",w=((N=h[8])==null?void 0:N.trim())||"",M=parseFloat(_.replace(/\./g,"").replace(",",".")||"0"),L=parseFloat(i.replace(/\./g,"").replace(",",".")||"0"),D=parseFloat(A.replace(/\./g,"").replace(",",".")||"0"),P=parseFloat(R.replace("%","").replace(",",".")||"0");if(s==="1.1")if(console.log("🏗️ ===== ITEM 1.1 (VIGAS) DETECTADO ====="),console.log("🏗️ Item:",s),console.log("🏗️ Descrição:",u),console.log("🏗️ Elementos3D RAW:",`"${w}"`),console.log("🏗️ Elementos3D LENGTH:",w.length),console.log("🏗️ Possui vírgulas?",w.includes(",")),w&&w.includes(",")){const C=w.split(",").map($=>$.trim()).filter($=>$!=="");console.log("🏗️ Elementos3D ARRAY:",C),console.log("🏗️ Quantidade de elementos:",C.length),console.log("🏗️ Primeiro elemento:",`"${C[0]}"`),console.log("🏗️ Último elemento:",`"${C[C.length-1]}"`)}else console.log("🏗️ ⚠️ Elementos3D não contém vírgulas ou está vazio!");if(w&&w.trim()!==""&&console.log(`📋 Item ${s} possui elementos3D:`,`"${w}"`),!s||s==="")continue;let O="Fundação",S="Outros",k=!1;if(s==="1"||s==="2"||s==="3"?(k=!0,s==="1"?(O="Fundação",S="Total"):s==="2"?(O="Térreo",S="Total"):s==="3"&&(O="Pavimento Superior",S="Total")):s.startsWith("1.")?(O="Fundação",s==="1.1"?S="Vigas":s==="1.2"?S="Pilares":s==="1.3"&&(S="Fundações")):s.startsWith("2.")?(O="Térreo",s==="2.1"?S="Vigas":s==="2.2"?S="Pilares":s==="2.3"&&(S="Lajes")):s.startsWith("3.")&&(O="Pavimento Superior",s==="3.1"?S="Vigas":s==="3.2"?S="Pilares":s==="3.3"&&(S="Lajes")),r<10&&console.log(`Validação linha ${r}:`,{item:s,descricao:u,quantidade:y,totalFinal:D,isEtapaTotal:k,condicao:s&&u&&(y>0||D>0||k)}),s&&u&&(y>0||D>0||k)){let C=M,$=L;k?(C=0,$=0):(C=M,$=L),p.push({id:s,codigo:s,nome:u.length>50?u.substring(0,50)+"...":u,descricao:u,categoria:O,subcategoria:S,unidade:g,quantidade:y,valorUnitario:y>0?D/y:0,maoDeObra:C,materiais:$,total:D,area:149,peso:P,isEtapaTotal:k,elementos3D:w})}}}["1","2","3"].forEach(r=>{const o=p.find(h=>h.id===r);if(o){const h=p.filter(g=>g.id.startsWith(r+".")),s=h.reduce((g,y)=>g+y.maoDeObra,0),u=h.reduce((g,y)=>g+y.materiais,0);o.maoDeObra=s,o.materiais=u,console.log(`📊 Etapa ${r} (${o.descricao}): M.O. = ${s.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}, MAT. = ${u.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}`)}});const c=p.filter(r=>r.elementos3D&&r.elementos3D.trim()!=="");return console.log("📊 ===== RESUMO FINAL ====="),console.log("📋 Total de itens processados:",p.length),console.log("🔗 Itens com elementos3D:",c.length),console.log("📋 Lista de itens com elementos3D:"),c.forEach(r=>{console.log(`   ${r.id}: ${r.elementos3D}`)}),console.log("✅ Dados processados da planilha 5DEST:",p.length,"itens"),p};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var me={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),T=(l,m)=>{const p=E.forwardRef(({color:b="currentColor",size:c=24,strokeWidth:n=2,absoluteStrokeWidth:j,className:v="",children:x,...f},t)=>E.createElement("svg",{ref:t,...me,width:c,height:c,stroke:b,strokeWidth:j?Number(n)*24/Number(c):n,className:["lucide",`lucide-${ge(l)}`,v].join(" "),...f},[...m.map(([a,d])=>E.createElement(a,d)),...Array.isArray(x)?x:[x]]));return p.displayName=`${l}`,p};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=T("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=T("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=T("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=T("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=T("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=T("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=T("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=T("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=T("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=T("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=T("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=T("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=T("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=T("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=T("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=T("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),De=({dashboardName:l})=>{const m=()=>{window.location.href="https://lote10x30-10apartamentos.vercel.app/"};return e.jsxs("div",{className:"flex items-center justify-between bg-white shadow-sm border-b border-gray-200 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:m,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md transition-colors",title:"Voltar ao Hub de Projetos",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Voltar ao Hub"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"h-5 w-5 text-blue-600"}),e.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:l})]})]}),e.jsx("button",{onClick:m,className:"sm:hidden p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md transition-colors",title:"Voltar ao Hub",children:e.jsx(U,{className:"h-5 w-5"})})]})},Se=()=>e.jsx("header",{className:"bg-gradient-to-r from-black via-yellow-600 to-black text-white shadow-lg border-b-2 border-yellow-400",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-3 sm:py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/BIMTECH.jpg",alt:"BIMTECH Logo",className:"h-10 w-10 sm:h-12 sm:w-12 object-contain flex-shrink-0 rounded-lg bg-white p-1"}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 px-3 sm:px-4 py-1 sm:py-2 rounded-lg shadow-lg",children:e.jsx("h1",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold text-black",children:"Bonfim Imobiliária e Engenharia"})})]}),e.jsx("div",{className:"flex-1"}),e.jsx("div",{className:"flex items-center flex-shrink-0 ml-2",children:e.jsxs("a",{href:"https://wa.me/5569992561830?text=Olá! Gostaria de saber mais sobre o projeto Lote 10x30 - 10 Apartamentos",target:"_blank",rel:"noopener noreferrer",className:"bg-green-500 hover:bg-green-600 text-white p-2 sm:p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110 hover:shadow-green-500/50 group",title:"Fale conosco no WhatsApp",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),e.jsx("div",{className:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs px-2 sm:px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap hidden sm:block",children:"Fale conosco"})]})})]}),e.jsx("div",{className:"text-center mt-3 sm:mt-4",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl shadow-lg inline-block max-w-full",children:e.jsx("h2",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold text-black",children:"Lote 10x30 - 10 Apartamentos"})})})]})}),Ae=({activeTab:l,onTabChange:m})=>{var j,v;const[p,b]=E.useState(!1),c=[{id:"resumo",label:"Resumo",fullLabel:"Resumo Executivo",icon:e.jsx(ue,{className:"h-4 w-4"}),description:"Visão geral dos custos e indicadores"},{id:"5d",label:"5D",fullLabel:"Visualizador 5D",icon:e.jsx(Ne,{className:"h-4 w-4"}),description:"3D + Orçamento integrados"}],n=x=>{m(x),b(!1)};return e.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"lg:hidden",children:[e.jsxs("button",{onClick:()=>b(!p),className:"w-full flex items-center justify-between px-3 sm:px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:`p-1 rounded-lg ${l==="resumo"?"bg-green-100 text-green-600":"text-gray-400"}`,children:(j=c.find(x=>x.id===l))==null?void 0:j.icon}),e.jsx("span",{className:"font-medium text-gray-900 text-sm sm:text-base",children:(v=c.find(x=>x.id===l))==null?void 0:v.fullLabel})]}),p?e.jsx(we,{className:"h-5 w-5 text-gray-500"}):e.jsx(je,{className:"h-5 w-5 text-gray-500"})]}),p&&e.jsx("div",{className:"border-t border-gray-200 bg-gray-50",children:c.map(x=>{const f=l===x.id;return e.jsxs("button",{onClick:()=>n(x.id),className:`w-full flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-3 text-left hover:bg-gray-100 transition-colors ${f?"bg-green-50 text-green-700":"text-gray-700"}`,children:[e.jsx("div",{className:`p-1 rounded-lg ${f?"bg-green-100 text-green-600":"text-gray-400"}`,children:x.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm sm:text-base",children:x.fullLabel}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:x.description})]})]},x.id)})})]}),e.jsx("div",{className:"hidden lg:block border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:c.map(x=>{const f=l===x.id;return e.jsxs("button",{onClick:()=>m(x.id),className:`
                  group relative py-4 text-center text-sm font-medium hover:text-green-600 focus:z-10
                  ${f?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"}
                `,children:[e.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[e.jsx("div",{className:`
                    p-2 rounded-lg transition-colors
                    ${f?"bg-green-100 text-green-600":"text-gray-400 group-hover:text-gray-500"}
                  `,children:x.icon}),e.jsx("span",{className:"font-medium",children:x.label}),e.jsx("span",{className:`
                    text-xs max-w-full truncate
                    ${f?"text-green-600":"text-gray-400"}
                  `,children:x.description})]}),f&&e.jsx("span",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-green-600"})]},x.id)})})})]})},z=()=>{const{resumo:l}=V(),m=j=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(j),p=j=>`${j.toFixed(2)} m²`,b=j=>m(j);if(!l)return e.jsx("div",{className:"bg-white rounded-lg shadow-card p-6",children:e.jsx("div",{className:"text-center text-gray-500",children:"Carregando resumo executivo..."})});const c=298,n=l.valorTotal/c;return e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-card p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-700 mb-4 sm:mb-6",children:"📊 Resumo Executivo - Lote 10x30 - 10 Apartamentos"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 sm:p-6 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:e.jsx(fe,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-800",children:"Valor Total"}),e.jsx("p",{className:"text-xs sm:text-sm text-green-600",children:"Custo total do projeto"})]})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-700 mb-2",children:m(l.valorTotal)}),e.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Projeto completo"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(Q,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Mão de Obra"}),e.jsx("p",{className:"text-sm text-blue-600",children:"Custos de mão de obra"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:m(l.maoDeObraTotal)}),e.jsxs("div",{className:"text-sm text-blue-600",children:[l.valorTotal>0?(l.maoDeObraTotal/l.valorTotal*100).toFixed(1):0,"% do total"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:e.jsx(W,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Materiais"}),e.jsx("p",{className:"text-sm text-orange-600",children:"Custos de materiais"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-orange-700 mb-2",children:m(l.materiaisTotal)}),e.jsxs("div",{className:"text-sm text-orange-600",children:[l.valorTotal>0?(l.materiaisTotal/l.valorTotal*100).toFixed(1):0,"% do total"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:e.jsx(ve,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-800",children:"Área Total"}),e.jsx("p",{className:"text-sm text-purple-600",children:"Área construída total"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-purple-700 mb-2",children:p(c)}),e.jsx("div",{className:"text-sm text-purple-600",children:"149 m² por pavimento (2 pavimentos)"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 rounded-lg border border-indigo-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-indigo-600 rounded-lg",children:e.jsx(pe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-indigo-800",children:"Total por m²"}),e.jsx("p",{className:"text-sm text-indigo-600",children:"Custo total por metro quadrado"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-indigo-700 mb-2",children:b(n)}),e.jsx("div",{className:"text-sm text-indigo-600",children:"por metro quadrado"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(Q,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"M.O. por m²"}),e.jsx("p",{className:"text-sm text-blue-600",children:"Mão de obra por metro quadrado"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:b(l.maoDeObraTotal/c)}),e.jsx("div",{className:"text-sm text-blue-600",children:"por metro quadrado"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:e.jsx(W,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Mat. por m²"}),e.jsx("p",{className:"text-sm text-orange-600",children:"Materiais por metro quadrado"})]})]}),e.jsx("div",{className:"text-3xl font-bold text-orange-700 mb-2",children:b(l.materiaisTotal/c)}),e.jsx("div",{className:"text-sm text-orange-600",children:"por metro quadrado"})]})]}),e.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"📈 Distribuição Percentual dos Custos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Mão de Obra:"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:[l.valorTotal>0?(l.maoDeObraTotal/l.valorTotal*100).toFixed(1):0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Materiais:"}),e.jsxs("span",{className:"font-semibold text-orange-600",children:[l.valorTotal>0?(l.materiaisTotal/l.valorTotal*100).toFixed(1):0,"%"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Total por m²:"}),e.jsx("span",{className:"font-semibold text-indigo-600",children:b(n)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Área total:"}),e.jsx("span",{className:"font-semibold text-purple-600",children:p(c)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"M.O. por m²:"}),e.jsx("span",{className:"font-semibold text-blue-600",children:b(l.maoDeObraTotal/c)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Mat. por m²:"}),e.jsx("span",{className:"font-semibold text-orange-600",children:b(l.materiaisTotal/c)})]})]})]})]})]})})},Te=({itens:l,selectedItems:m,onItemSelect:p,onCategorySelect:b,onToggleVisibility:c,hiddenElements:n=new Set})=>{const[j,v]=E.useState([]),x=s=>s.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),f=s=>`${s.toLocaleString("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1})}%`,t=s=>s.toLocaleString("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1}),a=l.filter(s=>s.isEtapaTotal),d=l.filter(s=>!s.isEtapaTotal),N=s=>{console.log("🖱️ ===== ITEM CLICADO NA PLANILHA ====="),console.log("📋 Item clicado:",{id:s.id,descricao:s.descricao,isEtapaTotal:s.isEtapaTotal}),v(u=>u.includes(s.id)?u.filter(g=>g!==s.id):[...u,s.id]),console.log("🎯 Selecionando item para highlight no 3D:",s.id),p(s),s.isEtapaTotal&&b&&(console.log("🏗️ Categoria principal clicada - chamando onCategorySelect:",s.id),b(s.id))},r=s=>j.includes(s),o=s=>!s.elementos3D||!c?!1:s.elementos3D.split(",").map(g=>g.trim()).some(g=>n.has(g)),h=(s,u)=>{s.stopPropagation(),c&&c(u)};return l.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Ee,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Carregando dados da planilha..."})]}):e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"space-y-2",children:a.map(s=>{const u=d.filter(g=>{var y;return(y=g.codigo)==null?void 0:y.startsWith(s.codigo||"")});return e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-bold text-blue-900 text-sm",children:[s.codigo," - ",s.descricao]}),e.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"Categoria Principal"})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-sm font-bold text-blue-800",children:["R$ ",x(s.total)]}),e.jsx("div",{className:"text-xs text-blue-600",children:f(s.peso)})]})]})}),u.map(g=>{const y=m.includes(g.id),_=r(g.id),i=o(g);return e.jsxs("div",{onClick:()=>N(g),className:`p-3 rounded-lg border cursor-pointer transition-all duration-200 ${y?"bg-orange-100 border-orange-300 shadow-md":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"font-medium text-sm text-gray-800",children:[g.codigo," - ",g.descricao]}),c&&g.elementos3D&&e.jsx("button",{onClick:A=>h(A,g),className:`p-1 rounded transition-colors duration-200 ${i?"text-red-500 hover:text-red-700 hover:bg-red-50":"text-green-500 hover:text-green-700 hover:bg-green-50"}`,title:i?"Mostrar elementos 3D":"Ocultar elementos 3D",children:i?e.jsx(be,{className:"h-4 w-4"}):e.jsx(G,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[g.unidade||"m³"," • Quantidade: ",g.quantidade?t(g.quantidade):"N/A"]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-sm font-semibold text-blue-600",children:["R$ ",x(g.total)]}),e.jsx("div",{className:"text-xs text-gray-500",children:f(g.peso)})]})]}),_&&e.jsx("div",{className:"mt-3 pt-3 border-t border-orange-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Quantidade:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[g.quantidade?t(g.quantidade):"N/A"," ",g.unidade||"m³"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Valor Unit.:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",g.valorUnitario?x(g.valorUnitario):"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"M.O.:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",g.maoDeObra?x(g.maoDeObra):"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Materiais:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",g.materiais?x(g.materiais):"N/A"]})]})]})})]},g.id)})]},s.id)})}),e.jsx("div",{className:"mt-6 bg-gray-100 border border-gray-300 rounded-lg p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:"Totais Gerais"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"M.O. Total:"}),e.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",x(a.reduce((s,u)=>s+(u.maoDeObra||0),0))]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Materiais Total:"}),e.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",x(a.reduce((s,u)=>s+(u.materiais||0),0))]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Geral:"}),e.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",x(a.reduce((s,u)=>s+u.total,0))]})]})]})]})}),e.jsx("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-100 border border-blue-300 rounded"}),e.jsx("span",{children:"Categoria Principal"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-50 border border-orange-300 rounded"}),e.jsx("span",{children:"Item Selecionado"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-100 border border-gray-300 rounded"}),e.jsx("span",{children:"Clique para expandir"})]}),c&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(G,{className:"h-3 w-3 text-green-500"}),e.jsx("span",{children:"Ocultar/Mostrar 3D"})]})]})})]})};function Me(){const{progress:l}=Y();return e.jsx(ee,{center:!0,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando modelo 3D..."}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[Math.round(l),"%"]})]})})}function Le({highlightedElements:l,hiddenElements:m,onElementsExtracted:p,onElementClick:b}){const c=E.useRef(null),{scene:n}=se("/10apartamentosarq.glb");console.log("🎯 StructuralModel - Scene carregada:",!!n),n&&(console.log("🎯 StructuralModel - Scene name:",n.name),console.log("🎯 StructuralModel - Scene children count:",n.children.length),console.log("🎯 StructuralModel - Scene type:",n.type));const j=E.useMemo(()=>{const t=document.createElement("canvas");t.width=512,t.height=512;const a=t.getContext("2d"),d=a.createRadialGradient(256,256,0,256,256,256);d.addColorStop(0,"rgba(173, 216, 230, 0.6)"),d.addColorStop(.3,"rgba(135, 206, 250, 0.4)"),d.addColorStop(.7,"rgba(100, 149, 237, 0.3)"),d.addColorStop(1,"rgba(70, 130, 180, 0.2)"),a.fillStyle=d,a.fillRect(0,0,512,512);for(let r=0;r<12;r++){const o=Math.random()*512,h=Math.random()*512,s=Math.random()*30+10,u=Math.random()*4+2,g=Math.random()*.5+.3;a.fillStyle=`rgba(255, 255, 255, ${g})`,a.fillRect(o,h,s,u)}for(let r=0;r<5;r++){const o=Math.random()*512,h=Math.random()*.4+.2;a.fillStyle=`rgba(255, 255, 255, ${h})`,a.fillRect(o,0,1,512)}for(let r=0;r<3;r++){const o=Math.random()*512,h=Math.random()*.3+.1;a.fillStyle=`rgba(255, 255, 255, ${h})`,a.fillRect(0,o,512,1)}for(let r=0;r<20;r++){const o=Math.random()*512,h=Math.random()*512,s=Math.random()*3+1,u=Math.random()*.1+.05;a.fillStyle=`rgba(200, 200, 255, ${u})`,a.fillRect(o,h,s,s)}const N=new ae(t);return N.wrapS=q,N.wrapT=q,N.repeat.set(1,1),N.generateMipmaps=!0,N.minFilter=oe,N.magFilter=te,N},[]),v=E.useMemo(()=>({parede:new I({color:"#4A4A4A",roughness:.8,metalness:0,envMapIntensity:.3}),piso:new I({color:"#5A5A5A",roughness:.1,metalness:0,envMapIntensity:.5}),esquadria:new I({map:j,color:"#B0E0E6",roughness:0,metalness:0,transparent:!0,opacity:.7,side:B,envMapIntensity:6,emissive:"#87CEEB",emissiveIntensity:.1}),telhado:new I({color:"#8B0000",roughness:.9,metalness:0,envMapIntensity:.2}),pilar:new I({color:"#3A3A3A",roughness:.6,metalness:0,envMapIntensity:.4}),vidro:new I({map:j,color:"#B0E0E6",roughness:0,metalness:0,transparent:!0,opacity:.6,side:B,envMapIntensity:7,emissive:"#87CEEB",emissiveIntensity:.15}),default:new I({color:"#404040",roughness:.7,metalness:0,envMapIntensity:.4})}),[j]),x=t=>{const a=t.toLowerCase();return a.includes("parede")||a.includes("alvenaria")?(console.log(`🏗️ PAREDE detectada: ${t}`),v.parede):a.includes("piso")||a.includes("laje")?(console.log(`🏠 PISO detectado: ${t}`),v.piso):a.includes("porta")||a.includes("janela")||a.includes("esquadria")||a.includes("folha")||a.includes("basculante")||a.includes("correr")||a.includes("madeira")||a.includes("abrir")||a.includes("extern")||a.includes("fachada")||a.includes("front")||a.includes("entrada")||a.includes("door")||a.includes("window")||a.includes("frame")||a.includes("modelo")||a.includes("080x210")||a.includes("050x05")||a.includes("100_x_120")||a.includes("correr")||a.includes("basculante")?(console.log(`🚪🪟 ESQUADRIA EXTERNA (porta/janela) com VIDRO REALISTA detectada: ${t}`),v.esquadria):a.includes("telhado")||a.includes("telha")?(console.log(`🏠 TELHADO detectado: ${t}`),v.telhado):a.includes("pilar")||a.includes("viga")?(console.log(`🏗️ PILAR/VIGA detectado: ${t}`),v.pilar):a.includes("vidro")||a.includes("glass")||a.includes("transparente")||a.includes("cristal")||a.includes("vitro")?(console.log(`🪟 VIDRO REALISTA detectado: ${t}`),v.vidro):(console.log(`⚪ PADRÃO aplicado: ${t}`),v.default)};E.useEffect(()=>{if(n&&p){const t=[],a={},d={},N=(i,A=0,R="")=>{const w="  ".repeat(A),M=R?`${R}/${i.name}`:i.name;if(i.name&&i.name.trim()!==""){t.push(i.name),d[i.name]={level:A,parentPath:R,currentPath:M,children:i.children.map(D=>D.name).filter(D=>D),type:i.type,isMesh:i instanceof F,isGroup:i instanceof ne},console.log(`${w}📁 ${i.name} (${i.type}) - Level: ${A} - Path: ${M}`);const L=i.name.match(/^(\d+\.\d+)_\.(\d+)$/);if(L){const D=L[1];a[D]||(a[D]=[]),a[D].push(i),console.log(`📁 ELEMENTO DA COLECÇÃO PAI: "${i.name}" -> Coleção: "${D}"`)}(i.name==="1.1"||i.name==="1.2"||i.name==="2.1"||i.name==="2.2"||i.name==="2.3"||i.name==="3.1"||i.name==="3.2")&&console.log(`📁 COLECÇÃO PAI ENCONTRADA: "${i.name}"`)}i.children.forEach(L=>{N(L,A+1,M)})};console.log("🏗️ ===== ANÁLISE COMPLETA DA HIERARQUIA GLB ====="),N(n),window.glbHierarchy=d,console.log("📊 Hierarquia completa:",d),n.traverse(i=>{if(i instanceof F&&!i.userData.materialApplied){const A=x(i.name);i.userData.originalMaterial||(i.userData.originalMaterial=i.material),i.material=A,i.userData.materialApplied=!0,i.castShadow=!0,i.receiveShadow=!0,console.log(`🎨 Material aplicado em: ${i.name} - Tipo: ${A.color.getHexString()}`)}}),window.glbCollections=a,console.log("📁 ===== COLECÇÕES IDENTIFICADAS ====="),console.log("📁 Total de subcoleções:",Object.keys(a).length),Object.entries(a).forEach(([i,A])=>{console.log(`📁 Subcoleção "${i}": ${A.length} objetos`)}),console.log("📦 ===== ELEMENTOS 3D EXTRAÍDOS ====="),console.log("📦 Total de elementos:",t.length),console.log("📦 Primeiros 10 elementos:",t.slice(0,10)),console.log("📦 Elementos com underscore:",t.filter(i=>i.includes("_")).slice(0,10));const r=t.filter(i=>i.startsWith("1.1_"));console.log("📦 ===== ELEMENTOS 1.1_ (VIGAS) ====="),console.log("📦 Quantidade de elementos 1.1_:",r.length),console.log("📦 Lista completa dos elementos 1.1_:",r.sort());const o=t.filter(i=>i.includes("1.1_")||i.includes("1.2_")||i.includes("2.1_")||i.includes("2.2_")||i.includes("2.3_")||i.includes("3.1_")||i.includes("3.2_"));console.log("🏗️ ===== TODAS AS SUBCOLEÇÕES ====="),console.log("🏗️ Total de subcoleções:",o.length),console.log("🏗️ Lista todas subcoleções:",o.sort()),window.glbSubcolecoes=o;const h=t.filter(i=>i.startsWith("1.2_"));console.log("📦 ===== ELEMENTOS 1.2_ (PILARES) ====="),console.log("📦 Quantidade de elementos 1.2_:",h.length),console.log("📦 Lista completa dos elementos 1.2_:",h.sort());const s=t.filter(i=>i.startsWith("2.1_"));console.log("📦 ===== ELEMENTOS 2.1_ (VIGAS TÉRREO) ====="),console.log("📦 Quantidade de elementos 2.1_:",s.length),console.log("📦 Lista completa dos elementos 2.1_:",s.sort());const u=t.filter(i=>i.startsWith("2.2_"));console.log("📦 ===== ELEMENTOS 2.2_ (PILARES TÉRREO) ====="),console.log("📦 Quantidade de elementos 2.2_:",u.length),console.log("📦 Lista completa dos elementos 2.2_:",u.sort());const g=t.filter(i=>i.startsWith("2.3_"));console.log("📦 ===== ELEMENTOS 2.3_ (LAJES TÉRREO) ====="),console.log("📦 Quantidade de elementos 2.3_:",g.length),console.log("📦 Lista completa dos elementos 2.3_:",g.sort());const y=t.filter(i=>i.startsWith("3.1_"));console.log("📦 ===== ELEMENTOS 3.1_ (VIGAS SUPERIOR) ====="),console.log("📦 Quantidade de elementos 3.1_:",y.length),console.log("📦 Lista completa dos elementos 3.1_:",y.sort());const _=t.filter(i=>i.startsWith("3.2_"));console.log("📦 ===== ELEMENTOS 3.2_ (PILARES SUPERIOR) ====="),console.log("📦 Quantidade de elementos 3.2_:",_.length),console.log("📦 Lista completa dos elementos 3.2_:",_.sort()),console.log("📦 ===== TODOS OS ELEMENTOS (ORDENADOS) ====="),console.log("📦 Lista completa ordenada:",t.sort()),p(t)}},[n,p]),E.useEffect(()=>{if(console.log("🎨 ===== INICIANDO HIGHLIGHTING ====="),console.log("🎨 Elementos para destacar:",l.length),console.log("🎨 Lista completa:",l),console.log("🎨 Scene disponível:",!!n),console.log("🎨 Scene children count:",n?n.children.length:0),l.some(t=>t.startsWith("1.1_"))){const t=l.filter(a=>a.startsWith("1.1_"));console.log("🏗️ ===== DESTACANDO ELEMENTOS 1.1_ (VIGAS) ====="),console.log("🏗️ Quantidade de elementos 1.1_ a destacar:",t.length),console.log("🏗️ Lista dos elementos 1.1_ a destacar:",t.sort())}if(n&&(console.log("🔍 ===== DEBUG SCENE ====="),console.log("🔍 Scene name:",n.name),console.log("🔍 Scene type:",n.type),console.log("🔍 Scene children:",n.children.map(t=>({name:t.name,type:t.type})))),n){let t=0,a=0,d=[];console.log("🎨 ===== USANDO ELEMENTOS INDIVIDUAIS PARA HIGHLIGHTING ====="),console.log("🎨 Elementos para destacar:",l),console.log("🎨 Quantidade de elementos para destacar:",l.length),n.traverse(o=>{if(o instanceof F){a++;const h=l.includes(o.name),s=m.has(o.name);if(o.visible=!s,s){console.log(`👁️ Elemento ocultado: ${o.name}`);return}if(o.name&&(o.name.includes("11_")||o.name.includes("1.1_")||o.name.includes("12_")||o.name.includes("21_")||o.name.includes("22_"))&&(console.log(`🔍 MESH ESTRUTURAL ENCONTRADO: ${o.name} - Highlighted: ${h}`),console.log(`🔍 Elementos destacados incluem ${o.name}?`,l.includes(o.name))),h)if(t++,d.push(o.name),o.name.startsWith("1.1_")?console.log(`🏗️ VIGA DESTACADA: ${o.name} - Posição:`,o.position):console.log(`🟠 DESTACANDO: ${o.name}`),o.material){o.userData.originalMaterial||(o.userData.originalMaterial=o.material.clone(),console.log(`💾 Material original salvo para: ${o.name}`));const u=new I({color:16729344,emissive:16737095,emissiveIntensity:1.2,metalness:0,roughness:.1,envMapIntensity:4,transparent:!1,opacity:1});o.material=u,o.material.map&&(o.material.map.needsUpdate=!0),o.name.startsWith("1.1_")?console.log(`🏗️ VIGA LARANJA APLICADA: ${o.name} - Cor: #ff6600`):(console.log(`🟠 MATERIAL LARANJA APLICADO: ${o.name}`),console.log("🟠 Material vibrante aplicado: #FF4500 (laranja com efeitos)"),console.log("🟠 Material realista aplicado"))}else console.log(`⚠️ Material não encontrado para: ${o.name}`);else{const u=o.userData.originalMaterial;if(u)o.material=u;else{const g=new I({color:"#6A6A6A",roughness:.7,metalness:.1,normalScale:new le(.5,.5)});o.material=g}console.log(`🔄 Material original restaurado para: ${o.name}`)}}}),console.log("🎨 ===== RESULTADO HIGHLIGHTING ====="),console.log(`🎨 Total de meshes: ${a}`),console.log(`🎨 Meshes destacados: ${t}`),console.log("🎨 Elementos encontrados:",d),console.log("🎨 Elementos não encontrados:",l.filter(o=>!d.includes(o)));const N=d.filter(o=>o.startsWith("1.1_")),r=l.filter(o=>o.startsWith("1.1_")&&!d.includes(o));(N.length>0||r.length>0)&&(console.log("🏗️ ===== RESUMO VIGAS (1.1_) ====="),console.log(`🏗️ Vigas encontradas e destacadas: ${N.length}`),console.log("🏗️ Lista das vigas destacadas:",N.sort()),console.log(`🏗️ Vigas não encontradas: ${r.length}`),r.length>0&&console.log("🏗️ Lista das vigas não encontradas:",r.sort()))}else console.log("❌ Scene não disponível para highlighting")},[n,l,m]);const f=t=>{t.stopPropagation();const a=t.object.name;console.log("🖱️ Elemento clicado:",a),b&&b(a)};return n?(console.log("✅ StructuralModel - Renderizando modelo GLB"),e.jsx("group",{ref:c,children:e.jsx("primitive",{object:n,onClick:f,onPointerOver:t=>{t.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:t=>{t.stopPropagation(),document.body.style.cursor="auto"}})})):(console.log("❌ StructuralModel - Scene não carregada, renderizando fallback"),e.jsx("group",{children:e.jsxs("mesh",{position:[0,0,0],children:[e.jsx("boxGeometry",{args:[2,2,2]}),e.jsx("meshStandardMaterial",{color:"#ff6b6b"})]})}))}function Oe(l){const[m,p]=E.useState([]),[b,c]=E.useState([]),[n,j]=E.useState([]),[v,x]=E.useState(new Set);E.useEffect(()=>{(async()=>{try{const d=await(await fetch("/mapeamento-elementos.json")).json();window.mapeamentoElementos=d,console.log("🗺️ Mapeamento de elementos carregado:",d)}catch(a){console.log("⚠️ Erro ao carregar mapeamento:",a)}})()},[]),E.useEffect(()=>{console.log("🔍 ===== DEBUG DADOS PLANILHA ====="),console.log("📊 Total de itens 5D:",l.length),window.itens5D=l,window.debugData={itens:l,timestamp:new Date().toISOString()},l.slice(0,5).forEach((d,N)=>{console.log(`📋 Item ${N+1}:`,{id:d.id,codigo:d.codigo,descricao:d.descricao,elementos3D:d.elementos3D,allKeys:Object.keys(d)})});const t=l.some(d=>d.elementos3D&&d.elementos3D.trim()!=="");console.log("🔗 Itens com elementos3D:",t),t||(console.log('⚠️ ATENÇÃO: Nenhum item possui a coluna "elementos3D" preenchida!'),console.log("💡 Verifique se a coluna existe na planilha CSV e se os dados foram carregados corretamente"));const a=l.filter(d=>d.elementos3D&&d.elementos3D.trim()!=="");console.log("📊 ===== RESUMO DA LINCAGEM ====="),console.log(`📊 Total de itens: ${l.length}`),console.log(`📊 Itens com elementos3D: ${a.length}`),a.forEach(d=>{const N=d.elementos3D.split(",").map(r=>r.trim()).filter(r=>r!=="");console.log(`📋 ${d.id} (${d.descricao}): ${N.length} elementos`),console.log(`   Primeiros 5: ${N.slice(0,5).join(", ")}`)})},[l]),E.useEffect(()=>{if(n.length>0){console.log("🎯 ===== DEBUG ELEMENTOS GLB ====="),console.log("📦 Total de elementos GLB:",n.length),console.log("🔤 Primeiros 20 elementos GLB:",n.slice(0,20)),window.glbElements=n,window.debugData={...window.debugData,glbElements:n,glbTimestamp:new Date().toISOString()};const t={withNumbers:n.filter(a=>/\d/.test(a)),withUnderscore:n.filter(a=>a.includes("_")),withDots:n.filter(a=>a.includes(".")),collections:n.filter(a=>a.toLowerCase().includes("collection")||a.toLowerCase().includes("colecao"))};Object.entries(t).forEach(([a,d])=>{d.length>0&&console.log(`🔸 Elementos ${a}:`,d.slice(0,10))})}},[n]);const f=E.useCallback(t=>{const a=t.id,d=t.codigo,N=t.descricao||"",r=t.elementos3D||"";console.log("🔍 ===== BUSCANDO CORRESPONDÊNCIAS ====="),console.log("📋 Item:",{id:a,codigo:d,descricao:N,elementos3D:r}),console.log("📦 Total de elementos GLB disponíveis:",n.length),console.log("📦 Primeiros 10 elementos GLB:",n.slice(0,10));let o=[];if(r&&r.trim()!==""){console.log("🎯 ===== USANDO ELEMENTOS3D DA PLANILHA (COLECÇÕES PAI) ====="),console.log("📋 Elementos3D RAW:",`"${r}"`);const h=r.split(",").map(y=>y.trim()).filter(y=>y!=="");console.log("📋 Coleções Pai da planilha:",h),console.log("📋 Quantidade de coleções pai na planilha:",h.length);const s=[],u=window.glbHierarchy||{};for(const y of h){console.log(`🔍 Buscando elementos dentro da coleção pai: "${y}"`);const _=n.filter(w=>w.startsWith(y)||w.includes(y)),i=[],A=u[y];if(A){console.log(`📁 Coleção pai "${y}" encontrada na hierarquia:`,A);const w=y.match(/^(\d+\.\d+)/),M=w?w[1].replace(".",""):"",L=(D,P=0)=>{const O=u[D];if(!O)return[];let S=[];return O.isMesh&&M&&D.startsWith(M+"_")&&S.push(D),O.children.forEach(k=>{S.push(...L(k,P+1))}),S};i.push(...L(y))}const R=n.filter(w=>{const M=y.match(/^(\d+\.\d+)/);if(M){const D=M[1].replace(".","");return new RegExp(`^${D}_(\\d+)?$`).test(w)}return!1});console.log(`📦 Elementos diretos encontrados na coleção "${y}":`,_.length),console.log("📦 Elementos hierárquicos encontrados:",i.length),console.log("📦 Elementos similares encontrados:",R.length),s.push(..._,...i,...R)}const g=[...new Set(s)];return console.log("✅ Total de elementos encontrados em todas as coleções pai:",g.length),console.log("✅ Lista completa dos elementos encontrados:",g),g.length>0?(o=g,console.log(`🎯 MAPEAMENTO POR COLECÇÕES PAI: ${o.length} elementos encontrados para ${a}`),o):(console.log("⚠️ Nenhum elemento foi encontrado nas coleções pai especificadas"),console.log("🔍 Coleções pai da planilha:",h),console.log("🔍 Elementos disponíveis no GLB:",n.slice(0,20)),console.log("❌ Item não possui coleções pai válidas - NENHUM elemento será destacado"),console.log("💡 Verifique se os nomes das coleções pai na planilha coincidem com os do GLB"),[])}else return console.log("❌ Item não possui coluna Elementos3D preenchida - NENHUM elemento será destacado"),[]},[n]);return{selectedItems:m,highlightedElements:b,setGlbElements:j,setHighlightedElements:c,findMatchingElements:f,handleItemSelect:E.useCallback(t=>{const a=t.id;console.log("🖱️ ===== ITEM SELECIONADO ====="),console.log("📋 Item completo:",t),p(()=>{const d=[a];console.log("🔄 Seleção atualizada (apenas item atual):",d);const N=f(t);return console.log("🎨 ===== APLICANDO HIGHLIGHTING ====="),console.log("🎨 Total de elementos para destacar:",N.length),console.log("🎨 Lista de elementos:",N),N.length>0?(console.log(`🎯 ${N.length} elementos serão destacados em LARANJA`),console.log("🟠 Elementos:",N.join(", ")),console.log("🟠 ===== DESTAQUE LARANJA ATIVADO =====")):(console.log("⚠️ NENHUM elemento encontrado para destacar!"),console.log("💡 Verifique:"),console.log('   1. Se a coluna "elementos3D" está preenchida na planilha'),console.log("   2. Se os nomes dos elementos coincidem com os do modelo GLB"),console.log("   3. Se o modelo GLB foi carregado corretamente"),console.log("📋 Item atual:",{id:t.id,descricao:t.descricao,elementos3D:t.elementos3D})),c(N),window.highlightedElements=N,window.debugData={...window.debugData,highlightedElements:N,selectedItem:t,highlightTimestamp:new Date().toISOString()},d})},[f]),toggleElementVisibility:E.useCallback(t=>{const a=t.id;console.log("👁️ Alternando visibilidade para item:",a);const d=f(t);console.log("🔗 Elementos para ocultar/mostrar:",d),d.some(r=>v.has(r))?(x(r=>{const o=new Set(r);return d.forEach(h=>o.delete(h)),o}),console.log("👁️ Elementos mostrados:",d)):(x(r=>{const o=new Set(r);return d.forEach(h=>o.add(h)),o}),console.log("👁️ Elementos ocultados:",d))},[f,v]),hiddenElements:v}}function _e(){const{itens:l}=V(),[m,p]=E.useState(!1),[b,c]=E.useState(null),{selectedItems:n,highlightedElements:j,hiddenElements:v,setGlbElements:x,setHighlightedElements:f,handleItemSelect:t,toggleElementVisibility:a}=Oe(l);E.useEffect(()=>{l.length===0?p(!0):(p(!1),c(null),console.log("✅ Dados da planilha 5DEST.csv carregados no Viewer5D:",l.length,"itens"),console.log("📋 Primeiros itens:",l.slice(0,5).map(r=>({id:r.id,descricao:r.descricao,quantidade:r.quantidade,total:r.total,elementos3D:r.elementos3D}))))},[l]);const d=E.useCallback(r=>{x(r),console.log("🎯 Elementos 3D carregados:",r.length)},[x]),N=r=>{console.log("🏗️ Destacando elementos da categoria:",r);const o=[],h=r+"_";for(let s=1;s<=50;s++){const u=`${h}.${s.toString().padStart(3,"0")}`;o.push(u)}console.log("🎯 Elementos encontrados para destacar:",o),f(o)};return m?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Carregando Dashboard 5D"}),e.jsx("p",{className:"text-gray-500",children:"Preparando modelo 3D e dados orçamentários..."})]})}):b?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg",children:[e.jsx("div",{className:"text-red-500 text-3xl mb-4",children:"⚠️"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Erro no Carregamento"}),e.jsx("p",{className:"text-gray-600",children:b})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/5 via-transparent to-purple-400/5"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_20%_80%,rgba(120,119,198,0.1),transparent_50%)]"}),e.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-[radial-gradient(circle_at_80%_20%,rgba(255,119,198,0.1),transparent_50%)]"}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 p-6 relative",children:[e.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-white/30 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-4 right-6 w-1 h-1 bg-white/40 rounded-full animate-pulse delay-100"}),e.jsx("div",{className:"absolute top-6 right-4 w-1.5 h-1.5 bg-white/20 rounded-full animate-pulse delay-200"}),e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(xe,{className:"h-6 w-6 mr-3 text-blue-200"}),"Projeto Arquitetônico - 3D",j.length>0&&e.jsxs("span",{className:"ml-3 bg-gradient-to-r from-orange-400 to-red-400 text-white px-3 py-1.5 rounded-full text-sm font-semibold shadow-lg",children:[j.length," em destaque"]})]}),e.jsx("p",{className:"text-blue-100 text-sm mt-2 font-medium",children:"✨ Clique nos itens da planilha para destacar no modelo"})]}),e.jsx("div",{className:"h-96 lg:h-[520px] relative",children:e.jsx(J,{camera:{position:[20,20,20],fov:60},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance",stencil:!1,depth:!0},dpr:[1,2],performance:{min:.5},shadows:!0,children:e.jsxs(E.Suspense,{fallback:e.jsx(Me,{}),children:[e.jsx(X,{preset:"night"}),e.jsx("ambientLight",{intensity:.2,color:"#FFFFFF"}),e.jsx("directionalLight",{position:[40,40,20],intensity:2.5,color:"#FFF8DC",castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-camera-near":.1,"shadow-camera-far":500,"shadow-camera-left":-50,"shadow-camera-right":50,"shadow-camera-top":50,"shadow-camera-bottom":-50,"shadow-bias":-1e-4,"shadow-normalBias":.02}),e.jsx("directionalLight",{position:[-25,15,-25],intensity:.3,color:"#E6F3FF"}),e.jsx("pointLight",{position:[8,8,8],intensity:1.2,color:"#FFFFFF",distance:35,decay:2,castShadow:!0,"shadow-mapSize-width":512,"shadow-mapSize-height":512}),e.jsx("pointLight",{position:[-8,6,-8],intensity:.2,color:"#FFE4B5",distance:25,decay:2}),e.jsx(Le,{highlightedElements:j,hiddenElements:v,onElementsExtracted:d,onElementClick:r=>{console.log("🔗 Elemento 3D clicado:",r);const o=l.find(h=>h.elementos3D&&h.elementos3D.includes(r));o?(console.log("📋 Item encontrado na planilha:",o),t(o.id)):console.log("❌ Nenhum item encontrado para o elemento:",r)}}),e.jsx(K,{enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:8,maxDistance:80,target:[0,0,0],autoRotate:!1,enableDamping:!0,dampingFactor:.05,rotateSpeed:.8,zoomSpeed:1,panSpeed:.8})]})})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500"}),e.jsxs("div",{className:"bg-gradient-to-r from-green-600 via-emerald-700 to-teal-700 p-6 relative",children:[e.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-white/30 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-4 right-6 w-1 h-1 bg-white/40 rounded-full animate-pulse delay-150"}),e.jsx("div",{className:"absolute top-6 right-4 w-1.5 h-1.5 bg-white/20 rounded-full animate-pulse delay-300"}),e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(ye,{className:"h-6 w-6 mr-3 text-green-200"}),"Planilha Orçamentária Sintética"]}),e.jsxs("p",{className:"text-green-100 text-sm mt-2 font-medium",children:["📊 ",l.length," itens carregados • Clique para destacar no 3D"]})]}),e.jsx("div",{className:"max-h-[520px] overflow-y-auto",children:e.jsx(Te,{itens:l,selectedItems:n,onItemSelect:t,onCategorySelect:N,onToggleVisibility:a,hiddenElements:v})})]})]})})]})}const Ce=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-600 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Carregando Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Analisando dados do Lote 10x30 - 10 Apartamentos..."})]})});function Ie(){const[l,m]=E.useState("resumo"),{setItens:p}=V(),[b,c]=E.useState(!0);if(E.useEffect(()=>{(async()=>{try{c(!0);const v=await ce();p(v)}catch(v){console.error("Erro ao carregar dados:",v)}finally{c(!1)}})()},[p]),b)return e.jsx(Ce,{});const n=()=>{switch(l){case"resumo":return e.jsx(z,{});case"5d":return e.jsx(_e,{});default:return e.jsx(z,{})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(De,{dashboardName:"Dashboard Arquitetura"}),e.jsx(Se,{}),e.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-4 lg:py-8",children:[e.jsx(Ae,{activeTab:l,onTabChange:m}),e.jsx("div",{className:"mt-2 sm:mt-4 lg:mt-6",children:n()})]})]})}re.createRoot(document.getElementById("root")).render(e.jsx(ie.StrictMode,{children:e.jsx(Ie,{})}));
