import{c as le,j as o,C as ne,O as ie,u as ce,H as de,a as me,M as z,b as $,R as O,L as H,d as B,e as k,V as G,f as ee,D as oe,G as ge,g as he}from"./three-386d334d.js";import{r as D,R as ue}from"./vendor-57209f9c.js";(function(){const T=document.createElement("link").relList;if(T&&T.supports&&T.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))_(x);new MutationObserver(x=>{for(const u of x)if(u.type==="childList")for(const C of u.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&_(C)}).observe(document,{childList:!0,subtree:!0});function E(x){const u={};return x.integrity&&(u.integrity=x.integrity),x.referrerPolicy&&(u.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?u.credentials="include":x.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function _(x){if(x.ep)return;x.ep=!0;const u=E(x);fetch(x.href,u)}})();const Y=le((m,T)=>({itens:[],resumo:{valorTotal:0,maoDeObraTotal:0,materiaisTotal:0,areaTotal:0,custoPorM2:0},setItens:E=>{m({itens:E}),T().calcularResumo()},calcularResumo:()=>{const{itens:E}=T();if(E.length===0){m({resumo:{valorTotal:0,maoDeObraTotal:0,materiaisTotal:0,areaTotal:0,custoPorM2:0}});return}const _=E.filter(M=>M.isEtapaTotal),x=_.reduce((M,A)=>M+A.total,0),u=_.reduce((M,A)=>M+A.maoDeObra,0),C=_.reduce((M,A)=>M+A.materiais,0);console.log("🔍 Debug do Store - Itens principais:",_.map(M=>({id:M.id,descricao:M.descricao,total:M.total,maoDeObra:M.maoDeObra,materiais:M.materiais}))),console.log("🔍 Debug do Store - Totais calculados:",{valorTotal:x,maoDeObraTotal:u,materiaisTotal:C});const V=E.reduce((M,A)=>M+(A.area||0),0),S=V>0?x/V:0;m({resumo:{valorTotal:x,maoDeObraTotal:u,materiaisTotal:C,areaTotal:V,custoPorM2:S}})}})),X=[{id:"1",codigo:"1",nome:"PAVIMENTO TÉRREO",descricao:"PAVIMENTO TÉRREO",categoria:"Térreo",subcategoria:"Total",unidade:"",quantidade:0,valorUnitario:0,maoDeObra:67392.92,materiais:132731.35,total:200124.27,area:149,peso:47.16,isEtapaTotal:!0,elementos3D:"1.1_.001,1.1_.002,1.1_.003,1.1_.004,1.1_.005,1.1_.006,1.1_.007,1.1_.008,1.1_.009,1.1_.010,1.1_.011,1.1_.012,1.1_.013,1.1_.014,1.1_.015,1.1_.016,1.1_.017,1.1_.018,1.1_.019,1.1_.020,1.1_.021,1.1_.022,1.1_.023,1.2_.001,1.2_.002,1.2_.003,1.2_.004,1.2_.005,1.2_.006,1.2_.007,1.2_.008,1.2_.009,1.2_.010,1.2_.011,1.2_.012,1.2_.013,1.2_.014,1.2_.015,1.2_.016,1.2_.017,1.2_.018,1.2_.019"},{id:"1.1",codigo:"1.1",nome:"PAREDES",descricao:"PAREDES",categoria:"Térreo",subcategoria:"Paredes",unidade:"m²",quantidade:384.06,valorUnitario:185,maoDeObra:33689.73,materiais:37357.52,total:71047.25,area:149,peso:16.74,isEtapaTotal:!1,elementos3D:"1.1_.001,1.1_.002,1.1_.003,1.1_.004,1.1_.005,1.1_.006,1.1_.007,1.1_.008,1.1_.009,1.1_.010,1.1_.011,1.1_.012,1.1_.013,1.1_.014,1.1_.015,1.1_.016,1.1_.017,1.1_.018,1.1_.019,1.1_.020,1.1_.021,1.1_.022,1.1_.023"},{id:"1.2",codigo:"1.2",nome:"PISO",descricao:"PISO",categoria:"Térreo",subcategoria:"Piso",unidade:"m²",quantidade:134.52,valorUnitario:299.5,maoDeObra:4241.41,materiais:36036.56,total:40277.97,area:149,peso:9.49,isEtapaTotal:!1,elementos3D:"1.2_.001,1.2_.002,1.2_.003,1.2_.004,1.2_.005,1.2_.006,1.2_.007,1.2_.008,1.2_.009,1.2_.010,1.2_.011,1.2_.012,1.2_.013,1.2_.014,1.2_.015,1.2_.016,1.2_.017,1.2_.018,1.2_.019"},{id:"1.3",codigo:"1.3",nome:"REVESTIMENTO PAREDES",descricao:"REVESTIMENTO PAREDES",categoria:"Térreo",subcategoria:"Revestimento",unidade:"m²",quantidade:768.12,valorUnitario:74,maoDeObra:21441.68,materiais:35382.07,total:56823.75,area:149,peso:13.39,isEtapaTotal:!1,elementos3D:""},{id:"1.4",codigo:"1.4",nome:"FORRO",descricao:"FORRO",categoria:"Térreo",subcategoria:"Forro",unidade:"m²",quantidade:134.52,valorUnitario:82.6,maoDeObra:5474.95,materiais:5633.7,total:11108.65,area:149,peso:2.62,isEtapaTotal:!1,elementos3D:""},{id:"1.5",codigo:"1.5",nome:"ESQUADRIAS",descricao:"ESQUADRIAS",categoria:"Térreo",subcategoria:"Esquadrias",unidade:"unid",quantidade:30,valorUnitario:695.56,maoDeObra:2545.15,materiais:18321.5,total:20866.65,area:149,peso:4.92,isEtapaTotal:!1,elementos3D:""},{id:"2",codigo:"2",nome:"PAVIMENTO SUPERIOR",descricao:"PAVIMENTO SUPERIOR",categoria:"Superior",subcategoria:"Total",unidade:"",quantidade:0,valorUnitario:0,maoDeObra:75036.27,materiais:149217.16,total:224253.43,area:149,peso:52.84,isEtapaTotal:!0,elementos3D:"2.1_.001,2.1_.002,2.1_.003,2.1_.004,2.1_.005,2.1_.006,2.1_.007,2.1_.008,2.1_.009,2.1_.010,2.1_.011,2.1_.012,2.1_.013,2.1_.014,2.1_.015,2.1_.016,2.1_.017,2.1_.018,2.1_.019,2.1_.020,2.1_.021,2.1_.022,2.1_.023,2.2_.001,2.2_.002,2.2_.003,2.2_.004,2.2_.005,2.2_.006,2.2_.007,2.2_.008,2.2_.009,2.2_.010,2.2_.011,2.2_.012,2.2_.013,2.2_.014,2.2_.015,2.2_.016,2.2_.017,2.2_.018,2.2_.019"},{id:"2.1",codigo:"2.1",nome:"PAREDES",descricao:"PAREDES",categoria:"Superior",subcategoria:"Paredes",unidade:"m²",quantidade:384.06,valorUnitario:185,maoDeObra:33689.73,materiais:37357.52,total:71047.25,area:149,peso:16.74,isEtapaTotal:!1,elementos3D:"2.1_.001,2.1_.002,2.1_.003,2.1_.004,2.1_.005,2.1_.006,2.1_.007,2.1_.008,2.1_.009,2.1_.010,2.1_.011,2.1_.012,2.1_.013,2.1_.014,2.1_.015,2.1_.016,2.1_.017,2.1_.018,2.1_.019,2.1_.020,2.1_.021,2.1_.022,2.1_.023"},{id:"2.2",codigo:"2.2",nome:"PISO",descricao:"PISO",categoria:"Superior",subcategoria:"Piso",unidade:"m²",quantidade:134.52,valorUnitario:299.5,maoDeObra:4241.41,materiais:36036.56,total:40277.97,area:149,peso:9.49,isEtapaTotal:!1,elementos3D:"2.2_.001,2.2_.002,2.2_.003,2.2_.004,2.2_.005,2.2_.006,2.2_.007,2.2_.008,2.2_.009,2.2_.010,2.2_.011,2.2_.012,2.2_.013,2.2_.014,2.2_.015,2.2_.016,2.2_.017,2.2_.018,2.2_.019"}],pe=`Planilha Orçamentária Sintética Com Valor do Material e da Mão de Obra;;;;;;;;
Item;Descrição;Und;Quant.;Total;;;Peso (%);Elementos3D
;;;;M. O.;MAT.;Total;;
1;PAVIMENTO TÉRREO - ARQ;;;67.392,92;132.731,35;200.124,27;36,27%;
 1.1 ;PAREDES;m²;384,06;33.689,73;37.357,52;71.047,25;12,88%;1.1 Paredes Térreo.001, 1.1 Paredes Térreo.002, 1.1 Paredes Térreo.003, 1.1 Paredes Térreo.004, 1.1 Paredes Térreo.005, 1.1 Paredes Térreo.006, 1.1 Paredes Térreo.007, 1.1 Paredes Térreo.008, 1.1 Paredes Térreo.009, 1.1 Paredes Térreo.010, 1.1 Paredes Térreo.011, 1.1 Paredes Térreo.012, 1.1 Paredes Térreo.013, 1.1 Paredes Térreo.014, 1.1 Paredes Térreo.015, 1.1 Paredes Térreo.016, 1.1 Paredes Térreo.017, 1.1 Paredes Térreo.018, 1.1 Paredes Térreo.019, 1.1 Paredes Térreo.020, 1.1 Paredes Térreo.021, 1.1 Paredes Térreo.022, 1.1 Paredes Térreo.023, 1.1 Paredes Térreo.024
 1.2 ;PISO;m²;134,52;4.241,41;36.036,56;40.277,97;7,30%;1.2 Piso Térreo.001, 1.2 Piso Térreo.002, 1.2 Piso Térreo.003, 1.2 Piso Térreo.004, 1.2 Piso Térreo.005, 1.2 Piso Térreo.006, 1.2 Piso Térreo.007, 1.2 Piso Térreo.008, 1.2 Piso Térreo.009, 1.2 Piso Térreo.010, 1.2 Piso Térreo.011, 1.2 Piso Térreo.012, 1.2 Piso Térreo.013, 1.2 Piso Térreo.014, 1.2 Piso Térreo.015, 1.2 Piso Térreo.016, 1.2 Piso Térreo.017, 1.2 Piso Térreo.018, 1.2 Piso Térreo.019, 1.2 Piso Térreo.020
 1.3 ;REVESTIMENTO PAREDES;m²;768,12;21.441,68;35.382,07;56.823,75;10,30%;
 1.4 ;FORRO;m²;134,52;5.474,95;5.633,70;11.108,65;2,01%;
 1.5 ;ESQUADRIAS;UM;30;2.545,15;18.321,50;20.866,65;3,78%;1.5 Esquadrias Térreo.001, 1.5 Esquadrias Térreo.002, 1.5 Esquadrias Térreo.003, 1.5 Esquadrias Térreo.004, 1.5 Esquadrias Térreo.005, 1.5 Esquadrias Térreo.006, 1.5 Esquadrias Térreo.007, 1.5 Esquadrias Térreo.008, 1.5 Esquadrias Térreo.009
2;PAVIMENTO SUPERIOR - ARQ;;;75.036,27;149.217,16;224.253,43;40,65%;
 2.1 ;PAREDES;m²;423,58;37.156,42;41.201,63;78.358,05;14,20%;2.1 Paredes Pav. Superior.001, 2.1 Paredes Pav. Superior.002, 2.1 Paredes Pav. Superior.003, 2.1 Paredes Pav. Superior.004, 2.1 Paredes Pav. Superior.005, 2.1 Paredes Pav. Superior.006, 2.1 Paredes Pav. Superior.007, 2.1 Paredes Pav. Superior.008, 2.1 Paredes Pav. Superior.009, 2.1 Paredes Pav. Superior.010, 2.1 Paredes Pav. Superior.011, 2.1 Paredes Pav. Superior.012, 2.1 Paredes Pav. Superior.013, 2.1 Paredes Pav. Superior.014, 2.1 Paredes Pav. Superior.015, 2.1 Paredes Pav. Superior.016, 2.1 Paredes Pav. Superior.017, 2.1 Paredes Pav. Superior.018, 2.1 Paredes Pav. Superior.019, 2.1 Paredes Pav. Superior.020, 2.1 Paredes Pav. Superior.021, 2.1 Paredes Pav. Superior.022, 2.1 Paredes Pav. Superior.023, 2.1 Paredes Pav. Superior.024, 2.1 Paredes Pav. Superior.025, 2.1 Paredes Pav. Superior.026, 2.1 Paredes Pav. Superior.027, 2.1 Paredes Pav. Superior.028, 2.1 Paredes Pav. Superior.029, 2.1 Paredes Pav. Superior.030, 2.1 Paredes Pav. Superior.031, 2.1 Paredes Pav. Superior.032, 2.1 Paredes Pav. Superior.033, 2.1 Paredes Pav. Superior.034, 2.1 Paredes Pav. Superior.035, 2.1 Paredes Pav. Superior.036, 2.1 Paredes Pav. Superior.037, 2.1 Paredes Pav. Superior.038, 2.1 Paredes Pav. Superior.039, 2.1 Paredes Pav. Superior.040, 2.1 Paredes Pav. Superior.041, 2.1 Paredes Pav. Superior.042, 2.1 Paredes Pav. Superior.043, 2.1 Paredes Pav. Superior.044
 2.2 ;PISO;m²;134,52;4.241,41;36.036,56;40.277,97;7,30%;
 2.3 ;REVESTIMENTO PAREDES;m²;847,16;23.265,93;38.283,62;61.549,55;11,16%;
 2.4 ;FORRO;m²;134,52;5.474,95;5.633,70;11.108,65;2,01%;
 2.5 ;ESQUADRIAS;UN;30;2.545,15;18.321,50;20.866,65;3,78%;2.5 Esquadrias Pav. Superior.001, 2.5 Esquadrias Pav. Superior.002, 2.5 Esquadrias Pav. Superior.003, 2.5 Esquadrias Pav. Superior.004, 2.5 Esquadrias Pav. Superior.005, 2.5 Esquadrias Pav. Superior.006, 2.5 Esquadrias Pav. Superior.007
 2.6 ;TELHADO;m²;171,21;2.352,41;9.740,15;12.092,56;2,19%;2.6 Telhado.001, 2.6 Telhado.002, 2.6 Telhado.003, 2.6 Telhado.004, 2.6 Telhado.005, 2.6 Telhado.006, 2.6 Telhado.007
3;FUNDAÇÃO - EST;;;5.374,03;14.049,96;39.241,02;7,11%;
 3.1 ;Vigas;m³;5,9;5.374,03;14.049,96;19.423,99;3,52%;3.1 Vigas.001, 3.1 Vigas.002, 3.1 Vigas.003, 3.1 Vigas.004, 3.1 Vigas.005, 3.1 Vigas.006, 3.1 Vigas.007, 3.1 Vigas.008, 3.1 Vigas.009, 3.1 Vigas.010, 3.1 Vigas.011, 3.1 Vigas.012, 3.1 Vigas.013, 3.1 Vigas.014, 3.1 Vigas.015, 3.1 Vigas.016, 3.1 Vigas.017, 3.1 Vigas.018, 3.1 Vigas.019, 3.1 Vigas.020, 3.1 Vigas.021, 3.1 Vigas.022, 3.1 Vigas.023, 3.1 Vigas.024, 3.1 Vigas.025, 3.1 Vigas.026, 3.1 Vigas.027, 3.1 Vigas.028, 3.1 Vigas.029, 3.1 Vigas.030, 3.1 Vigas.031, 3.1 Vigas.032, 3.1 Vigas.033, 3.1 Vigas.034, 3.1 Vigas.035, 3.1 Vigas.036, 3.1 Vigas.037, 3.1 Vigas.038, 3.1 Vigas.039, 3.1 Vigas.040, 3.1 Vigas.041, 3.1 Vigas.042, 3.1 Vigas.043, 3.1 Vigas.044, 3.1 Vigas.045, 3.1 Vigas.046, 3.1 Vigas.047, 3.1 Vigas.048, 3.1 Vigas.049, 3.1 Vigas.050, 3.1 Vigas.051, 3.1 Vigas.052, 3.1 Vigas.053
 3.2 ;Pilares;m³;1,4;2.394,23;6.903,39;9.297,62;1,69%;3.2 Pilares.001, 3.2 Pilares.002, 3.2 Pilares.003, 3.2 Pilares.004, 3.2 Pilares.005, 3.2 Pilares.006, 3.2 Pilares.007, 3.2 Pilares.008, 3.2 Pilares.009, 3.2 Pilares.010, 3.2 Pilares.011, 3.2 Pilares.012, 3.2 Pilares.013, 3.2 Pilares.014, 3.2 Pilares.015, 3.2 Pilares.016, 3.2 Pilares.017, 3.2 Pilares.018, 3.2 Pilares.019, 3.2 Pilares.020, 3.2 Pilares.021, 3.2 Pilares.022, 3.2 Pilares.023, 3.2 Pilares.024, 3.2 Pilares.025, 3.2 Pilares.026, 3.2 Pilares.027, 3.2 Pilares.028
 3.3 ;Fundações;m³;5,4;3.077,84;7.441,57;10.519,41;1,91%;3.3 Fundações.001, 3.3 Fundações.002, 3.3 Fundações.003, 3.3 Fundações.004, 3.3 Fundações.005, 3.3 Fundações.006, 3.3 Fundações.007, 3.3 Fundações.008, 3.3 Fundações.009, 3.3 Fundações.010, 3.3 Fundações.011, 3.3 Fundações.012, 3.3 Fundações.013, 3.3 Fundações.014, 3.3 Fundações.015, 3.3 Fundações.016, 3.3 Fundações.017, 3.3 Fundações.018, 3.3 Fundações.019, 3.3 Fundações.020, 3.3 Fundações.021, 3.3 Fundações.022, 3.3 Fundações.023, 3.3 Fundações.024, 3.3 Fundações.025, 3.3 Fundações.026, 3.3 Fundações.027, 3.3 Fundações.028
4;TÉRREO - EST;;;10.925,65;36.442,67;47.368,32;8,59%;
 4.1 ;Vigas;m³;6,2;3.894,85;13.483,37;17.378,22;3,15%;4.1 Vigas.001, 4.1 Vigas.002, 4.1 Vigas.003, 4.1 Vigas.004, 4.1 Vigas.005, 4.1 Vigas.006, 4.1 Vigas.007, 4.1 Vigas.008, 4.1 Vigas.009, 4.1 Vigas.010, 4.1 Vigas.011, 4.1 Vigas.012, 4.1 Vigas.013, 4.1 Vigas.014, 4.1 Vigas.015, 4.1 Vigas.016, 4.1 Vigas.017, 4.1 Vigas.018, 4.1 Vigas.019, 4.1 Vigas.020, 4.1 Vigas.021, 4.1 Vigas.022, 4.1 Vigas.023, 4.1 Vigas.024, 4.1 Vigas.025, 4.1 Vigas.026, 4.1 Vigas.027, 4.1 Vigas.028, 4.1 Vigas.029, 4.1 Vigas.030, 4.1 Vigas.031, 4.1 Vigas.032, 4.1 Vigas.033, 4.1 Vigas.034, 4.1 Vigas.035, 4.1 Vigas.036, 4.1 Vigas.037, 4.1 Vigas.038, 4.1 Vigas.039, 4.1 Vigas.040, 4.1 Vigas.041, 4.1 Vigas.042, 4.1 Vigas.043, 4.1 Vigas.044, 4.1 Vigas.045, 4.1 Vigas.046, 4.1 Vigas.047, 4.1 Vigas.048, 4.1 Vigas.049, 4.1 Vigas.050, 4.1 Vigas.051, 4.1 Vigas.052, 4.1 Vigas.053
 4.2 ;Pilares;m³;3,8;6.113,01;16.258,20;22.371,21;4,05%;4.2 Pilares.001, 4.2 Pilares.002, 4.2 Pilares.003, 4.2 Pilares.004, 4.2 Pilares.005, 4.2 Pilares.006, 4.2 Pilares.007, 4.2 Pilares.008, 4.2 Pilares.009, 4.2 Pilares.010, 4.2 Pilares.011, 4.2 Pilares.012, 4.2 Pilares.013, 4.2 Pilares.014, 4.2 Pilares.015, 4.2 Pilares.016, 4.2 Pilares.017, 4.2 Pilares.018, 4.2 Pilares.019, 4.2 Pilares.020, 4.2 Pilares.021, 4.2 Pilares.022, 4.2 Pilares.023, 4.2 Pilares.024, 4.2 Pilares.025, 4.2 Pilares.026, 4.2 Pilares.027, 4.2 Pilares.028
 4.3 ;Lajes;m³;6,7;917,79;6.701,10;7.618,89;1,38%;4.3 Lajes.001, 4.3 Lajes.002, 4.3 Lajes.003, 4.3 Lajes.004, 4.3 Lajes.005, 4.3 Lajes.006, 4.3 Lajes.007, 4.3 Lajes.008, 4.3 Lajes.009, 4.3 Lajes.010, 4.3 Lajes.011, 4.3 Lajes.012, 4.3 Lajes.013, 4.3 Lajes.014, 4.3 Lajes.015, 4.3 Lajes.016, 4.3 Lajes.017, 4.3 Lajes.018, 4.3 Lajes.019, 4.3 Lajes.020
5;PAVIMENTO SUPERIOR - EST;;;11.162,43;29.574,76;40.737,19;7,38%;
 5.1 ;Vigas;m³;5,9;5.035,07;13.644,76;18.679,83;3,39%;5.1 Vigas.001, 5.1 Vigas.002, 5.1 Vigas.003, 5.1 Vigas.004, 5.1 Vigas.005, 5.1 Vigas.006, 5.1 Vigas.007, 5.1 Vigas.008, 5.1 Vigas.009, 5.1 Vigas.010, 5.1 Vigas.011, 5.1 Vigas.012, 5.1 Vigas.013, 5.1 Vigas.014, 5.1 Vigas.015, 5.1 Vigas.016, 5.1 Vigas.017, 5.1 Vigas.018, 5.1 Vigas.019, 5.1 Vigas.020, 5.1 Vigas.021, 5.1 Vigas.022, 5.1 Vigas.023, 5.1 Vigas.024, 5.1 Vigas.025, 5.1 Vigas.026, 5.1 Vigas.027, 5.1 Vigas.028, 5.1 Vigas.029, 5.1 Vigas.030, 5.1 Vigas.031, 5.1 Vigas.032, 5.1 Vigas.033, 5.1 Vigas.034, 5.1 Vigas.035, 5.1 Vigas.036, 5.1 Vigas.037, 5.1 Vigas.038, 5.1 Vigas.039, 5.1 Vigas.040, 5.1 Vigas.041, 5.1 Vigas.042, 5.1 Vigas.043, 5.1 Vigas.044, 5.1 Vigas.045, 5.1 Vigas.046, 5.1 Vigas.047, 5.1 Vigas.048, 5.1 Vigas.049, 5.1 Vigas.050, 5.1 Vigas.051, 5.1 Vigas.052, 5.1 Vigas.053
 5.2 ;Pilares;m³;3,8;6.090,85;15.966,51;22.057,36;4,00%;5.2 Pilares.001, 5.2 Pilares.002, 5.2 Pilares.003, 5.2 Pilares.004, 5.2 Pilares.005, 5.2 Pilares.006, 5.2 Pilares.007, 5.2 Pilares.008, 5.2 Pilares.009, 5.2 Pilares.010, 5.2 Pilares.011, 5.2 Pilares.012, 5.2 Pilares.013, 5.2 Pilares.014, 5.2 Pilares.015, 5.2 Pilares.016, 5.2 Pilares.017, 5.2 Pilares.018, 5.2 Pilares.019, 5.2 Pilares.020, 5.2 Pilares.021, 5.2 Pilares.022, 5.2 Pilares.023, 5.2 Pilares.024, 5.2 Pilares.025, 5.2 Pilares.026, 5.2 Pilares.027, 5.2 Pilares.028
 5.3 ;Lajes;m³;6,7;917,79;6.701,10;7.618,89;1,38%;5.3 Lajes.001, 5.3 Lajes.002, 5.3 Lajes.003, 5.3 Lajes.004, 5.3 Lajes.005, 5.3 Lajes.006, 5.3 Lajes.007, 5.3 Lajes.008, 5.3 Lajes.009, 5.3 Lajes.010, 5.3 Lajes.011, 5.3 Lajes.012, 5.3 Lajes.013, 5.3 Lajes.014, 5.3 Lajes.015, 5.3 Lajes.016, 5.3 Lajes.017, 5.3 Lajes.018, 5.3 Lajes.019, 5.3 Lajes.020
;;;;175.326,86;376.397,37;551.724,23;;
;;;;;;;;
;;;;;551.724,23;;;
;;;;;0,00;;;
;;;;;551.724,23;;;
;;;;;;;;
"_______________________________________________________________
";;;;;;;;`,xe=async()=>{try{console.log("🚀 ===== INICIANDO CARREGAMENTO DE DADOS ====="),console.log("📁 Carregando dados reais da planilha 5DARQ.csv..."),console.log("🌐 URL base:",window.location.origin),console.log("📂 Caminho atual:",window.location.pathname);const m=Date.now(),T=[`/5D.csv?t=${m}`,`./5D.csv?t=${m}`,`5D.csv?t=${m}`,`/public/5D.csv?t=${m}`,`./public/5D.csv?t=${m}`,`public/5D.csv?t=${m}`,`/5d.csv?t=${m}`,`./5d.csv?t=${m}`,`5d.csv?t=${m}`];let E=null,_="";console.log("🏗️ ===== DASHBOARD ARQUITETURA - CARREGANDO PLANILHA ====="),console.log("🎯 Buscando especificamente o arquivo 5d.csv (ARQUITETURA)"),console.log("⏰ Timestamp para bypass de cache:",m);for(const S of T)try{if(console.log(`🔍 Tentando carregar 5d.csv de: ${S}`),E=await fetch(S,{cache:"no-cache",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}}),console.log(`📊 Status da resposta para ${S}:`,E.status),console.log("📋 Headers da resposta:",Object.fromEntries(E.headers.entries())),E.ok){_=S,console.log(`✅ 5d.csv carregado com sucesso de: ${S}`);break}else console.log(`❌ Falha ao carregar 5d.csv de ${S}: Status ${E.status}`)}catch(M){console.log(`❌ Erro ao carregar 5d.csv de ${S}:`,M)}let x;E&&E.ok?(console.log(`✅ CSV carregado com sucesso de: ${_}`),console.log("📊 Status da resposta CSV:",E.status),console.log("📋 Headers da resposta:",Object.fromEntries(E.headers.entries())),x=await E.text(),console.log("✅ Usando arquivo CSV externo")):(console.log("⚠️ Arquivo CSV externo não disponível, usando dados incorporados"),x=pe,console.log("✅ Usando dados CSV incorporados")),console.log("📄 CSV carregado, processando dados..."),console.log("📝 Primeiras 500 caracteres do CSV:",x.substring(0,500)),console.log("📏 Tamanho total do CSV:",x.length),console.log("🔍 ===== VALIDAÇÃO DO ARQUIVO CARREGADO ====="),console.log("📄 URL carregada:",_),console.log("📄 Primeiras linhas do arquivo:"),x.split(`
`).slice(0,5).forEach((S,M)=>{console.log(`   Linha ${M+1}: ${S}`)}),x.includes("PAVIMENTO TÉRREO")&&(x.includes("PAREDES")||x.includes("ARQ"))?(console.log("✅ CONFIRMADO: Arquivo 5d.csv (COMPLETO) carregado corretamente"),console.log("🏗️ Conteúdo COMPLETO detectado: ARQUITETURA + ESTRUTURAL")):x.includes("Fundação")&&x.includes("Vigas")?(console.log("✅ CONFIRMADO: Arquivo 5d.csv (ESTRUTURAL) detectado"),console.log("🏗️ Conteúdo de ESTRUTURAL detectado")):(console.log("⚠️ AVISO: Verificando tipo de planilha..."),console.log("📄 Conteúdo sendo analisado..."),x.includes("Item")&&x.includes("Descrição")?console.log("✅ Arquivo parece ser uma planilha de orçamento válida"):console.log("❌ Arquivo não parece ser uma planilha de orçamento válida"));const C=fe(x);if(C.length===0)throw console.error("Nenhum dado processado. Conteúdo CSV:",x),new Error("Nenhum dado válido encontrado na planilha CSV");console.log("✅ Dados reais carregados:",C.length,"itens"),console.log("📊 Total geral:",C.filter(S=>S.isEtapaTotal).reduce((S,M)=>S+M.total,0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}));const V=C.find(S=>S.id==="2.6");return V?console.log("✅ Item 2.6 processado com sucesso:",V.descricao):console.log("⚠️ Item 2.6 não encontrado nos dados processados"),C}catch(m){return console.error("❌ Erro ao carregar dados da planilha:",m),console.log("🔄 Usando dados incorporados como fallback..."),console.log("✅ Dados incorporados carregados:",X.length,"itens"),console.log("📊 Total geral:",X.filter(T=>T.isEtapaTotal).reduce((T,E)=>T+E.total,0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),X}},fe=m=>{var u,C,V,S,M,A,w,P,I;console.log("📊 ===== PROCESSANDO CSV 5DARQ (VERSÃO CORRIGIDA) ====="),console.log("📄 Processando CSV 5DARQ...");const T=m.split(`
`);console.log("📏 Total de linhas:",T.length),console.log("📋 Primeiras 5 linhas:",T.slice(0,5));const E=[];if(T.length>0){const N=T[0];console.log("📋 CABEÇALHO DETECTADO:",N);const v=N.split(";").map(d=>d.trim());console.log("📊 COLUNAS DO CABEÇALHO:",v.map((d,L)=>`${L}: ${d}`));const j=v.findIndex(d=>d.toLowerCase().includes("elementos")||d.toLowerCase().includes("3d")||d==="Elementos3D");console.log(`🎯 Coluna Elementos3D encontrada na posição: ${j}`)}for(let N=1;N<T.length;N++){const v=T[N].trim();if(N<=5&&console.log(`Linha ${N}:`,v),!v||v.startsWith(";")||v.includes("Total sem BDI")||v.includes("Total Geral")||v.includes("___________")||v.startsWith(";;;;"))continue;const j=v.split(";");if(console.log(`📊 Linha ${N} - Colunas (${j.length}):`,j.map((d,L)=>`${L}: "${d.trim()}"`)),j.length>=8){const d=(u=j[0])==null?void 0:u.trim(),L=(C=j[1])==null?void 0:C.trim(),t=(V=j[2])==null?void 0:V.trim(),e=parseFloat(((S=j[3])==null?void 0:S.replace(",","."))||"0"),r=((M=j[4])==null?void 0:M.trim())||"0",s=((A=j[5])==null?void 0:A.trim())||"0",n=((w=j[6])==null?void 0:w.trim())||"0",a=((P=j[7])==null?void 0:P.trim())||"0",p=((I=j[8])==null?void 0:I.trim())||"",f=parseFloat(r.replace(/\./g,"").replace(",",".")||"0"),b=parseFloat(s.replace(/\./g,"").replace(",",".")||"0"),c=parseFloat(n.replace(/\./g,"").replace(",",".")||"0"),g=parseFloat(a.replace("%","").replace(",",".")||"0");if(d==="1.1")if(console.log("🏗️ ===== ITEM 1.1 (VIGAS) DETECTADO ====="),console.log("🏗️ Item:",d),console.log("🏗️ Descrição:",L),console.log("🏗️ Elementos3D RAW:",`"${p}"`),console.log("🏗️ Elementos3D LENGTH:",p.length),console.log("🏗️ Possui vírgulas?",p.includes(",")),p&&p.includes(",")){const l=p.split(",").map(R=>R.trim()).filter(R=>R!=="");console.log("🏗️ Elementos3D ARRAY:",l),console.log("🏗️ Quantidade de elementos:",l.length),console.log("🏗️ Primeiro elemento:",`"${l[0]}"`),console.log("🏗️ Último elemento:",`"${l[l.length-1]}"`)}else console.log("🏗️ ⚠️ Elementos3D não contém vírgulas ou está vazio!");if(p&&p.trim()!==""&&console.log(`📋 Item ${d} possui elementos3D:`,`"${p}"`),!d||d==="")continue;let h="Fundação",i="Outros",y=!1;if(d==="1"||d==="2"||d==="3"||d==="4"||d==="5"?(y=!0,d==="1"?(h="Térreo - ARQ",i="Total"):d==="2"?(h="Superior - ARQ",i="Total"):d==="3"?(h="Fundação - EST",i="Total"):d==="4"?(h="Térreo - EST",i="Total"):d==="5"&&(h="Superior - EST",i="Total")):d.startsWith("1.")?(h="Térreo - ARQ",d==="1.1"?i="Paredes":d==="1.2"?i="Piso":d==="1.3"?i="Revestimento":d==="1.4"?i="Forro":d==="1.5"&&(i="Esquadrias")):d.startsWith("2.")?(h="Superior - ARQ",d==="2.1"?i="Paredes":d==="2.2"?i="Piso":d==="2.3"?i="Revestimento":d==="2.4"?i="Forro":d==="2.5"?i="Esquadrias":d==="2.6"&&(i="Telhado")):d.startsWith("3.")?(h="Fundação - EST",d==="3.1"?i="Vigas":d==="3.2"?i="Pilares":d==="3.3"&&(i="Fundações")):d.startsWith("4.")?(h="Térreo - EST",d==="4.1"?i="Vigas":d==="4.2"?i="Pilares":d==="4.3"&&(i="Lajes")):d.startsWith("5.")&&(h="Superior - EST",d==="5.1"?i="Vigas":d==="5.2"&&(i="Pilares")),(N<15||d!=null&&d.startsWith("3.")||d!=null&&d.startsWith("4.")||d!=null&&d.startsWith("5."))&&console.log(`🔍 Validação linha ${N}:`,{item:d,descricao:L,quantidade:e,totalFinal:c,isEtapaTotal:y,condicao:d&&L&&(e>0||c>0||y),categoria:d!=null&&d.startsWith("3.")?"EST-Fundação":d!=null&&d.startsWith("4.")?"EST-Térreo":d!=null&&d.startsWith("5.")?"EST-Superior":"ARQ"}),(d!=null&&d.startsWith("3.")||d!=null&&d.startsWith("4.")||d!=null&&d.startsWith("5."))&&console.log(`🏗️ ITEM ESTRUTURAL DETECTADO: ${d} - ${L} - Total: ${c} - Condição: ${d&&L&&(e>0||c>0||y)}`),d&&L&&(e>0||c>0||y)){let l=f,R=b;y?(l=0,R=0):(l=f,R=b),E.push({id:d,codigo:d,nome:L.length>50?L.substring(0,50)+"...":L,descricao:L,categoria:h,subcategoria:i,unidade:t,quantidade:e,valorUnitario:e>0?c/e:0,maoDeObra:l,materiais:R,total:c,area:149,peso:g,isEtapaTotal:y,elementos3D:p})}}}["1","2","3","4","5"].forEach(N=>{const v=E.find(j=>j.id===N);if(v){const j=E.filter(t=>t.id.startsWith(N+".")),d=j.reduce((t,e)=>t+e.maoDeObra,0),L=j.reduce((t,e)=>t+e.materiais,0);v.maoDeObra=d,v.materiais=L,console.log(`📊 Etapa ${N} (${v.descricao}): M.O. = ${d.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}, MAT. = ${L.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}`)}});const x=E.filter(N=>N.elementos3D&&N.elementos3D.trim()!=="");return console.log("📊 ===== RESUMO FINAL ====="),console.log("📋 Total de itens processados:",E.length),console.log("🔗 Itens com elementos3D:",x.length),console.log("📋 Lista de itens com elementos3D:"),x.forEach(N=>{console.log(`   ${N.id}: ${N.elementos3D}`)}),console.log("✅ Dados processados da planilha 5DEST:",E.length,"itens"),E},be=()=>o.jsx("header",{className:"bg-gradient-to-r from-black via-yellow-600 to-black text-white shadow-lg border-b-2 border-yellow-400",children:o.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-3 sm:py-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:"/BIMTECH.jpg",alt:"BIMTECH Logo",className:"h-10 w-10 sm:h-12 sm:w-12 object-contain flex-shrink-0 rounded-lg bg-white p-1"}),o.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 px-3 sm:px-4 py-1 sm:py-2 rounded-lg shadow-lg",children:o.jsx("h1",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold text-black",children:"Bonfim Imobiliária e Engenharia"})})]}),o.jsx("div",{className:"flex-1"}),o.jsx("div",{className:"flex items-center flex-shrink-0 ml-2",children:o.jsxs("a",{href:"https://wa.me/5569992561830?text=Olá! Gostaria de saber mais sobre o projeto Lote 10x30 - 10 Apartamentos",target:"_blank",rel:"noopener noreferrer",className:"bg-green-500 hover:bg-green-600 text-white p-2 sm:p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110 hover:shadow-green-500/50 group",title:"Fale conosco no WhatsApp",children:[o.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),o.jsx("div",{className:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs px-2 sm:px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap hidden sm:block",children:"Fale conosco"})]})})]}),o.jsx("div",{className:"text-center mt-3 sm:mt-4",children:o.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl shadow-lg inline-block max-w-full",children:o.jsx("h2",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold text-black",children:"Lote 10x30 - 10 Apartamentos"})})})]})});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=m=>m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(m,T)=>{const E=D.forwardRef(({color:_="currentColor",size:x=24,strokeWidth:u=2,absoluteStrokeWidth:C,className:V="",children:S,...M},A)=>D.createElement("svg",{ref:A,...ye,width:x,height:x,stroke:_,strokeWidth:C?Number(u)*24/Number(x):u,className:["lucide",`lucide-${ve(m)}`,V].join(" "),...M},[...T.map(([w,P])=>D.createElement(w,P)),...Array.isArray(S)?S:[S]]));return E.displayName=`${m}`,E};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=F("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=F("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=F("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=F("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=F("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=F("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=F("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=F("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=F("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=F("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=F("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Re=({activeTab:m,onTabChange:T})=>{var C,V;const[E,_]=D.useState(!1),x=[{id:"resumo",label:"Resumo",fullLabel:"Resumo Executivo",icon:o.jsx(je,{className:"h-4 w-4"}),description:"Visão geral dos custos e indicadores"},{id:"5d",label:"5D",fullLabel:"Visualizador 5D",icon:o.jsx(Ae,{className:"h-4 w-4"}),description:"3D + Orçamento integrados"},{id:"gerenciamento-projetos",label:"Ger. Projetos",fullLabel:"Gerenciamento Projetos",icon:o.jsx(we,{className:"h-4 w-4"}),description:"Gestão e controle de projetos"},{id:"gerenciamento-obra",label:"Ger. Obra",fullLabel:"Gerenciamento Obra",icon:o.jsx(Te,{className:"h-4 w-4"}),description:"Gestão e controle de obra"}],u=S=>{T(S),_(!1)};return o.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"lg:hidden",children:[o.jsxs("button",{onClick:()=>_(!E),className:"w-full flex items-center justify-between px-3 sm:px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx("div",{className:`p-1 rounded-lg ${m==="resumo"?"bg-green-100 text-green-600":"text-gray-400"}`,children:(C=x.find(S=>S.id===m))==null?void 0:C.icon}),o.jsx("span",{className:"font-medium text-gray-900 text-sm sm:text-base",children:(V=x.find(S=>S.id===m))==null?void 0:V.fullLabel})]}),E?o.jsx(Le,{className:"h-5 w-5 text-gray-500"}):o.jsx(_e,{className:"h-5 w-5 text-gray-500"})]}),E&&o.jsx("div",{className:"border-t border-gray-200 bg-gray-50",children:x.map(S=>{const M=m===S.id;return o.jsxs("button",{onClick:()=>u(S.id),className:`w-full flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-3 text-left hover:bg-gray-100 transition-colors ${M?"bg-green-50 text-green-700":"text-gray-700"}`,children:[o.jsx("div",{className:`p-1 rounded-lg ${M?"bg-green-100 text-green-600":"text-gray-400"}`,children:S.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-sm sm:text-base",children:S.fullLabel}),o.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:S.description})]})]},S.id)})})]}),o.jsx("div",{className:"hidden lg:block border-b border-gray-200",children:o.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:x.map(S=>{const M=m===S.id;return o.jsxs("button",{onClick:()=>T(S.id),className:`
                  group relative py-4 text-center text-sm font-medium hover:text-green-600 focus:z-10
                  ${M?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"}
                `,children:[o.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[o.jsx("div",{className:`
                    p-2 rounded-lg transition-colors
                    ${M?"bg-green-100 text-green-600":"text-gray-400 group-hover:text-gray-500"}
                  `,children:S.icon}),o.jsx("span",{className:"font-medium",children:S.label}),o.jsx("span",{className:`
                    text-xs max-w-full truncate
                    ${M?"text-green-600":"text-gray-400"}
                  `,children:S.description})]}),M&&o.jsx("span",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-green-600"})]},S.id)})})})]})},te=()=>{const{resumo:m}=Y(),T=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),E=C=>`${C.toFixed(2)} m²`,_=C=>T(C);if(!m)return o.jsx("div",{className:"bg-white rounded-lg shadow-card p-6",children:o.jsx("div",{className:"text-center text-gray-500",children:"Carregando resumo executivo..."})});const x=298,u=m.valorTotal/x;return o.jsx("div",{className:"space-y-4 sm:space-y-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-card p-4 sm:p-6",children:[o.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-700 mb-4 sm:mb-6",children:"📊 Resumo Executivo - Lote 10x30 - 10 Apartamentos"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 sm:p-6 rounded-lg border border-green-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-3",children:[o.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:o.jsx(Ne,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-800",children:"Valor Total"}),o.jsx("p",{className:"text-xs sm:text-sm text-green-600",children:"Custo total do projeto"})]})]}),o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-700 mb-2",children:T(m.valorTotal)}),o.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Projeto completo"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:o.jsx(ae,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Mão de Obra"}),o.jsx("p",{className:"text-sm text-blue-600",children:"Custos de mão de obra"})]})]}),o.jsx("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:T(m.maoDeObraTotal)}),o.jsxs("div",{className:"text-sm text-blue-600",children:[m.valorTotal>0?(m.maoDeObraTotal/m.valorTotal*100).toFixed(1):0,"% do total"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-lg border border-orange-200",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:o.jsx(J,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Materiais"}),o.jsx("p",{className:"text-sm text-orange-600",children:"Custos de materiais"})]})]}),o.jsx("div",{className:"text-3xl font-bold text-orange-700 mb-2",children:T(m.materiaisTotal)}),o.jsxs("div",{className:"text-sm text-orange-600",children:[m.valorTotal>0?(m.materiaisTotal/m.valorTotal*100).toFixed(1):0,"% do total"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-lg border border-purple-200",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:o.jsx(Ce,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-purple-800",children:"Área Total"}),o.jsx("p",{className:"text-sm text-purple-600",children:"Área construída total"})]})]}),o.jsx("div",{className:"text-3xl font-bold text-purple-700 mb-2",children:E(x)}),o.jsx("div",{className:"text-sm text-purple-600",children:"149 m² por pavimento (2 pavimentos)"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 rounded-lg border border-indigo-200",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("div",{className:"p-2 bg-indigo-600 rounded-lg",children:o.jsx(Se,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-indigo-800",children:"Total por m²"}),o.jsx("p",{className:"text-sm text-indigo-600",children:"Custo total por metro quadrado"})]})]}),o.jsx("div",{className:"text-3xl font-bold text-indigo-700 mb-2",children:_(u)}),o.jsx("div",{className:"text-sm text-indigo-600",children:"por metro quadrado"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:o.jsx(ae,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"M.O. por m²"}),o.jsx("p",{className:"text-sm text-blue-600",children:"Mão de obra por metro quadrado"})]})]}),o.jsx("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:_(m.maoDeObraTotal/x)}),o.jsx("div",{className:"text-sm text-blue-600",children:"por metro quadrado"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-lg border border-orange-200",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:o.jsx(J,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Mat. por m²"}),o.jsx("p",{className:"text-sm text-orange-600",children:"Materiais por metro quadrado"})]})]}),o.jsx("div",{className:"text-3xl font-bold text-orange-700 mb-2",children:_(m.materiaisTotal/x)}),o.jsx("div",{className:"text-sm text-orange-600",children:"por metro quadrado"})]})]}),o.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"📈 Distribuição Percentual dos Custos"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700",children:"Mão de Obra:"}),o.jsxs("span",{className:"font-semibold text-blue-600",children:[m.valorTotal>0?(m.maoDeObraTotal/m.valorTotal*100).toFixed(1):0,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700",children:"Materiais:"}),o.jsxs("span",{className:"font-semibold text-orange-600",children:[m.valorTotal>0?(m.materiaisTotal/m.valorTotal*100).toFixed(1):0,"%"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700",children:"Total por m²:"}),o.jsx("span",{className:"font-semibold text-indigo-600",children:_(u)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700",children:"Área total:"}),o.jsx("span",{className:"font-semibold text-purple-600",children:E(x)})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700",children:"M.O. por m²:"}),o.jsx("span",{className:"font-semibold text-blue-600",children:_(m.maoDeObraTotal/x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700",children:"Mat. por m²:"}),o.jsx("span",{className:"font-semibold text-orange-600",children:_(m.materiaisTotal/x)})]})]})]})]})]})})},Ie=({itens:m,selectedItems:T,onItemSelect:E,onCategorySelect:_,onToggleVisibility:x,hiddenElements:u=new Set})=>{const[C,V]=D.useState([]);console.log("🔧 PlanilhaSintetica - Props recebidas:",{itens:m.length,onToggleVisibility:!!x,hiddenElements:u.size});const S=e=>e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),M=e=>`${e.toLocaleString("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1})}%`,A=e=>e.toLocaleString("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1}),w=m.filter(e=>e.isEtapaTotal),P=m.filter(e=>!e.isEtapaTotal),I=e=>{console.log("🖱️ ===== ITEM CLICADO NA PLANILHA ====="),console.log("📋 Item clicado:",{id:e.id,descricao:e.descricao,isEtapaTotal:e.isEtapaTotal}),console.log("📋 Item completo:",e),e.isEtapaTotal?(console.log("🏗️ Categoria principal clicada - toggle colapso/expansão"),V(r=>r.includes(e.id)?r.filter(s=>s!==e.id):[...r,e.id]),_&&(console.log("🏗️ Chamando onCategorySelect:",e.id),_(e.id))):(V(r=>r.includes(e.id)?r.filter(s=>s!==e.id):[...r,e.id]),console.log("🎯 Selecionando subcategoria para highlight no 3D:",e.id),console.log("🎯 Item completo sendo passado:",e),console.log("🎯 onItemSelect disponível?",!!E),E?(E(e),console.log("✅ onItemSelect chamado com sucesso")):console.log("❌ onItemSelect não está disponível!"))},N=e=>C.includes(e),v=e=>{if(!e.elementos3D||!x)return!1;console.log("🔍 Verificando elementos ocultos para item:",e.id),console.log("🔍 Elementos3D:",e.elementos3D),console.log("🔍 Hidden elements atual:",Array.from(u));const r=e.elementos3D.split(",").map(n=>n.trim());console.log("🔍 Elementos array da planilha:",r);const s=r.some(n=>{if(n.includes(".")){const a=n.split(".");if(a.length>=2){const p=a[0],f=a[a.length-1],b=p.replace(/\s.*/,"").replace(".","");return Array.from(u).some(c=>{const g=c.includes(b+"_")&&(c.includes(f)||c.includes(f.padStart(3,"0")));return g&&console.log(`🔍 Elemento "${n}" corresponde ao elemento oculto "${c}"`),g})}}else{const a=e.id||e.codigo;if(a){const p=a.replace(".","");return Array.from(u).some(f=>{const b=f.startsWith(p+"_");return b&&console.log(`🔍 Elemento "${n}" corresponde ao elemento oculto "${f}"`),b})}}return!1});return console.log("🔍 Item tem elementos ocultos?",s),s},j=e=>{const r=P.filter(n=>{var a;return(a=n.codigo)==null?void 0:a.startsWith(e.codigo||"")});console.log("🏗️ Verificando categoria principal:",e.id),console.log("🏗️ Subcategorias encontradas:",r.length);const s=r.some(n=>{const a=v(n);return console.log(`🏗️ Subcategoria ${n.id} tem elementos ocultos?`,a),a});return console.log("🏗️ Categoria principal tem elementos ocultos?",s),s},d=e=>e.elementos3D?e.elementos3D.split(",").map(r=>r.trim()).filter(r=>r!==""):[],L=e=>{if(console.log("🔸 Verificando se subcoleção está oculta:",e),e.includes(".")){const s=e.split(".");if(s.length>=2){const n=s[0],a=s[s.length-1],p=n.replace(/\s.*/,"").replace(".",""),f=[`${p}_${a}`,`${p}_${a.padStart(3,"0")}`,`${p}_${a.padStart(2,"0")}`];console.log("🔸 Padrões de busca para subcoleção:",f);const b=Array.from(u).some(c=>{const g=f.some(h=>c.includes(h));return g&&console.log(`🔸 Elemento 3D "${c}" corresponde à subcoleção "${e}"`),g});return console.log("🔸 Subcoleção está oculta?",b),b}}const r=u.has(e);return console.log("🔸 Verificação direta:",r),r},t=(e,r)=>{e.stopPropagation(),console.log("👁️ ===== CLIQUE NO ÍCONE DE VISIBILIDADE ====="),console.log("👁️ Item clicado:",r),console.log("👁️ Item é categoria principal?",r.isEtapaTotal),console.log("👁️ Item é subcategoria?",!r.isEtapaTotal),console.log("👁️ onToggleVisibility disponível?",!!x),console.log("👁️ Elementos3D do item:",r.elementos3D),x?(console.log("👁️ Chamando onToggleVisibility..."),x(r)):console.log("❌ onToggleVisibility não está disponível!")};return m.length===0?o.jsxs("div",{className:"p-8 text-center text-gray-500",children:[o.jsx(De,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"Carregando dados da planilha..."})]}):o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"space-y-2",children:w.map(e=>{const r=P.filter(s=>{var n;return(n=s.codigo)==null?void 0:n.startsWith(e.codigo||"")});return o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 cursor-pointer hover:bg-blue-100 transition-colors duration-200",onClick:()=>I(e),children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[N(e.id)?o.jsx(Me,{className:"h-4 w-4 text-blue-600"}):o.jsx(se,{className:"h-4 w-4 text-blue-600"}),o.jsxs("div",{className:"font-bold text-blue-900 text-sm",children:[e.codigo," - ",e.descricao]})]}),x&&o.jsx("button",{onClick:s=>t(s,e),className:`p-1.5 rounded-md transition-all duration-200 border ${j(e)?"text-red-500 hover:text-red-700 hover:bg-red-50 hover:shadow-sm border-red-300 bg-red-50":"text-blue-500 hover:text-blue-700 hover:bg-blue-100 hover:shadow-sm border-blue-300 bg-blue-50"}`,title:j(e)?"Categoria tem elementos ocultos - clique para mostrar todos":"Controlar visibilidade de toda a categoria",children:j(e)?o.jsx("div",{className:"relative inline-block",style:{textDecoration:"line-through",textDecorationColor:"#ef4444",textDecorationThickness:"2px"},children:o.jsx(Z,{className:"h-4 w-4"})}):o.jsx(W,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"text-xs text-blue-700 mt-1",children:["Categoria Principal",!N(e.id)&&r.length>0&&o.jsxs("span",{className:"ml-2 bg-blue-200 text-blue-800 px-2 py-0.5 rounded-full text-xs",children:[r.length," subcategorias"]})]})]}),o.jsxs("div",{className:"text-right ml-4",children:[o.jsxs("div",{className:"text-sm font-bold text-blue-800",children:["R$ ",S(e.total)]}),o.jsx("div",{className:"text-xs text-blue-600",children:M(e.peso)})]})]})}),N(e.id)&&r.map(s=>{const n=T.includes(s.id),a=N(s.id),p=v(s);return o.jsxs("div",{onClick:f=>{console.log("🖱️ CLIQUE DETECTADO na subcategoria:",s.id),f.stopPropagation(),I(s)},className:`p-3 rounded-lg border cursor-pointer transition-all duration-200 ${n?"bg-orange-100 border-orange-400 shadow-lg ring-2 ring-orange-200":"bg-gray-50 border-gray-200 hover:bg-gray-100 hover:border-gray-300"}`,children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:`font-medium text-sm ${n?"text-orange-800":"text-gray-800"}`,children:[s.codigo," - ",s.descricao]}),x&&o.jsx("button",{onClick:f=>t(f,s),className:`p-1.5 rounded-md transition-all duration-200 border ${s.elementos3D?p?"text-red-500 hover:text-red-700 hover:bg-red-50 hover:shadow-sm border-red-300 bg-red-50":"text-green-500 hover:text-green-700 hover:bg-green-50 hover:shadow-sm border-green-300 bg-green-50":"text-gray-400 cursor-not-allowed opacity-50 border-gray-300"}`,title:s.elementos3D?p?"Mostrar elementos 3D":"Ocultar elementos 3D":"Sem elementos 3D associados",disabled:!s.elementos3D,children:s.elementos3D?p?o.jsx("div",{className:"relative inline-block",style:{textDecoration:"line-through",textDecorationColor:"#ef4444",textDecorationThickness:"2px"},children:o.jsx(Z,{className:"h-4 w-4"})}):o.jsx(W,{className:"h-4 w-4"}):o.jsx(W,{className:"h-4 w-4 opacity-50"})})]}),o.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[s.unidade||"m³"," • Quantidade: ",s.quantidade?A(s.quantidade):"N/A",s.elementos3D&&(()=>{const f=d(s),b=f.filter(g=>L(g)).length,c=f.length;return b>0?o.jsxs("span",{className:"ml-2 text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded-full",children:[b,"/",c," ocultos"]}):c>0?o.jsxs("span",{className:"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:[c," visíveis"]}):null})()]})]}),o.jsxs("div",{className:"text-right ml-4",children:[o.jsxs("div",{className:"text-sm font-semibold text-blue-600",children:["R$ ",S(s.total)]}),o.jsx("div",{className:"text-xs text-gray-500",children:M(s.peso)})]})]}),a&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-orange-200",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Quantidade:"}),o.jsxs("span",{className:"ml-2 font-medium",children:[s.quantidade?A(s.quantidade):"N/A"," ",s.unidade||"m³"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Valor Unit.:"}),o.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",s.valorUnitario?S(s.valorUnitario):"N/A"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"M.O.:"}),o.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",s.maoDeObra?S(s.maoDeObra):"N/A"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Materiais:"}),o.jsxs("span",{className:"ml-2 font-medium",children:["R$ ",s.materiais?S(s.materiais):"N/A"]})]})]}),x&&s.elementos3D&&o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:o.jsx("button",{onClick:f=>{f.stopPropagation(),console.log("👁️ Toggle visibilidade para:",s.id),x(s)},className:`p-2 rounded-lg transition-all duration-200 ${v(s)?"bg-red-100 text-red-700 hover:bg-red-200 border border-red-300":"bg-green-100 text-green-700 hover:bg-green-200 border border-green-300"}`,title:v(s)?"Mostrar elementos":"Ocultar elementos",children:v(s)?o.jsx(W,{className:"h-4 w-4"}):o.jsx(Z,{className:"h-4 w-4"})})})]})]},s.id)})]},e.id)})}),o.jsx("div",{className:"mt-6 bg-gray-100 border border-gray-300 rounded-lg p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:"Totais Gerais"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"M.O. Total:"}),o.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",S(w.reduce((e,r)=>e+(r.maoDeObra||0),0))]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Materiais Total:"}),o.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",S(w.reduce((e,r)=>e+(r.materiais||0),0))]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Total Geral:"}),o.jsxs("div",{className:"font-bold text-gray-800",children:["R$ ",S(w.reduce((e,r)=>e+r.total,0))]})]})]})]})}),o.jsx("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border",children:o.jsxs("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-600",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-100 border border-blue-300 rounded"}),o.jsx("span",{children:"Categoria Principal"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("div",{className:"w-3 h-3 bg-orange-50 border border-orange-300 rounded"}),o.jsx("span",{children:"Item Selecionado"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(se,{className:"h-3 w-3 text-blue-600"}),o.jsx("span",{children:"Clique para expandir/colapsar"})]}),x&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(W,{className:"h-3 w-3 text-green-500"}),o.jsx("span",{children:"Ocultar/Mostrar 3D"})]})]})})]})};function Oe(){const{progress:m}=ce();return o.jsx(de,{center:!0,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Carregando modelo 3D..."}),o.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[Math.round(m),"%"]})]})})}function Fe({highlightedElements:m,hiddenElements:T,onElementsExtracted:E,onElementClick:_}){const x=D.useRef(null);console.log("🎯 StructuralModel - Props recebidas:",{highlightedElements:m.length,hiddenElements:T.size,onElementsExtracted:!!E,onElementClick:!!_});const{scene:u}=me("/5d.glb");if(console.log("🎯 StructuralModel - Scene carregada:",!!u),console.log("🎯 StructuralModel - onElementsExtracted disponível:",!!E),u){console.log("🎯 StructuralModel - Scene name:",u.name),console.log("🎯 StructuralModel - Scene children count:",u.children.length),console.log("🎯 StructuralModel - Scene type:",u.type);let t={fundacao:0,terreo:0,superior:0,outros:0,visiveis:0,ocultos:0};const e=[];u.traverse(r=>{if(r instanceof z){const s=r.name.toLowerCase();r.visible=!0,e.push({nome:r.name,visivel:r.visible,posicao:`(${r.position.x.toFixed(1)}, ${r.position.y.toFixed(1)}, ${r.position.z.toFixed(1)})`}),r.visible?t.visiveis++:t.ocultos++,s.includes("3.")||s.includes("fundacao")?t.fundacao++:s.includes("1.")||s.includes("4.")?t.terreo++:s.includes("2.")||s.includes("5.")?t.superior++:t.outros++}}),console.log("🏗️ Elementos por categoria:",t),console.log("📋 Primeiros 10 elementos encontrados:",e.slice(0,10)),console.log("🎯 FORÇANDO TODOS VISÍVEIS - Total de elementos:",e.length)}const C=D.useMemo(()=>{const t=document.createElement("canvas");t.width=1024,t.height=1024;const e=t.getContext("2d"),r=e.createRadialGradient(512,512,0,512,512,512);r.addColorStop(0,"rgba(230, 240, 255, 0.15)"),r.addColorStop(.4,"rgba(200, 220, 255, 0.12)"),r.addColorStop(.8,"rgba(180, 210, 250, 0.08)"),r.addColorStop(1,"rgba(160, 200, 240, 0.05)"),e.fillStyle=r,e.fillRect(0,0,1024,1024),e.globalAlpha=.03;for(let n=0;n<200;n++){const a=Math.random()*1024,p=Math.random()*1024,f=Math.random()*2+.5;e.fillStyle="rgba(255, 255, 255, 0.8)",e.beginPath(),e.arc(a,p,f,0,Math.PI*2),e.fill()}e.globalAlpha=.02;for(let n=0;n<150;n++){const a=Math.random()*1024,p=Math.random()*1024,f=Math.random()*20+5,b=Math.random()*Math.PI*2;e.strokeStyle="rgba(255, 255, 255, 0.6)",e.lineWidth=.5,e.beginPath(),e.moveTo(a,p),e.lineTo(a+Math.cos(b)*f,p+Math.sin(b)*f),e.stroke()}e.globalAlpha=.08;for(let n=0;n<30;n++){const a=Math.random()*1024,p=Math.random()*1024,f=Math.random()*60+20,b=Math.random()*8+2,c=Math.random()*Math.PI,g=e.createLinearGradient(a-f/2,p-b/2,a+f/2,p+b/2);g.addColorStop(0,"rgba(255, 255, 255, 0)"),g.addColorStop(.5,"rgba(255, 255, 255, 0.8)"),g.addColorStop(1,"rgba(255, 255, 255, 0)"),e.save(),e.translate(a,p),e.rotate(c),e.fillStyle=g,e.fillRect(-f/2,-b/2,f,b),e.restore()}e.globalAlpha=.06;for(let n=0;n<8;n++){const a=(n+Math.random()*.5)*128,p=e.createLinearGradient(a,0,a+2,0);p.addColorStop(0,"rgba(255, 255, 255, 0)"),p.addColorStop(.5,"rgba(255, 255, 255, 0.7)"),p.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=p,e.fillRect(a,0,2,1024)}e.globalAlpha=.04;for(let n=0;n<5;n++){const a=(n+Math.random()*.5)*204.8,p=e.createLinearGradient(0,a,0,a+1);p.addColorStop(0,"rgba(255, 255, 255, 0)"),p.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),p.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=p,e.fillRect(0,a,1024,1)}e.globalAlpha=.015;for(let n=0;n<1024;n+=4)for(let a=0;a<1024;a+=4){const p=Math.sin(n*.02)*Math.cos(a*.02)*.5+.5;e.fillStyle=`rgba(200, 220, 255, ${p*.3})`,e.fillRect(n,a,2,2)}e.globalAlpha=1;const s=new $(t);return s.wrapS=O,s.wrapT=O,s.repeat.set(1,1),s.generateMipmaps=!0,s.minFilter=H,s.magFilter=B,s},[]),V=D.useMemo(()=>{const t=document.createElement("canvas");t.width=512,t.height=512;const e=t.getContext("2d");e.fillStyle="#8080FF",e.fillRect(0,0,512,512);for(let s=0;s<500;s++){const n=Math.random()*512,a=Math.random()*512,p=Math.random()*1.5+.5,f=128+(Math.random()-.5)*8,b=128+(Math.random()-.5)*8,c=255-Math.random()*10;e.fillStyle=`rgb(${f}, ${b}, ${c})`,e.globalAlpha=.2,e.fillRect(n,a,p,p)}e.globalAlpha=1;const r=new $(t);return r.wrapS=O,r.wrapT=O,r.repeat.set(1,1),r},[]),S=D.useMemo(()=>{const t=document.createElement("canvas");t.width=1024,t.height=1024;const e=t.getContext("2d"),r="#C0C0C0",s="#D3D3D3",n="#A8A8A8",a="#B5B5B5",p="#CDCDCD";e.fillStyle=r,e.fillRect(0,0,1024,1024);const f=32,b=16;for(let g=0;g<b;g++){const h=g*1024/b,i=e.createLinearGradient(0,h,0,h+f);i.addColorStop(0,s),i.addColorStop(.3,r),i.addColorStop(.7,n),i.addColorStop(1,r),e.fillStyle=i,e.fillRect(0,h,1024,f),e.fillStyle=n,e.globalAlpha=.3,e.fillRect(0,h+f-2,1024,1),e.fillStyle=s,e.globalAlpha=.4,e.fillRect(0,h+f/2,1024,1),e.globalAlpha=1}e.globalAlpha=.15;for(let g=0;g<3e3;g++){const h=Math.random()*1024,i=Math.random()*1024,y=Math.random()*1.5+.5;e.fillStyle=Math.random()>.5?n:a,e.beginPath(),e.arc(h,i,y,0,Math.PI*2),e.fill()}e.globalAlpha=.08;for(let g=0;g<150;g++){const h=Math.random()*1024,i=Math.random()*1024,y=Math.random()*20+5,l=e.createRadialGradient(h,i,0,h,i,y);l.addColorStop(0,a),l.addColorStop(1,"transparent"),e.fillStyle=l,e.beginPath(),e.arc(h,i,y,0,Math.PI*2),e.fill()}e.globalAlpha=.06;for(let g=0;g<200;g++){const h=Math.random()*1024,i=Math.random()*1024,y=Math.random()*15+5,l=Math.random()*Math.PI*2;e.strokeStyle=n,e.lineWidth=Math.random()*.8+.2,e.beginPath(),e.moveTo(h,i),e.lineTo(h+Math.cos(l)*y,i+Math.sin(l)*y),e.stroke()}e.globalAlpha=.04;for(let g=0;g<8e3;g++){const h=Math.random()*1024,i=Math.random()*1024,y=[s,n,a,p],l=y[Math.floor(Math.random()*y.length)];e.fillStyle=l,e.fillRect(h,i,1,1)}e.globalAlpha=.03;for(let g=0;g<500;g++){const h=Math.random()*1024,i=Math.random()*1024,y=Math.random()*8+2,l=Math.random()*1+.5,R=Math.random()*Math.PI;e.save(),e.translate(h,i),e.rotate(R),e.fillStyle=Math.random()>.5?s:n,e.fillRect(-y/2,-l/2,y,l),e.restore()}e.globalAlpha=1;const c=new $(t);return c.wrapS=O,c.wrapT=O,c.repeat.set(2,1),c.generateMipmaps=!0,c.minFilter=H,c.magFilter=B,c},[]),M=D.useMemo(()=>{const t=document.createElement("canvas");t.width=512,t.height=512;const e=t.getContext("2d");e.fillStyle="#8080FF",e.fillRect(0,0,512,512);const r=16,s=16;for(let a=0;a<s;a++){const p=a*512/s,f=e.createLinearGradient(0,p,0,p+r);f.addColorStop(0,"#8080C0"),f.addColorStop(.5,"#8080FF"),f.addColorStop(1,"#8080E0"),e.fillStyle=f,e.globalAlpha=.6,e.fillRect(0,p,512,r)}e.globalAlpha=.2;for(let a=0;a<1500;a++){const p=Math.random()*512,f=Math.random()*512,b=Math.random()*2+.5,c=128+(Math.random()-.5)*30,g=128+(Math.random()-.5)*30,h=255-Math.random()*40;e.fillStyle=`rgb(${c}, ${g}, ${h})`,e.fillRect(p,f,b,b)}e.globalAlpha=1;const n=new $(t);return n.wrapS=O,n.wrapT=O,n.repeat.set(2,1),n},[]),A=D.useMemo(()=>{const t=document.createElement("canvas");t.width=1024,t.height=1024;const e=t.getContext("2d"),r="#808080",s="#999999",n="#666666",a="#8A8A8A",p="#777777",f="#858585";e.fillStyle=r,e.fillRect(0,0,1024,1024),e.globalAlpha=.12;for(let c=0;c<80;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*120+60,y=[s,n,a,p],l=y[Math.floor(Math.random()*y.length)],R=e.createRadialGradient(g,h,0,g,h,i);R.addColorStop(0,l),R.addColorStop(1,"transparent"),e.fillStyle=R,e.beginPath(),e.arc(g,h,i,0,Math.PI*2),e.fill()}e.globalAlpha=.18;for(let c=0;c<4e3;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*2.5+.5;e.fillStyle=Math.random()>.6?n:p,e.beginPath(),e.arc(g,h,i,0,Math.PI*2),e.fill()}e.globalAlpha=.1;for(let c=0;c<300;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*25+8,y=Math.random()*3+1,l=Math.random()*Math.PI*2;e.save(),e.translate(g,h),e.rotate(l),e.fillStyle=Math.random()>.5?s:n,e.fillRect(-i/2,-y/2,i,y),e.restore()}e.globalAlpha=.08;for(let c=0;c<12;c++){const g=Math.random()*1024,h=Math.random()*20-10,i=e.createLinearGradient(0,g+h,0,g+h+2);i.addColorStop(0,"transparent"),i.addColorStop(.5,n),i.addColorStop(1,"transparent"),e.fillStyle=i,e.fillRect(0,g+h,1024,2)}e.globalAlpha=.05;for(let c=0;c<8;c++){const g=Math.random()*1024,h=Math.random()*20-10,i=e.createLinearGradient(g+h,0,g+h+1,0);i.addColorStop(0,"transparent"),i.addColorStop(.5,n),i.addColorStop(1,"transparent"),e.fillStyle=i,e.fillRect(g+h,0,1,1024)}e.globalAlpha=.15;for(let c=0;c<2e3;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*1.5+.3,y=[s,a,f],l=y[Math.floor(Math.random()*y.length)];e.fillStyle=l,e.beginPath(),e.arc(g,h,i,0,Math.PI*2),e.fill()}e.globalAlpha=.06;for(let c=0;c<100;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*40+15,y=e.createRadialGradient(g,h,0,g,h,i);y.addColorStop(0,n),y.addColorStop(.7,p),y.addColorStop(1,"transparent"),e.fillStyle=y,e.beginPath(),e.arc(g,h,i,0,Math.PI*2),e.fill()}e.globalAlpha=.03;for(let c=0;c<12e3;c++){const g=Math.random()*1024,h=Math.random()*1024,i=[s,n,a,p,f],y=i[Math.floor(Math.random()*i.length)];e.fillStyle=y,e.fillRect(g,h,1,1)}e.globalAlpha=.02;for(let c=0;c<600;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*3+1,y=Math.random()*Math.PI*2;e.save(),e.translate(g,h),e.rotate(y),e.fillStyle=s,e.fillRect(-i/2,-i/4,i,i/2),e.restore()}e.globalAlpha=1;const b=new $(t);return b.wrapS=O,b.wrapT=O,b.repeat.set(1,1),b.generateMipmaps=!0,b.minFilter=H,b.magFilter=B,b},[]),w=D.useMemo(()=>{const t=document.createElement("canvas");t.width=512,t.height=512;const e=t.getContext("2d");e.fillStyle="#8080FF",e.fillRect(0,0,512,512),e.globalAlpha=.25;for(let s=0;s<2e3;s++){const n=Math.random()*512,a=Math.random()*512,p=Math.random()*2.5+.5,f=128+(Math.random()-.5)*25,b=128+(Math.random()-.5)*25,c=255-Math.random()*35;e.fillStyle=`rgb(${f}, ${b}, ${c})`,e.fillRect(n,a,p,p)}e.globalAlpha=.15;for(let s=0;s<8;s++){const n=Math.random()*512,a=e.createLinearGradient(0,n,0,n+3);a.addColorStop(0,"#8080E0"),a.addColorStop(.5,"#8080C0"),a.addColorStop(1,"#8080E0"),e.fillStyle=a,e.fillRect(0,n,512,3)}e.globalAlpha=.2;for(let s=0;s<800;s++){const n=Math.random()*512,a=Math.random()*512,p=Math.random()*1.5+.5;e.fillStyle="#7070D0",e.beginPath(),e.arc(n,a,p,0,Math.PI*2),e.fill()}e.globalAlpha=1;const r=new $(t);return r.wrapS=O,r.wrapT=O,r.repeat.set(1,1),r},[]),P=D.useMemo(()=>{const t=document.createElement("canvas");t.width=1024,t.height=1024;const e=t.getContext("2d"),r="#888888",s="#9A9A9A",n="#777777",a="#8C8C8C",p="#848484",f="#868686";e.fillStyle=r,e.fillRect(0,0,1024,1024),e.globalAlpha=.08;for(let c=0;c<60;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*80+40,y=Math.random()*80+40,l=[s,n,a,p,f],R=l[Math.floor(Math.random()*l.length)],U=e.createRadialGradient(g,h,0,g,h,Math.max(i,y)/2);U.addColorStop(0,R),U.addColorStop(1,"transparent"),e.fillStyle=U,e.beginPath(),e.arc(g,h,Math.max(i,y)/2,0,Math.PI*2),e.fill()}e.globalAlpha=.05;for(let c=0;c<200;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*30+10,y=Math.random()*4+1,l=Math.random()*Math.PI*2;e.save(),e.translate(g,h),e.rotate(l),e.fillStyle=Math.random()>.5?s:n,e.fillRect(-i/2,-y/2,i,y),e.restore()}e.globalAlpha=.06;for(let c=0;c<1500;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*1.5+.3;e.fillStyle=Math.random()>.5?s:n,e.beginPath(),e.arc(g,h,i,0,Math.PI*2),e.fill()}e.globalAlpha=.04;for(let c=0;c<80;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*25+10,y=e.createRadialGradient(g,h,0,g,h,i);y.addColorStop(0,Math.random()>.5?p:a),y.addColorStop(1,"transparent"),e.fillStyle=y,e.beginPath(),e.arc(g,h,i,0,Math.PI*2),e.fill()}e.globalAlpha=.03;for(let c=0;c<8e3;c++){const g=Math.random()*1024,h=Math.random()*1024,i=[s,n,a,p,f],y=i[Math.floor(Math.random()*i.length)];e.fillStyle=y,e.fillRect(g,h,1,1)}e.globalAlpha=.02;for(let c=0;c<15;c++){const g=Math.random()*1024,h=Math.random()*1024,i=g+(Math.random()*200-100),y=h+(Math.random()*40-20),l=e.createLinearGradient(g,h,i,y);l.addColorStop(0,"transparent"),l.addColorStop(.5,Math.random()>.5?s:n),l.addColorStop(1,"transparent"),e.strokeStyle=l,e.lineWidth=Math.random()*3+1,e.beginPath(),e.moveTo(g,h),e.lineTo(i,y),e.stroke()}e.globalAlpha=1;const b=new $(t);return b.wrapS=O,b.wrapT=O,b.repeat.set(1,1),b.generateMipmaps=!0,b.minFilter=H,b.magFilter=B,b},[]),I=D.useMemo(()=>{const t=document.createElement("canvas");t.width=512,t.height=512;const e=t.getContext("2d");e.fillStyle="#8080FF",e.fillRect(0,0,512,512),e.globalAlpha=.1;for(let s=0;s<800;s++){const n=Math.random()*512,a=Math.random()*512,p=Math.random()*1.5+.3,f=128+(Math.random()-.5)*10,b=128+(Math.random()-.5)*10,c=255-Math.random()*15;e.fillStyle=`rgb(${f}, ${b}, ${c})`,e.fillRect(n,a,p,p)}e.globalAlpha=.08;for(let s=0;s<30;s++){const n=Math.random()*512,a=Math.random()*512,p=Math.random()*15+5,f=Math.random()*2+.5,b=Math.random()*Math.PI*2;e.save(),e.translate(n,a),e.rotate(b),e.fillStyle="#7878E8",e.fillRect(-p/2,-f/2,p,f),e.restore()}e.globalAlpha=1;const r=new $(t);return r.wrapS=O,r.wrapT=O,r.repeat.set(1,1),r},[]),N=D.useMemo(()=>{const t=document.createElement("canvas");t.width=1024,t.height=1024;const e=t.getContext("2d"),r="#808080",s="#A0A0A0",n="#606060",a="#B8A082",p="#D4C4A8",f="#8B8680";e.fillStyle=r,e.fillRect(0,0,1024,1024);for(let c=0;c<2e3;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*3+1,y=[s,a,p,f],l=y[Math.floor(Math.random()*y.length)];e.fillStyle=l,e.globalAlpha=Math.random()*.3+.1,e.fillRect(g,h,i,i)}e.globalAlpha=.15;for(let c=0;c<800;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*15+5,y=Math.random()*2+1;e.fillStyle=Math.random()>.7?a:s,e.fillRect(g,h,i,y)}for(let c=0;c<400;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*2+1,y=Math.random()*12+4;e.fillStyle=Math.random()>.6?p:n,e.fillRect(g,h,i,y)}e.globalAlpha=.08;for(let c=0;c<100;c++){const g=Math.random()*1024,h=Math.random()*1024,i=Math.random()*25+10,y=e.createRadialGradient(g,h,0,g,h,i);y.addColorStop(0,a),y.addColorStop(1,"transparent"),e.fillStyle=y,e.beginPath(),e.arc(g,h,i,0,Math.PI*2),e.fill()}e.globalAlpha=.05;for(let c=0;c<5e3;c++){const g=Math.random()*1024,h=Math.random()*1024,i=[s,n,a,f],y=i[Math.floor(Math.random()*i.length)];e.fillStyle=y,e.fillRect(g,h,1,1)}e.globalAlpha=1;const b=new $(t);return b.wrapS=O,b.wrapT=O,b.repeat.set(2,2),b.generateMipmaps=!0,b.minFilter=H,b.magFilter=B,b},[]),v=D.useMemo(()=>{const t=document.createElement("canvas");t.width=512,t.height=512;const e=t.getContext("2d");e.fillStyle="#8080FF",e.fillRect(0,0,512,512);for(let s=0;s<1e3;s++){const n=Math.random()*512,a=Math.random()*512,p=Math.random()*2+1,f=128+(Math.random()-.5)*20,b=128+(Math.random()-.5)*20,c=255-Math.random()*30;e.fillStyle=`rgb(${f}, ${b}, ${c})`,e.globalAlpha=.3,e.fillRect(n,a,p,p)}e.globalAlpha=1;const r=new $(t);return r.wrapS=O,r.wrapT=O,r.repeat.set(2,2),r},[]),j=D.useMemo(()=>({parede:new k({map:A,normalMap:w,normalScale:new G(.4,.4),color:"#7A7A7A",roughness:.85,metalness:0,envMapIntensity:.25,transparent:!1,opacity:1,emissive:"#1A1A1A",emissiveIntensity:.01}),piso:new k({map:A,normalMap:w,normalScale:new G(.2,.2),color:"#808080",roughness:.3,metalness:0,envMapIntensity:.4,transparent:!1,opacity:1,emissive:"#1C1C1C",emissiveIntensity:.01}),esquadria:new ee({color:"#F0F8FF",transparent:!0,opacity:.15,transmission:.95,thickness:.5,ior:1.52,roughness:0,metalness:0,map:C,normalMap:V,normalScale:new G(.1,.1),envMapIntensity:8.5,reflectivity:.9,clearcoat:1,clearcoatRoughness:0,emissive:"#E6F0FF",emissiveIntensity:.08,sheen:.2,sheenColor:"#E0F0FF",specularIntensity:1,specularColor:"#FFFFFF",side:oe}),telhado:new k({map:S,normalMap:M,normalScale:new G(.8,.8),color:"#C5C5C5",roughness:.95,metalness:0,envMapIntensity:.1,transparent:!1,opacity:1,flatShading:!1,emissive:"#2A2A2A",emissiveIntensity:.01}),pilar:new k({map:A,normalMap:w,normalScale:new G(.5,.5),color:"#707070",roughness:.8,metalness:0,envMapIntensity:.3,transparent:!1,opacity:1,emissive:"#181818",emissiveIntensity:.01}),vidro:new ee({color:"#F8FBFF",transparent:!0,opacity:.08,transmission:.98,thickness:.3,ior:1.52,roughness:0,metalness:0,map:C,normalMap:V,normalScale:new G(.05,.05),envMapIntensity:9,reflectivity:.95,clearcoat:1,clearcoatRoughness:0,emissive:"#EEF5FF",emissiveIntensity:.05,sheen:.1,sheenColor:"#E8F2FF",specularIntensity:1,specularColor:"#FFFFFF",side:oe}),papelPicado:new k({map:N,normalMap:v,normalScale:new G(.3,.3),color:"#898989",roughness:.85,metalness:0,envMapIntensity:.2,transparent:!1,opacity:1,emissive:"#1A1A1A",emissiveIntensity:.02}),tintaCinza:new k({map:P,normalMap:I,normalScale:new G(.1,.1),color:"#888888",roughness:.25,metalness:0,envMapIntensity:.35,transparent:!1,opacity:1,emissive:"#1E1E1E",emissiveIntensity:.005}),default:new k({color:"#404040",roughness:.7,metalness:0,envMapIntensity:.4})}),[C,V,S,M,A,w,P,I,N,v]),d=t=>{const e=t.toLowerCase();return e.includes("1.3_")||e.includes("2.3_")||e.includes("revestimento")&&e.includes("parede")?(console.log(`🎨 PAPEL PICADO detectado: ${t}`),j.papelPicado):e.includes("parede")||e.includes("alvenaria")?(console.log(`🏗️ PAREDE detectada: ${t}`),j.parede):e.includes("piso")||e.includes("laje")?(console.log(`🏠 PISO detectado: ${t}`),j.piso):e.includes("porta")||e.includes("janela")||e.includes("esquadria")||e.includes("folha")||e.includes("basculante")||e.includes("correr")||e.includes("madeira")||e.includes("abrir")||e.includes("extern")||e.includes("fachada")||e.includes("front")||e.includes("entrada")||e.includes("door")||e.includes("window")||e.includes("frame")||e.includes("modelo")||e.includes("080x210")||e.includes("050x05")||e.includes("100_x_120")||e.includes("correr")||e.includes("basculante")?(console.log(`🚪🪟 ESQUADRIA EXTERNA (porta/janela) com VIDRO REALISTA detectada: ${t}`),j.esquadria):e.includes("telhado")||e.includes("telha")||e.includes("2.6_")||e.includes("fibrocimento")||e.includes("fiber")||e.includes("cement")||e.includes("roof")||e.includes("tile")?(console.log(`🏠 TELHADO/FIBROCIMENTO detectado: ${t}`),j.telhado):e.includes("pilar")||e.includes("viga")?(console.log(`🏗️ PILAR/VIGA detectado: ${t}`),j.pilar):e.includes("vidro")||e.includes("glass")||e.includes("transparente")||e.includes("cristal")||e.includes("vitro")?(console.log(`🪟 VIDRO REALISTA detectado: ${t}`),j.vidro):e.includes("cinza")||e.includes("gray")||e.includes("grey")||e.includes("tinta")||e.includes("paint")||e.includes("pintura")?(console.log(`🎨 TINTA CINZA detectada: ${t}`),j.tintaCinza):(console.log(`⚪ PADRÃO aplicado: ${t}`),j.default)};D.useEffect(()=>{if(console.log("🔍 ===== INICIANDO EXTRAÇÃO DE ELEMENTOS ====="),console.log("🔍 Scene disponível?",!!u),console.log("🔍 onElementsExtracted disponível?",!!E),u&&E){const t=[],e={},r={},s=(l,R=0,U="")=>{const re="  ".repeat(R),K=U?`${U}/${l.name}`:l.name;if(l.name&&l.name.trim()!==""){t.push(l.name),r[l.name]={level:R,parentPath:U,currentPath:K,children:l.children.map(q=>q.name).filter(q=>q),type:l.type,isMesh:l instanceof z,isGroup:l instanceof ge},console.log(`${re}📁 ${l.name} (${l.type}) - Level: ${R} - Path: ${K}`);const Q=l.name.match(/^(\d+\.\d+)_\.(\d+)$/);if(Q){const q=Q[1];e[q]||(e[q]=[]),e[q].push(l),console.log(`📁 ELEMENTO DA COLECÇÃO PAI: "${l.name}" -> Coleção: "${q}"`)}(l.name==="1.1"||l.name==="1.2"||l.name==="2.1"||l.name==="2.2"||l.name==="2.3"||l.name==="3.1"||l.name==="3.2")&&console.log(`📁 COLECÇÃO PAI ENCONTRADA: "${l.name}"`)}l.children.forEach(Q=>{s(Q,R+1,K)})};console.log("🏗️ ===== ANÁLISE COMPLETA DA HIERARQUIA GLB ====="),s(u),window.glbHierarchy=r,window.glbScene=u,console.log("📊 Hierarquia completa:",r),u.traverse(l=>{if(l instanceof z&&!l.userData.materialApplied){const R=d(l.name);l.userData.originalMaterial||(l.userData.originalMaterial=l.material),l.material=R,l.userData.materialApplied=!0,l.castShadow=!0,l.receiveShadow=!0,console.log(`🎨 Material aplicado em: ${l.name} - Tipo: ${R.color.getHexString()}`)}}),window.glbCollections=e,console.log("📁 ===== COLECÇÕES IDENTIFICADAS ====="),console.log("📁 Total de subcoleções:",Object.keys(e).length),Object.entries(e).forEach(([l,R])=>{console.log(`📁 Subcoleção "${l}": ${R.length} objetos`)}),console.log("📦 ===== ELEMENTOS 3D EXTRAÍDOS ====="),console.log("📦 Total de elementos:",t.length),console.log("📦 Primeiros 10 elementos:",t.slice(0,10)),console.log("📦 Elementos com underscore:",t.filter(l=>l.includes("_")).slice(0,10)),console.log("📦 ===== ANÁLISE DAS COLECÇÕES DO BLENDER =====");const n=t.filter(l=>l.includes("Paredes")||l.includes("Piso")||l.includes("Esquadrias")||l.includes("Telhado"));console.log("📦 Coleções do Blender encontradas:",n),console.log("📦 ===== ANÁLISE DAS ESQUADRIAS =====");const a=t.filter(l=>l.includes("Esquadrias")||l.includes("Porta")||l.includes("Janela")||l.includes("esquadria"));console.log("📦 Esquadrias encontradas:",a),console.log("📦 Total de esquadrias:",a.length);const p=t.filter(l=>l.startsWith("1.1_"));console.log("📦 ===== ELEMENTOS 1.1_ (VIGAS) ====="),console.log("📦 Quantidade de elementos 1.1_:",p.length),console.log("📦 Lista completa dos elementos 1.1_:",p.sort());const f=t.filter(l=>l.includes("1.1_")||l.includes("1.2_")||l.includes("2.1_")||l.includes("2.2_")||l.includes("2.3_")||l.includes("3.1_")||l.includes("3.2_"));console.log("🏗️ ===== TODAS AS SUBCOLEÇÕES ====="),console.log("🏗️ Total de subcoleções:",f.length),console.log("🏗️ Lista todas subcoleções:",f.sort()),window.glbSubcolecoes=f;const b=t.filter(l=>l.startsWith("1.2_"));console.log("📦 ===== ELEMENTOS 1.2_ (PILARES) ====="),console.log("📦 Quantidade de elementos 1.2_:",b.length),console.log("📦 Lista completa dos elementos 1.2_:",b.sort());const c=t.filter(l=>l.startsWith("2.1_"));console.log("📦 ===== ELEMENTOS 2.1_ (VIGAS TÉRREO) ====="),console.log("📦 Quantidade de elementos 2.1_:",c.length),console.log("📦 Lista completa dos elementos 2.1_:",c.sort());const g=t.filter(l=>l.startsWith("2.2_"));console.log("📦 ===== ELEMENTOS 2.2_ (PILARES TÉRREO) ====="),console.log("📦 Quantidade de elementos 2.2_:",g.length),console.log("📦 Lista completa dos elementos 2.2_:",g.sort());const h=t.filter(l=>l.startsWith("2.3_"));console.log("📦 ===== ELEMENTOS 2.3_ (LAJES TÉRREO) ====="),console.log("📦 Quantidade de elementos 2.3_:",h.length),console.log("📦 Lista completa dos elementos 2.3_:",h.sort());const i=t.filter(l=>l.startsWith("3.1_"));console.log("📦 ===== ELEMENTOS 3.1_ (VIGAS SUPERIOR) ====="),console.log("📦 Quantidade de elementos 3.1_:",i.length),console.log("📦 Lista completa dos elementos 3.1_:",i.sort());const y=t.filter(l=>l.startsWith("3.2_"));console.log("📦 ===== ELEMENTOS 3.2_ (PILARES SUPERIOR) ====="),console.log("📦 Quantidade de elementos 3.2_:",y.length),console.log("📦 Lista completa dos elementos 3.2_:",y.sort()),console.log("📦 ===== TODOS OS ELEMENTOS (ORDENADOS) ====="),console.log("📦 Lista completa ordenada:",t.sort()),console.log("📦 Total de elementos extraídos:",t.length),console.log("📦 Chamando onElementsExtracted com",t.length,"elementos"),E(t),console.log("✅ onElementsExtracted chamado com sucesso!")}else console.log("❌ Não foi possível extrair elementos - Scene ou onElementsExtracted não disponível")},[u,E]),D.useEffect(()=>{if(console.log("🎨 ===== INICIANDO HIGHLIGHTING ====="),console.log("🎨 Elementos para destacar:",m.length),console.log("🎨 Lista completa:",m),console.log("🎨 Scene disponível:",!!u),console.log("🎨 Scene children count:",u?u.children.length:0),m.some(t=>t.startsWith("1.1_"))){const t=m.filter(e=>e.startsWith("1.1_"));console.log("🏗️ ===== DESTACANDO ELEMENTOS 1.1_ (VIGAS) ====="),console.log("🏗️ Quantidade de elementos 1.1_ a destacar:",t.length),console.log("🏗️ Lista dos elementos 1.1_ a destacar:",t.sort())}if(u&&(console.log("🔍 ===== DEBUG SCENE ====="),console.log("🔍 Scene name:",u.name),console.log("🔍 Scene type:",u.type),console.log("🔍 Scene children:",u.children.map(t=>({name:t.name,type:t.type})))),u){let t=0,e=0,r=[];console.log("🎨 ===== USANDO ELEMENTOS INDIVIDUAIS PARA HIGHLIGHTING ====="),console.log("🎨 Elementos para destacar:",m),console.log("🎨 Quantidade de elementos para destacar:",m.length),u.traverse(a=>{if(a instanceof z){e++;const p=m.includes(a.name),f=T.has(a.name);if(a.visible=!f,f){console.log(`👁️ Elemento ocultado: ${a.name}`);return}if(a.name&&(a.name.includes("11_")||a.name.includes("1.1_")||a.name.includes("12_")||a.name.includes("21_")||a.name.includes("22_"))&&(console.log(`🔍 MESH ESTRUTURAL ENCONTRADO: ${a.name} - Highlighted: ${p}`),console.log(`🔍 Elementos destacados incluem ${a.name}?`,m.includes(a.name))),p)if(t++,r.push(a.name),a.name.startsWith("1.1_")?console.log(`🏗️ VIGA DESTACADA: ${a.name} - Posição:`,a.position):console.log(`🟠 DESTACANDO: ${a.name}`),a.material){a.userData.originalMaterial||(a.userData.originalMaterial=a.material.clone(),console.log(`💾 Material original salvo para: ${a.name}`));const b=new k({color:16729344,emissive:16737095,emissiveIntensity:1.2,metalness:0,roughness:.1,envMapIntensity:4,transparent:!1,opacity:1});a.material=b,a.material.map&&(a.material.map.needsUpdate=!0),a.name.startsWith("1.1_")?console.log(`🏗️ VIGA LARANJA APLICADA: ${a.name} - Cor: #ff6600`):(console.log(`🟠 MATERIAL LARANJA APLICADO: ${a.name}`),console.log("🟠 Material vibrante aplicado: #FF4500 (laranja com efeitos)"),console.log("🟠 Material realista aplicado"))}else console.log(`⚠️ Material não encontrado para: ${a.name}`);else{const b=a.userData.originalMaterial;if(b)a.material=b;else{const c=new k({color:"#6A6A6A",roughness:.7,metalness:.1,normalScale:new G(.5,.5)});a.material=c}console.log(`🔄 Material original restaurado para: ${a.name}`)}}}),console.log("🎨 ===== RESULTADO HIGHLIGHTING ====="),console.log(`🎨 Total de meshes: ${e}`),console.log(`🎨 Meshes destacados: ${t}`),console.log("🎨 Elementos encontrados:",r),console.log("🎨 Elementos não encontrados:",m.filter(a=>!r.includes(a)));const s=r.filter(a=>a.startsWith("1.1_")),n=m.filter(a=>a.startsWith("1.1_")&&!r.includes(a));(s.length>0||n.length>0)&&(console.log("🏗️ ===== RESUMO VIGAS (1.1_) ====="),console.log(`🏗️ Vigas encontradas e destacadas: ${s.length}`),console.log("🏗️ Lista das vigas destacadas:",s.sort()),console.log(`🏗️ Vigas não encontradas: ${n.length}`),n.length>0&&console.log("🏗️ Lista das vigas não encontradas:",n.sort()))}else console.log("❌ Scene não disponível para highlighting")},[u,m,T]);const L=t=>{t.stopPropagation();const e=t.object.name;console.log("🖱️ Elemento clicado:",e),_&&_(e)};return u?(console.log("✅ StructuralModel - Renderizando modelo GLB"),o.jsx("group",{ref:x,children:o.jsx("primitive",{object:u,onClick:L,onPointerOver:t=>{t.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:t=>{t.stopPropagation(),document.body.style.cursor="auto"}})})):(console.log("❌ StructuralModel - Scene não carregada, renderizando fallback"),o.jsx("group",{children:o.jsxs("mesh",{position:[0,0,0],children:[o.jsx("boxGeometry",{args:[2,2,2]}),o.jsx("meshStandardMaterial",{color:"#ff6b6b"})]})}))}function $e(m){const[T,E]=D.useState([]),[_,x]=D.useState([]),[u,C]=D.useState([]),[V,S]=D.useState(new Set);D.useEffect(()=>{(async()=>{try{const P=await(await fetch("/mapeamento-elementos.json")).json();window.mapeamentoElementos=P,console.log("🗺️ Mapeamento de elementos carregado:",P)}catch(w){console.log("⚠️ Erro ao carregar mapeamento:",w)}})()},[]),D.useEffect(()=>{console.log("🔍 ===== DEBUG DADOS PLANILHA ====="),console.log("📊 Total de itens 5D:",m.length),window.itens5D=m,window.debugData={itens:m,timestamp:new Date().toISOString()},m.slice(0,5).forEach((P,I)=>{console.log(`📋 Item ${I+1}:`,{id:P.id,codigo:P.codigo,descricao:P.descricao,elementos3D:P.elementos3D,allKeys:Object.keys(P)})});const A=m.some(P=>P.elementos3D&&P.elementos3D.trim()!=="");console.log("🔗 Itens com elementos3D:",A),A||(console.log('⚠️ ATENÇÃO: Nenhum item possui a coluna "elementos3D" preenchida!'),console.log("💡 Verifique se a coluna existe na planilha CSV e se os dados foram carregados corretamente"));const w=m.filter(P=>P.elementos3D&&P.elementos3D.trim()!=="");console.log("📊 ===== RESUMO DA LINCAGEM ====="),console.log(`📊 Total de itens: ${m.length}`),console.log(`📊 Itens com elementos3D: ${w.length}`),w.forEach(P=>{const I=P.elementos3D.split(",").map(N=>N.trim()).filter(N=>N!=="");console.log(`📋 ${P.id} (${P.descricao}): ${I.length} elementos`),console.log(`   Primeiros 5: ${I.slice(0,5).join(", ")}`)})},[m]),D.useEffect(()=>{if(u.length>0){console.log("🎯 ===== DEBUG ELEMENTOS GLB ====="),console.log("📦 Total de elementos GLB:",u.length),console.log("🔤 Primeiros 20 elementos GLB:",u.slice(0,20)),window.glbElements=u,window.debugData={...window.debugData,glbElements:u,glbTimestamp:new Date().toISOString()};const A={withNumbers:u.filter(w=>/\d/.test(w)),withUnderscore:u.filter(w=>w.includes("_")),withDots:u.filter(w=>w.includes(".")),collections:u.filter(w=>w.toLowerCase().includes("collection")||w.toLowerCase().includes("colecao"))};Object.entries(A).forEach(([w,P])=>{P.length>0&&console.log(`🔸 Elementos ${w}:`,P.slice(0,10))})}},[u]);const M=D.useCallback(A=>{const w=A.id,P=A.codigo,I=A.descricao||"",N=A.elementos3D||"";console.log("🔍 ===== LÓGICA DE LINCAGEM INTELIGENTE ====="),console.log("📋 Item:",{id:w,codigo:P,descricao:I,elementos3D:N}),console.log("📦 Total de elementos GLB disponíveis:",u.length);let v=[];const j=w||P;if(console.log("🎯 Código do item:",j),j){const d=j.replace(".","");console.log("🔢 Código numérico:",d);const L=u.filter(e=>e.startsWith(d+"_"));if(L.length>0)return console.log(`✅ Encontrados ${L.length} elementos para código ${j}:`,L),v=L,v;const t=I.toLowerCase();if(console.log("📝 Descrição:",t),t.includes("paredes")){const e=u.filter(r=>{const s=r.toLowerCase(),n=s.includes("paredes")||s.includes("wall")||s.includes("parede");if(j){const a=j.replace(".","");return n&&r.startsWith(a+"_")}return n});if(e.length>0)return console.log("✅ Elementos de paredes encontrados:",e),v=e,v}if(t.includes("piso")){const e=u.filter(r=>{const s=r.toLowerCase(),n=s.includes("piso")||s.includes("floor")||s.includes("laje");if(j){const a=j.replace(".","");return n&&r.startsWith(a+"_")}return n});if(e.length>0)return console.log("✅ Elementos de piso encontrados:",e),v=e,v}if(t.includes("esquadrias")){const e=u.filter(r=>{const s=r.toLowerCase(),n=s.includes("esquadrias")||s.includes("door")||s.includes("window")||s.includes("porta")||s.includes("janela");if(j){const a=j.replace(".","");return n&&r.startsWith(a+"_")}return n});if(e.length>0)return console.log("✅ Elementos de esquadrias encontrados:",e),v=e,v}if(t.includes("telhado")){const e=u.filter(r=>{const s=r.toLowerCase(),n=s.includes("telhado")||s.includes("roof")||s.includes("telha");if(j){const a=j.replace(".","");return n&&r.startsWith(a+"_")}return n});if(e.length>0)return console.log("✅ Elementos de telhado encontrados:",e),v=e,v}if(t.includes("vigas")){const e=u.filter(r=>{const s=r.toLowerCase();return s.includes("vigas")||s.includes("beam")||s.includes("viga")});if(e.length>0)return console.log("✅ Elementos de vigas encontrados:",e),v=e,v}if(t.includes("pilares")){const e=u.filter(r=>{const s=r.toLowerCase();return s.includes("pilares")||s.includes("column")||s.includes("pilar")});if(e.length>0)return console.log("✅ Elementos de pilares encontrados:",e),v=e,v}if(t.includes("fundações")){const e=u.filter(r=>{const s=r.toLowerCase();return s.includes("fundações")||s.includes("foundation")||s.includes("fundacao")});if(e.length>0)return console.log("✅ Elementos de fundações encontrados:",e),v=e,v}}if(N&&N.trim()!==""){console.log("🎯 Tentando mapear pelos elementos3D da planilha:",N);const d=N.split(",").map(L=>L.trim()).filter(L=>L!=="");console.log("📋 Lista de elementos da planilha:",d);for(const L of d){const t=u.find(r=>r===L);if(t){console.log("✅ Elemento exato encontrado:",t),v.push(t);continue}const e=L.split(".");if(e.length>=2){const r=e[0],s=e[e.length-1],n=r.replace(/\s.*/,"").replace(".",""),a=r.replace(/^\d+\.\d+\s*/,"").replace(/\s+/g,"_"),p=`${n}_${a}${s}`,f=u.find(b=>b===p);f&&(console.log("✅ Elemento encontrado por conversão:",f),v.push(f))}}}return v.length>0?(console.log(`✅ Total de elementos encontrados: ${v.length}`),v):(console.log("❌ Nenhum elemento encontrado para este item"),[])},[u]);return{selectedItems:T,highlightedElements:_,setGlbElements:C,setHighlightedElements:x,findMatchingElements:M,handleItemSelect:D.useCallback(A=>{const w=A.id;console.log("🖱️ ===== ITEM CLICADO ====="),console.log("📋 Item completo:",A),E(P=>{if(P.includes(w))return console.log("🔄 DESSELECIONANDO item:",w),x([]),[];{console.log("🔄 SELECIONANDO item:",w);const N=M(A);return console.log("🎯 Elementos encontrados:",N.length),x(N),[w]}})},[M]),toggleElementVisibility:D.useCallback(A=>{const w=A.id;if(console.log("👁️ ===== TOGGLE VISIBILIDADE ====="),console.log("👁️ Item recebido:",A),console.log("👁️ ID do item:",w),console.log("👁️ É subcoleção?",A.isSubcollection),console.log("👁️ Elementos3D:",A.elementos3D),A.isEtapaTotal){console.log("👁️ Categoria principal - controlando todas as subcategorias da categoria:",w);const P=m.filter(v=>{var j;return!v.isEtapaTotal&&((j=v.codigo)==null?void 0:j.startsWith(A.codigo||""))});console.log(`👁️ Encontradas ${P.length} subcategorias para controlar`);let I=!1;const N=[];P.forEach(v=>{const j=M(v);N.push(...j),j.some(d=>V.has(d))&&(I=!0)}),I?(console.log("👁️ Mostrando todos os elementos da categoria"),S(v=>{const j=new Set(v);return N.forEach(d=>j.delete(d)),j})):(console.log("👁️ Ocultando todos os elementos da categoria"),S(v=>{const j=new Set(v);return N.forEach(d=>j.add(d)),j}))}else{console.log("👁️ Processando subcategoria individual ou subcoleção");const P=M(A);console.log("👁️ Elementos encontrados pelo findMatchingElements:",P),console.log("👁️ Total de elementos encontrados:",P.length);const I=P.some(N=>V.has(N));console.log("👁️ Tem elementos ocultos?",I),console.log("👁️ Hidden elements atual:",Array.from(V)),I?(console.log("👁️ MOSTRANDO elementos da subcategoria/subcoleção:",w),console.log("👁️ Elementos que serão mostrados:",P),S(N=>{const v=new Set(N);return P.forEach(j=>{console.log(`👁️ Removendo "${j}" de hiddenElements`),v.delete(j)}),console.log("👁️ Novo hiddenElements após mostrar:",Array.from(v)),v})):(console.log("👁️ OCULTANDO elementos da subcategoria/subcoleção:",w),console.log("👁️ Elementos que serão ocultados:",P),S(N=>{const v=new Set(N);return P.forEach(j=>{console.log(`👁️ Adicionando "${j}" a hiddenElements`),v.add(j)}),console.log("👁️ Novo hiddenElements após ocultar:",Array.from(v)),v}))}},[M,V,m]),hiddenElements:V}}function ke(){const{itens:m}=Y(),{selectedItems:T,highlightedElements:E,hiddenElements:_,setGlbElements:x,handleItemSelect:u,toggleElementVisibility:C}=$e(m);D.useEffect(()=>{m&&m.length>0&&console.log("✅ Dados carregados:",m.length,"itens")},[m]);const V=D.useCallback(M=>{console.log("🎯 ===== ELEMENTOS RECEBIDOS DO MODELO 3D ====="),console.log("🎯 Total de elementos recebidos:",M.length),console.log("🎯 Primeiros 10 elementos:",M.slice(0,10)),console.log("🎯 Chamando setGlbElements..."),x(M),console.log("✅ setGlbElements chamado com sucesso!")},[x]),S=M=>{console.log("🏗️ Destacando categoria:",M)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"bg-white/80 rounded-2xl shadow-xl overflow-hidden",children:o.jsx("div",{className:"h-96 lg:h-[520px]",children:o.jsx(ne,{camera:{position:[20,20,20],fov:60},children:o.jsxs(D.Suspense,{fallback:o.jsx(Oe,{}),children:[o.jsx("ambientLight",{intensity:.4,color:"#F5F5F0"}),o.jsx("directionalLight",{position:[30,40,25],intensity:1.8,color:"#FFFAF0",castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-camera-near":.1,"shadow-camera-far":300,"shadow-camera-left":-50,"shadow-camera-right":50,"shadow-camera-top":50,"shadow-camera-bottom":-50,"shadow-bias":-2e-4}),o.jsx("directionalLight",{position:[-20,25,-15],intensity:.6,color:"#F0F8FF"}),o.jsx("pointLight",{position:[15,12,15],intensity:.8,color:"#FFF8DC",distance:40,decay:1.5}),o.jsx("pointLight",{position:[-10,8,-10],intensity:.4,color:"#F5F5DC",distance:30,decay:2}),o.jsx(ie,{}),o.jsx(Fe,{highlightedElements:E,hiddenElements:_,onElementsExtracted:V,onElementClick:M=>console.log("Elemento clicado:",M)})]})})})}),o.jsx("div",{className:"bg-white/80 rounded-2xl shadow-xl overflow-hidden",children:o.jsx("div",{className:"max-h-[520px] overflow-y-auto",children:o.jsx(Ie,{itens:m,selectedItems:T,onItemSelect:u,onCategorySelect:S,onToggleVisibility:C,hiddenElements:_})})})]})})})}const Ge=()=>o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"h-[calc(100vh-60px)] w-full overflow-hidden relative",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full bg-gray-50 z-10 pointer-events-none",style:{height:"80px"}}),o.jsx("iframe",{src:"https://gerenciamentoprojetos-ashen.vercel.app/",className:"w-full h-full border-0",title:"Gerenciamento de Projetos",allow:"fullscreen",sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",style:{minHeight:"600px",border:"none",borderRadius:"0 0 8px 8px",transform:"translateY(-80px)",height:"calc(100% + 80px)"}})]})}),qe=()=>{var _;const[m,T]=D.useState("diario"),E=[{id:"diario",label:"Diário de Obra",icon:Ee,content:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Diário de Obra"}),o.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Nova Entrada"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Início"}),o.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim"}),o.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsável"}),o.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:o.jsx("option",{children:"Todos"})})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{className:"w-full bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Filtrar"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:o.jsx("p",{className:"text-gray-500",children:"Nenhuma entrada encontrada"})})]})},{id:"notas",label:"Controle de Notas",icon:Pe,content:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Controle de Notas"}),o.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Nova Nota"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Período"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{children:"Último mês"}),o.jsx("option",{children:"Últimos 3 meses"}),o.jsx("option",{children:"Últimos 6 meses"}),o.jsx("option",{children:"Último ano"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{children:"Todos"}),o.jsx("option",{children:"Pendente"}),o.jsx("option",{children:"Aprovado"}),o.jsx("option",{children:"Rejeitado"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),o.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:o.jsx("option",{children:"Todos"})})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{className:"w-full bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Buscar"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:o.jsx("p",{className:"text-gray-500",children:"Nenhuma nota encontrada"})})]})},{id:"fornecedores",label:"Fornecedores",icon:Ve,content:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Fornecedores"}),o.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Novo Fornecedor"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:o.jsx("p",{className:"text-gray-500",children:"Nenhum fornecedor cadastrado"})})]})},{id:"insumos",label:"Controle de Insumos",icon:J,content:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Controle de Insumos"}),o.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Novo Insumo"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{children:"Todas"}),o.jsx("option",{children:"Concreto"}),o.jsx("option",{children:"Ferro e Aço"}),o.jsx("option",{children:"Materiais de Construção"}),o.jsx("option",{children:"Ferramentas"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{children:"Todos"}),o.jsx("option",{children:"Em estoque"}),o.jsx("option",{children:"Baixo estoque"}),o.jsx("option",{children:"Sem estoque"})]})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{className:"w-full bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Buscar"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:o.jsx("p",{className:"text-gray-500",children:"Nenhum insumo cadastrado"})})]})}];return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white shadow-sm border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsx("div",{className:"flex items-center",children:o.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Gerenciamento de Obra"})})})})}),o.jsx("div",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("nav",{className:"flex space-x-8",children:E.map(x=>{const u=m===x.id,C=x.icon;return o.jsxs("button",{onClick:()=>T(x.id),className:`
                    group inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors
                    ${u?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}
                  `,children:[o.jsx(C,{className:`h-5 w-5 mr-2 ${u?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),x.label]},x.id)})})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(_=E.find(x=>x.id===m))==null?void 0:_.content})]})},Ue=()=>o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-600 mx-auto mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Carregando Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Analisando dados do Lote 10x30 - 10 Apartamentos..."})]})});function He(){const[m,T]=D.useState("resumo"),{setItens:E}=Y(),[_,x]=D.useState(!0);if(D.useEffect(()=>{(async()=>{try{x(!0);const V=await xe();E(V)}catch(V){console.error("Erro ao carregar dados:",V)}finally{x(!1)}})()},[E]),_)return o.jsx(Ue,{});const u=()=>{switch(m){case"resumo":return o.jsx(te,{});case"5d":return o.jsx(ke,{});case"gerenciamento-projetos":return o.jsx(Ge,{});case"gerenciamento-obra":return o.jsx(qe,{});default:return o.jsx(te,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(be,{}),o.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-4 lg:py-8",children:[o.jsx(Re,{activeTab:m,onTabChange:T}),o.jsx("div",{className:"mt-2 sm:mt-4 lg:mt-6",children:u()})]})]})}he.createRoot(document.getElementById("root")).render(o.jsx(ue.StrictMode,{children:o.jsx(He,{})}));
